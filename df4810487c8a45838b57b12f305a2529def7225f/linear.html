<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { color: #585cf6; } /* Constant */
code span.co { color: #4c886b; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.dv { color: #0000cd; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cd; } /* Float */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { color: #687687; } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #036a07; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>OCEAN 5098: Linear models</title>


  <link rel="license" href="https://creativecommons.org/licenses/by/4.0/"/>
  <link rel="icon" type="image/png" href="images/logo.png"/>


  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="OCEAN 5098: Linear models"/>
  <meta property="og:type" content="article"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:site_name" content="OCEAN 5098"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="OCEAN 5098: Linear models"/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title"]}},"value":[{"type":"character","attributes":{},"value":["Linear models"]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  <!--radix_placeholder_navigation_in_header-->
  <meta name="distill:offset" content=""/>

  <script type="application/javascript">

    window.headroom_prevent_pin = false;

    window.document.addEventListener("DOMContentLoaded", function (event) {

      // initialize headroom for banner
      var header = $('header').get(0);
      var headerHeight = header.offsetHeight;
      var headroom = new Headroom(header, {
        tolerance: 5,
        onPin : function() {
          if (window.headroom_prevent_pin) {
            window.headroom_prevent_pin = false;
            headroom.unpin();
          }
        }
      });
      headroom.init();
      if(window.location.hash)
        headroom.unpin();
      $(header).addClass('headroom--transition');

      // offset scroll location for banner on hash change
      // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
      window.addEventListener("hashchange", function(event) {
        window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
      });

      // responsive menu
      $('.distill-site-header').each(function(i, val) {
        var topnav = $(this);
        var toggle = topnav.find('.nav-toggle');
        toggle.on('click', function() {
          topnav.toggleClass('responsive');
        });
      });

      // nav dropdowns
      $('.nav-dropbtn').click(function(e) {
        $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
        $(this).parent().siblings('.nav-dropdown')
           .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $("body").click(function(e){
        $('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $(".nav-dropdown").click(function(e){
        e.stopPropagation();
      });
    });
  </script>

  <style type="text/css">

  /* Theme (user-documented overrideables for nav appearance) */

  .distill-site-nav {
    color: rgba(255, 255, 255, 0.8);
    background-color: #0F2E3D;
    font-size: 15px;
    font-weight: 300;
  }

  .distill-site-nav a {
    color: inherit;
    text-decoration: none;
  }

  .distill-site-nav a:hover {
    color: white;
  }

  @media print {
    .distill-site-nav {
      display: none;
    }
  }

  .distill-site-header {

  }

  .distill-site-footer {

  }


  /* Site Header */

  .distill-site-header {
    width: 100%;
    box-sizing: border-box;
    z-index: 3;
  }

  .distill-site-header .nav-left {
    display: inline-block;
    margin-left: 8px;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header .nav-left {
      margin-left: 0;
    }
  }


  .distill-site-header .nav-right {
    float: right;
    margin-right: 8px;
  }

  .distill-site-header a,
  .distill-site-header .title {
    display: inline-block;
    text-align: center;
    padding: 14px 10px 14px 10px;
  }

  .distill-site-header .title {
    font-size: 18px;
    min-width: 150px;
  }

  .distill-site-header .logo {
    padding: 0;
  }

  .distill-site-header .logo img {
    display: none;
    max-height: 20px;
    width: auto;
    margin-bottom: -4px;
  }

  .distill-site-header .nav-image img {
    max-height: 18px;
    width: auto;
    display: inline-block;
    margin-bottom: -3px;
  }



  @media screen and (min-width: 1000px) {
    .distill-site-header .logo img {
      display: inline-block;
    }
    .distill-site-header .nav-left {
      margin-left: 20px;
    }
    .distill-site-header .nav-right {
      margin-right: 20px;
    }
    .distill-site-header .title {
      padding-left: 12px;
    }
  }


  .distill-site-header .nav-toggle {
    display: none;
  }

  .nav-dropdown {
    display: inline-block;
    position: relative;
  }

  .nav-dropdown .nav-dropbtn {
    border: none;
    outline: none;
    color: rgba(255, 255, 255, 0.8);
    padding: 16px 10px;
    background-color: transparent;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    margin: 0;
    margin-top: 1px;
    z-index: 2;
  }

  .nav-dropdown-content {
    display: none;
    position: absolute;
    background-color: white;
    min-width: 200px;
    border: 1px solid rgba(0,0,0,0.15);
    border-radius: 4px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
    z-index: 1;
    margin-top: 2px;
    white-space: nowrap;
    padding-top: 4px;
    padding-bottom: 4px;
  }

  .nav-dropdown-content hr {
    margin-top: 4px;
    margin-bottom: 4px;
    border: none;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .nav-dropdown-active {
    display: block;
  }

  .nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
    color: black;
    padding: 6px 24px;
    text-decoration: none;
    display: block;
    text-align: left;
  }

  .nav-dropdown-content .nav-dropdown-header {
    display: block;
    padding: 5px 24px;
    padding-bottom: 0;
    text-transform: uppercase;
    font-size: 14px;
    color: #999999;
    white-space: nowrap;
  }

  .nav-dropdown:hover .nav-dropbtn {
    color: white;
  }

  .nav-dropdown-content a:hover {
    background-color: #ddd;
    color: black;
  }

  .nav-right .nav-dropdown-content {
    margin-left: -45%;
    right: 0;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
    .distill-site-header a.nav-toggle {
      float: right;
      display: block;
    }
    .distill-site-header .title {
      margin-left: 0;
    }
    .distill-site-header .nav-right {
      margin-right: 0;
    }
    .distill-site-header {
      overflow: hidden;
    }
    .nav-right .nav-dropdown-content {
      margin-left: 0;
    }
  }


  @media screen and (max-width: 768px) {
    .distill-site-header.responsive {position: relative; min-height: 500px; }
    .distill-site-header.responsive a.nav-toggle {
      position: absolute;
      right: 0;
      top: 0;
    }
    .distill-site-header.responsive a,
    .distill-site-header.responsive .nav-dropdown {
      display: block;
      text-align: left;
    }
    .distill-site-header.responsive .nav-left,
    .distill-site-header.responsive .nav-right {
      width: 100%;
    }
    .distill-site-header.responsive .nav-dropdown {float: none;}
    .distill-site-header.responsive .nav-dropdown-content {position: relative;}
    .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
      display: block;
      width: 100%;
      text-align: left;
    }
  }

  /* Site Footer */

  .distill-site-footer {
    width: 100%;
    overflow: hidden;
    box-sizing: border-box;
    z-index: 3;
    margin-top: 30px;
    padding-top: 30px;
    padding-bottom: 30px;
    text-align: center;
  }

  /* Headroom */

  d-title {
    padding-top: 6rem;
  }

  @media print {
    d-title {
      padding-top: 4rem;
    }
  }

  .headroom {
    z-index: 1000;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
  }

  .headroom--transition {
    transition: all .4s ease-in-out;
  }

  .headroom--unpinned {
    top: -100px;
  }

  .headroom--pinned {
    top: 0;
  }

  /* adjust viewport for navbar height */
  /* helps vertically center bootstrap (non-distill) content */
  .min-vh-100 {
    min-height: calc(100vh - 100px) !important;
  }

  </style>

  <script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <link href="site_libs/font-awesome-6.4.0/css/all.min.css" rel="stylesheet"/>
  <link href="site_libs/font-awesome-6.4.0/css/v4-shims.min.css" rel="stylesheet"/>
  <script src="site_libs/headroom-0.9.4/headroom.min.js"></script>
  <script src="site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
  <script src="site_libs/fuse-6.4.1/fuse.min.js"></script>

  <script type="application/javascript">

  function getMeta(metaName) {
    var metas = document.getElementsByTagName('meta');
    for (let i = 0; i < metas.length; i++) {
      if (metas[i].getAttribute('name') === metaName) {
        return metas[i].getAttribute('content');
      }
    }
    return '';
  }

  function offsetURL(url) {
    var offset = getMeta('distill:offset');
    return offset ? offset + '/' + url : url;
  }

  function createFuseIndex() {

    // create fuse index
    var options = {
      keys: [
        { name: 'title', weight: 20 },
        { name: 'categories', weight: 15 },
        { name: 'description', weight: 10 },
        { name: 'contents', weight: 5 },
      ],
      ignoreLocation: true,
      threshold: 0
    };
    var fuse = new window.Fuse([], options);

    // fetch the main search.json
    return fetch(offsetURL('search.json'))
      .then(function(response) {
        if (response.status == 200) {
          return response.json().then(function(json) {
            // index main articles
            json.articles.forEach(function(article) {
              fuse.add(article);
            });
            // download collections and index their articles
            return Promise.all(json.collections.map(function(collection) {
              return fetch(offsetURL(collection)).then(function(response) {
                if (response.status === 200) {
                  return response.json().then(function(articles) {
                    articles.forEach(function(article) {
                      fuse.add(article);
                    });
                  })
                } else {
                  return Promise.reject(
                    new Error('Unexpected status from search index request: ' +
                              response.status)
                  );
                }
              });
            })).then(function() {
              return fuse;
            });
          });

        } else {
          return Promise.reject(
            new Error('Unexpected status from search index request: ' +
                        response.status)
          );
        }
      });
  }

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // get search element (bail if we don't have one)
    var searchEl = window.document.getElementById('distill-search');
    if (!searchEl)
      return;

    createFuseIndex()
      .then(function(fuse) {

        // make search box visible
        searchEl.classList.remove('hidden');

        // initialize autocomplete
        var options = {
          autoselect: true,
          hint: false,
          minLength: 2,
        };
        window.autocomplete(searchEl, options, [{
          source: function(query, callback) {
            const searchOptions = {
              isCaseSensitive: false,
              shouldSort: true,
              minMatchCharLength: 2,
              limit: 10,
            };
            var results = fuse.search(query, searchOptions);
            callback(results
              .map(function(result) { return result.item; })
            );
          },
          templates: {
            suggestion: function(suggestion) {
              var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
                ? `<img src="${offsetURL(suggestion.preview)}"</img>`
                : '';
              var html = `
                <div class="search-item">
                  <h3>${suggestion.title}</h3>
                  <div class="search-item-description">
                    ${suggestion.description || ''}
                  </div>
                  <div class="search-item-preview">
                    ${img}
                  </div>
                </div>
              `;
              return html;
            }
          }
        }]).on('autocomplete:selected', function(event, suggestion) {
          window.location.href = offsetURL(suggestion.path);
        });
        // remove inline display style on autocompleter (we want to
        // manage responsive display via css)
        $('.algolia-autocomplete').css("display", "");
      })
      .catch(function(error) {
        console.log(error);
      });

  });

  </script>

  <style type="text/css">

  .nav-search {
    font-size: x-small;
  }

  /* Algolioa Autocomplete */

  .algolia-autocomplete {
    display: inline-block;
    margin-left: 10px;
    vertical-align: sub;
    background-color: white;
    color: black;
    padding: 6px;
    padding-top: 8px;
    padding-bottom: 0;
    border-radius: 6px;
    border: 1px #0F2E3D solid;
    width: 180px;
  }


  @media screen and (max-width: 768px) {
    .distill-site-nav .algolia-autocomplete {
      display: none;
      visibility: hidden;
    }
    .distill-site-nav.responsive .algolia-autocomplete {
      display: inline-block;
      visibility: visible;
    }
    .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
      margin-left: 0;
      width: 400px;
      max-height: 400px;
    }
  }

  .algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
    width: 90%;
    outline: none;
    border: none;
  }

  .algolia-autocomplete .aa-hint {
    color: #999;
  }
  .algolia-autocomplete .aa-dropdown-menu {
    width: 550px;
    max-height: 70vh;
    overflow-x: visible;
    overflow-y: scroll;
    padding: 5px;
    margin-top: 3px;
    margin-left: -150px;
    background-color: #fff;
    border-radius: 5px;
    border: 1px solid #999;
    border-top: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
    cursor: pointer;
    padding: 5px 4px;
    border-bottom: 1px solid #eee;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
    border-bottom: none;
    margin-bottom: 2px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
    overflow: hidden;
    font-size: 0.8em;
    line-height: 1.4em;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
    font-size: 1rem;
    margin-block-start: 0;
    margin-block-end: 5px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
    display: inline-block;
    overflow: hidden;
    height: 2.8em;
    width: 80%;
    margin-right: 4%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
    display: inline-block;
    width: 15%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
    height: 3em;
    width: auto;
    display: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
    display: initial;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
    background-color: #eee;
  }
  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
    font-weight: bold;
    font-style: normal;
  }

  </style>


  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
    font-size: 100%;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        const citeChild = $(this).children()[0]
        // Do not process if @xyz has been used without escaping and without bibliography activated
        // https://github.com/rstudio/distill/issues/466
        if (citeChild === undefined) return true

        if (citeChild.nodeName == "D-FOOTNOTE") {
          var fn = citeChild
          $(this).html(fn.shadowRoot.querySelector("sup"))
          $(this).id = fn.id
          fn.remove()
        }
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          // Could use CSS.escape too here, we insure backward compatibility in navigator
          return "<p>" + $('div[id="ref-' + ref + '"]').html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // fix footnotes in tables (#411)
      // replacing broken distill.pub feature
      $('table d-footnote').each(function() {
        // we replace internal showAtNode methode which is triggered when hovering a footnote
        this.hoverBox.showAtNode = function(node) {
          // ported from https://github.com/distillpub/template/pull/105/files
          calcOffset = function(elem) {
              let x = elem.offsetLeft;
              let y = elem.offsetTop;
              // Traverse upwards until an `absolute` element is found or `elem`
              // becomes null.
              while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                  x += elem.offsetLeft;
                  y += elem.offsetTop;
              }

              return { left: x, top: y };
          }
          // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
          const bbox = node.getBoundingClientRect();
          const offset = calcOffset(node);
          this.show([offset.left + bbox.width, offset.top + bbox.height]);
        }
      })

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      // ignore leaflet img layers (#106)
      figures = figures.filter(':not(img[class*="leaflet"])')
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <style type="text/css">
  /* base variables */

  /* Edit the CSS properties in this file to create a custom
     Distill theme. Only edit values in the right column
     for each row; values shown are the CSS defaults.
     To return any property to the default,
     you may set its value to: unset
     All rows must end with a semi-colon.                      */

  /* Optional: embed custom fonts here with `@import`          */
  /* This must remain at the top of this file.                 */



  html {
    /*-- Main font sizes --*/
    --title-size:      50px;
    --body-size:       1.06rem;
    --code-size:       14px;
    --aside-size:      12px;
    --fig-cap-size:    13px;
    /*-- Main font colors --*/
    --title-color:     #000000;
    --header-color:    rgba(0, 0, 0, 0.8);
    --body-color:      rgba(0, 0, 0, 0.8);
    --aside-color:     rgba(0, 0, 0, 0.6);
    --fig-cap-color:   rgba(0, 0, 0, 0.6);
    /*-- Specify custom fonts ~~~ must be imported above   --*/
    --heading-font:    sans-serif;
    --mono-font:       monospace;
    --body-font:       sans-serif;
    --navbar-font:     sans-serif;  /* websites + blogs only */
  }

  /*-- ARTICLE METADATA --*/
  d-byline {
    --heading-size:    0.6rem;
    --heading-color:   rgba(0, 0, 0, 0.5);
    --body-size:       0.8rem;
    --body-color:      rgba(0, 0, 0, 0.8);
  }

  /*-- ARTICLE TABLE OF CONTENTS --*/
  .d-contents {
    --heading-size:    18px;
    --contents-size:   13px;
  }

  /*-- ARTICLE APPENDIX --*/
  d-appendix {
    --heading-size:    15px;
    --heading-color:   rgba(0, 0, 0, 0.65);
    --text-size:       0.8em;
    --text-color:      rgba(0, 0, 0, 0.5);
  }

  /*-- WEBSITE HEADER + FOOTER --*/
  /* These properties only apply to Distill sites and blogs  */

  .distill-site-header {
    --title-size:       18px;
    --text-color:       rgba(255, 255, 255, 0.8);
    --text-size:        15px;
    --hover-color:      white;
    --bkgd-color:       #0F2E3D;
  }

  .distill-site-footer {
    --text-color:       rgba(255, 255, 255, 0.8);
    --text-size:        15px;
    --hover-color:      white;
    --bkgd-color:       #0F2E3D;
  }

  /*-- Additional custom styles --*/
  /* Add any additional CSS rules below                      */
  </style>
  <style type="text/css">
  /* base variables */

  /* Edit the CSS properties in this file to create a custom
     Distill theme. Only edit values in the right column
     for each row; values shown are the CSS defaults.
     To return any property to the default,
     you may set its value to: unset
     All rows must end with a semi-colon.                      */

  /* Optional: embed custom fonts here with `@import`          */
  /* This must remain at the top of this file.                 */



  html {
    /*-- Main font sizes --*/
    --title-size:      50px;
    --body-size:       1.06rem;
    --code-size:       14px;
    --aside-size:      12px;
    --fig-cap-size:    13px;
    /*-- Main font colors --*/
    --title-color:     #000000;
    --header-color:    rgba(0, 0, 0, 0.8);
    --body-color:      rgba(0, 0, 0, 0.8);
    --aside-color:     rgba(0, 0, 0, 0.6);
    --fig-cap-color:   rgba(0, 0, 0, 0.6);
    /*-- Specify custom fonts ~~~ must be imported above   --*/
    --heading-font:    sans-serif;
    --mono-font:       monospace;
    --body-font:       sans-serif;
    --navbar-font:     sans-serif;  /* websites + blogs only */
  }

  /*-- ARTICLE METADATA --*/
  d-byline {
    --heading-size:    0.6rem;
    --heading-color:   rgba(0, 0, 0, 0.5);
    --body-size:       0.8rem;
    --body-color:      rgba(0, 0, 0, 0.8);
  }

  /*-- ARTICLE TABLE OF CONTENTS --*/
  .d-contents {
    --heading-size:    18px;
    --contents-size:   13px;
  }

  /*-- ARTICLE APPENDIX --*/
  d-appendix {
    --heading-size:    15px;
    --heading-color:   rgba(0, 0, 0, 0.65);
    --text-size:       0.8em;
    --text-color:      rgba(0, 0, 0, 0.5);
  }

  /*-- WEBSITE HEADER + FOOTER --*/
  /* These properties only apply to Distill sites and blogs  */

  .distill-site-header {
    --title-size:       18px;
    --text-color:       rgba(255, 255, 255, 0.8);
    --text-size:        15px;
    --hover-color:      white;
    --bkgd-color:       #4C4C4C;
  }

  .distill-site-footer {
    --text-color:       rgba(255, 255, 255, 0.8);
    --text-size:        15px;
    --hover-color:      white;
    --bkgd-color:       #0F2E3D;
  }

    .distill-site-header .logo img {
      max-height: 30px;
      width: auto;
      margin-bottom: -7px;
    }

  /*-- Additional custom styles --*/
  /* Add any additional CSS rules below                      */
  </style>
  <style type="text/css">
  /* base style */

  /* FONT FAMILIES */

  :root {
    --heading-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    --mono-default: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    --body-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  body,
  .posts-list .post-preview p,
  .posts-list .description p {
    font-family: var(--body-font), var(--body-default);
  }

  h1, h2, h3, h4, h5, h6,
  .posts-list .post-preview h2,
  .posts-list .description h2 {
    font-family: var(--heading-font), var(--heading-default);
  }

  d-article div.sourceCode code,
  d-article pre code {
    font-family: var(--mono-font), var(--mono-default);
  }


  /*-- TITLE --*/
  d-title h1,
  .posts-list > h1 {
    color: var(--title-color, black);
  }

  d-title h1 {
    font-size: var(--title-size, 50px);
  }

  /*-- HEADERS --*/
  d-article h1,
  d-article h2,
  d-article h3,
  d-article h4,
  d-article h5,
  d-article h6 {
    color: var(--header-color, rgba(0, 0, 0, 0.8));
  }

  /*-- BODY --*/
  d-article > p,  /* only text inside of <p> tags */
  d-article > ul, /* lists */
  d-article > ol {
    color: var(--body-color, rgba(0, 0, 0, 0.8));
    font-size: var(--body-size, 1.06rem);
  }


  /*-- CODE --*/
  d-article div.sourceCode code,
  d-article pre code {
    font-size: var(--code-size, 14px);
  }

  /*-- ASIDE --*/
  d-article aside {
    font-size: var(--aside-size, 12px);
    color: var(--aside-color, rgba(0, 0, 0, 0.6));
  }

  /*-- FIGURE CAPTIONS --*/
  figure .caption,
  figure figcaption,
  .figure .caption {
    font-size: var(--fig-cap-size, 13px);
    color: var(--fig-cap-color, rgba(0, 0, 0, 0.6));
  }

  /*-- METADATA --*/
  d-byline h3 {
    font-size: var(--heading-size, 0.6rem);
    color: var(--heading-color, rgba(0, 0, 0, 0.5));
  }

  d-byline {
    font-size: var(--body-size, 0.8rem);
    color: var(--body-color, rgba(0, 0, 0, 0.8));
  }

  d-byline a,
  d-article d-byline a {
    color: var(--body-color, rgba(0, 0, 0, 0.8));
  }

  /*-- TABLE OF CONTENTS --*/
  .d-contents nav h3 {
    font-size: var(--heading-size, 18px);
  }

  .d-contents nav a {
    font-size: var(--contents-size, 13px);
  }

  /*-- APPENDIX --*/
  d-appendix h3 {
    font-size: var(--heading-size, 15px);
    color: var(--heading-color, rgba(0, 0, 0, 0.65));
  }

  d-appendix {
    font-size: var(--text-size, 0.8em);
    color: var(--text-color, rgba(0, 0, 0, 0.5));
  }

  d-appendix d-footnote-list a.footnote-backlink {
    color: var(--text-color, rgba(0, 0, 0, 0.5));
  }

  /*-- WEBSITE HEADER + FOOTER --*/
  .distill-site-header .title {
    font-size: var(--title-size, 18px);
    font-family: var(--navbar-font), var(--heading-default);
  }

  .distill-site-header a,
  .nav-dropdown .nav-dropbtn {
    font-family: var(--navbar-font), var(--heading-default);
  }

  .nav-dropdown .nav-dropbtn {
    color: var(--text-color, rgba(255, 255, 255, 0.8));
    font-size: var(--text-size, 15px);
  }

  .distill-site-header a:hover,
  .nav-dropdown:hover .nav-dropbtn {
    color: var(--hover-color, white);
  }

  .distill-site-header {
    font-size: var(--text-size, 15px);
    color: var(--text-color, rgba(255, 255, 255, 0.8));
    background-color: var(--bkgd-color, #0F2E3D);
  }

  .distill-site-footer {
    font-size: var(--text-size, 15px);
    color: var(--text-color, rgba(255, 255, 255, 0.8));
    background-color: var(--bkgd-color, #0F2E3D);
  }

  .distill-site-footer a:hover {
    color: var(--hover-color, white);
  }</style>
  <!--/radix_placeholder_distill-->
  <script src="site_libs/header-attrs-2.21/header-attrs.js"></script>
  <script src="site_libs/clipboard-2.0.6/clipboard.min.js"></script>
  <link href="site_libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.css" rel="stylesheet" />
  <script src="site_libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.js"></script>
  <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
  <script src="site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <style type="text/css">
  .screenshot {
    border: 1px solid rgba(0, 0, 0, 0.2);
  }

  .fake-img {
    background: #bbb;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 0px 4px rgba(0, 0, 0, 0.1);
    margin-bottom: 12px;
  }
  .fake-img p {
    font-family: monospace;
    color: white;
    text-align: left;
    margin: 12px 0;
    text-align: center;
    font-size: 16px;
  }


  html {
    scroll-behavior: smooth;
  }
  d-article {
      contain: none;
    }
  #TOC {
    position: fixed;
    z-index: 50;
    background: #ebebeb;     /* or   background: white; */
    padding: 10px;           /* optional */
    border-radius: 5px;      /* optional */
    }

  /* Hide the ToC when resized to mobile or tablet:  480px, 768px, 900px */
  @media screen and (max-width: 900px) {
  #TOC {
      position: relative;
    }
  }

  p.comment {
  background-color: #94F99B;
  padding: 10px;
  border: 1px solid black;
  margin-left: 25px;
  border-radius: 5px;
  font-style: normal;
  }

  p.alert {
  background-color: #F0756D;
  padding: 10px;
  border: 1px solid black;
  margin-left: 25px;
  border-radius: 5px;
  font-style: normal;
  }


  </style>
  <!--/radix_placeholder_site_in_header-->

  <link rel="stylesheet" href="styles.css" type="text/css"/>

</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Linear models","authors":[]}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a class="logo" href="https://www.dipintothereef.com/">
<img src="images/logo.png" alt="Logo"/>
</a>
<a href="index.html" class="title">OCEAN 5098</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="index.html">Home</a>
<a href="environment.html">Environment</a>
<div class="nav-dropdown">
<button class="nav-dropbtn">
Manipulation
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="manipulation.html">Basics</a>
<a href="dplyr.html">dplyr</a>
<a href="tidyr.html">tidyr</a>
</div>
</div>
<a href="types.html">Types &amp; Structures</a>
<a href="graphics.html">Graphics</a>
<a href="mapping.html">Mapping</a>
<a href="loop.html">Loops &amp; Functions</a>
<div class="nav-dropdown">
<button class="nav-dropbtn">
Statistics I
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="statistics.html">Descriptive &amp; hypotheses</a>
<a href="linear.html">Linear models</a>
</div>
</div>
<a href="dataset.html">Dataset</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Linear models</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->

</div>


<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#linear-regression" id="toc-linear-regression">Linear regression</a></li>
<li><a href="#multiple-regression" id="toc-multiple-regression">Multiple regression</a></li>
<li><a href="#f-test" id="toc-f-test">F-test</a></li>
<li><a href="#distribution" id="toc-distribution">Distribution</a></li>
<li><a href="#random-effects" id="toc-random-effects">Random Effects</a></li>
</ul>
</nav>
</div>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="layout-chunk" data-layout="l-body">
<a href="data:text/x-markdown;base64,LS0tDQp0aXRsZTogIkxpbmVhciBtb2RlbHMiDQotLS0NCg0KYGBge3IgZXZhbCA9IFRSVUUsICBtZXNzYWdlPUYsIGluY2x1ZGU9Riwgd2FybmluZz1GLCBwdXJsPUYsIHJlc3VsdHM9ImhpZGUifQ0Ka25pdHI6OnB1cmwoJ2xpbmVhci5SbWQnLCBkb2N1bWVudGF0aW9uID0gRikNCmBgYA0KDQpgYGB7ciBlY2hvPUZBTFNFfQ0KeGFyaW5nYW5FeHRyYTo6dXNlX2NsaXBib2FyZCgpDQpgYGANCg0KYGBge3IgZWNobz1GQUxTRSwgcHVybD1GfQ0KeGZ1bjo6ZW1iZWRfZmlsZSgnbGluZWFyLlJtZCcpDQpgYGANCg0KYGBge3IgZWNobz1GQUxTRSwgcHVybD1GfQ0KeGZ1bjo6ZW1iZWRfZmlsZSgnbGluZWFyLlInKQ0KYGBgDQoNCmBgYHtyIGVjaG89RkFMU0UsIHB1cmw9Rn0NCnhmdW46OmVtYmVkX2ZpbGUoJ0RhdGEvc2hhZ0xQSS5jc3YnKQ0KYGBgDQoNCmBgYHtyIGVjaG89RkFMU0UsIHB1cmw9Rn0NCnhmdW46OmVtYmVkX2ZpbGUoJ0RhdGEvV2VldmlsX2RhbWFnZS5jc3YnKQ0KYGBgDQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCmxpYnJhcnkoSG1pc2MpDQpsaWJyYXJ5KGNvcnJwbG90KQ0KbGlicmFyeShNQVNTKQ0KbGlicmFyeShjYXIpDQpsaWJyYXJ5KGludGVyYWN0aW9ucykNCmxpYnJhcnkoeWFycnIpDQpsaWJyYXJ5KHRpZHlyKQ0KbGlicmFyeShyZWFkcikNCmxpYnJhcnkobG1lNCkNCmxpYnJhcnkgKGxtZXJUZXN0KQ0KbGlicmFyeShubG1lKQ0KbGlicmFyeShnZ3Bsb3QyKQ0KbGlicmFyeShndmxtYSkNCmxpYnJhcnkoc2ltcGxlYm9vdCkNCmxpYnJhcnkoREFBRykNCmxpYnJhcnkoYm9vdHN0cmFwKQ0KbGlicmFyeShNQkVTUykNCmxpYnJhcnkobGVhcHMpDQpsaWJyYXJ5KHNhbmR3aWNoKQ0KbGlicmFyeShkcGx5cikNCmBgYA0KDQpJbiB0aGUgY29taW5nIHR3byB3ZWVrcywgd2Ugd2lsbCB0YWtlIHNvbWUgdGltZSBvbiBiYXNpYyBjb25jZXB0cyBiZWhpbmQgc29tZSBzaW1wbGUgbGluZWFyIG1vZGVscy4NCg0KIyBMaW5lYXIgcmVncmVzc2lvbg0KDQojIyBEZWZpbml0aW9uDQoNCkxldCdzIHN0YXJ0IHdpdGggYSBhIHNpbXBsZSBjb3JyZWxhdGlvbiBhbW9uZyB0d28gdmFyaWFibGVzOg0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQojIGNvcnJlbGF0aW9uDQpyYWlydW9obzwtcmVhZC50YWJsZSgnaHR0cHM6Ly93d3cuZGlwaW50b3RoZXJlZWYuY29tL3VwbG9hZHMvMy83LzMvNS8zNzM1OTI0NS9yYWlydW9oby50eHQnLGhlYWRlcj1ULCBzZXA9Ilx0IiwgZGVjPSIuIikNCmNvci50ZXN0KHJhaXJ1b2hvJGRheTYsIHJhaXJ1b2hvJGRheTcpDQpgYGANCg0KV2UgY2FuIHJlcGVhdCBpdCBmb3IgYWxsIGRheXMgYnkgYnVpbGRpbmcgYSBQZWFyc29uIGNvZWZmaWNpZW50IG1hdHJpeDoNCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KY29ycjwtY29yKHJhaXJ1b2hvWywxOjZdKQ0KY29yciAjIGNvci50ZXN0IGRvZXMgbm90IHdvcmsgb24gTWF0cml4DQpgYGAgICAgICAgICAgDQoNCldoaWNoIGhvd2V2ZXIgZG9lc24ndCBnaXZlIHVzIHRoZSBwLXZhbHVlcyBvZiB0aG9zZSBjb3JyZWxhdGlvbnMuIE1hbnkgcGFja2FnZXMgb2ZmZXIgIGEgYmV0dGVyIHZpc3VhbGl6YXRpb24gb2YgdGhpcyBtYXRyaXgsIHN1Y2ggYXMgYGNvcnJwbG90YDogDQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCnAudmFsPC1yY29ycihhcy5tYXRyaXgocmFpcnVvaG9bLDE6Nl0pKSRQDQpjb3JycGxvdChjb3JyLHR5cGU9J3VwcGVyJyxtZXRob2Q9J2NvbG9yJywgYWRkQ29lZi5jb2wgPSAiYmxhY2siLCBwLm1hdD1hcy5tYXRyaXgocC52YWwpLCBzaWcubGV2ZWwgPSAwLjA1LHRpdGxlID0gIkNvcnJlbGF0aW9uIE1hdHJpeCIsIG1hciA9IGMoMiwwLDIsMCksIGRpYWc9RikNCmBgYA0KDQpQcmV2aW91c2x5LCB3ZSBzYXcgdGhhdCB0aGlzIHR5cGUgb2YgJ3JlbGF0aW9uc2hpcCcgKGEgbGluZWFyIG1vZGVsIGBsbWApIGJldHdlZW4gdHdvIHZhcmlhYmxlcyBjYW4gYmUgYWRkZWQgdG8gYSBzY2F0dGVycGxvdCB1c2luZyB0aGUgZnVuY3Rpb24gYGFibGluZWAgDQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCnBsb3QocmFpcnVvaG8kZGF5NiwgcmFpcnVvaG8kZGF5NykNCmFibGluZShsbShyYWlydW9obyRkYXk3fnJhaXJ1b2hvJGRheTYpLCBjb2w9InJlZCIsIGx3ZD0yKQ0KIyByZW1lbWJlciBgZ2dwbG90YA0KIyBnZ3Bsb3QocmFpcnVvaG8sIGFlcyh4ID0gZGF5NiwgeSA9IGRheTcpKSArIA0KIyAgZ2VvbV9wb2ludCgpICsNCiMgIHN0YXRfc21vb3RoKG1ldGhvZCA9ICJsbSIsIGNvbCA9ICJyZWQiKQ0KYGBgDQoNCkluZGVlZCBvdXIgY29ycmVsYXRpb24gZGVyaXZlZCBmcm9tIGEgc2ltcGxlIF9fbGluZWFyIHJlZ3Jlc3Npb25fXy4gSW4gKipNb2RlbCBJIHJlZ3Jlc3Npb24qKiAoaW5kZWVkIHdlIGhhdmUgTW9kZWwgSUkgd2hlbiB0d28gdmFyaWFibGUgaW4gdGhlIHJlZ3Jlc3Npb24gZXF1YXRpb24gYXJlIHJhbmRvbSAsIGkuZS4gbm8gY29udHJvbGxlZCBieSB0aGUgcmVzZWFyY2hlciksIGl0IGlzIHVzZWQgdG8gcHJlZGljdCBhIHF1YW50aXRhdGl2ZSBvdXRjb21lIG9mIGEgZGVwZW5kZW50IHZhcmlhYmxlICR5JCBvbiB0aGUgYmFzaXMgb2Ygb25lIHNpbmdsZSBpbmRlcGVuZGVudCBwcmVkaWN0b3IgdmFyaWFibGUgJHgkLiBUaGUgZ29hbCBpcyB0byBidWlsZCBhIG1hdGhlbWF0aWNhbCBtb2RlbCAob3IgZm9ybXVsYSkgdGhhdCBkZWZpbmVzICR5JCBhcyBhIGZ1bmN0aW9uIG9mIHRoZSAkeCQgdmFyaWFibGUuDQoNCk9uY2UsIHdlIGJ1aWx0IGEgc3RhdGlzdGljYWxseSBzaWduaWZpY2FudCBtb2RlbCwgaXTigJlzIHBvc3NpYmxlIHRvIHVzZSBpdCBmb3IgcHJlZGljdGluZyBmdXR1cmUgb3V0Y29tZSBvbiB0aGUgYmFzaXMgb2YgbmV3ICR4JCB2YWx1ZXMuDQoNCiMjIEZvcm11bGEgYW5kIGJhc2ljcw0KDQpUaGUgZm9ybXVsYSBvZiBsaW5lYXIgcmVncmVzc2lvbiBjYW4gYmUgd3JpdHRlbiBhcyBmb2xsb3dzOiAkJCB5ID0gXGJldGFfMCArIFxiZXRhXzEqeCArIFxlcHNpbG9uICQkDQoNCndoZXJlOg0KDQorICRcYmV0YV8wJCBhbmQgJFxiZXRhXzEkIGFyZSBrbm93biBhcyB0aGUgcmVncmVzc2lvbiBfX2JldGEgY29lZmZpY2llbnRzX18gb3IgX19wYXJhbWV0ZXJzX186DQoNCiAgKyAkXGJldGFfMCQgaXMgdGhlIF9faW50ZXJjZXB0X18gb2YgdGhlIHJlZ3Jlc3Npb24gbGluZTsgdGhhdCBpcyB0aGUgcHJlZGljdGVkIHZhbHVlIHdoZW4gX3ggPSAwXy4NCiAgKyAkXGJldGExJCBpcyB0aGUgX19zbG9wZV9fIG9mIHRoZSByZWdyZXNzaW9uIGxpbmUuDQogIA0KKyAkXGVwc2lsb24kIGlzIHRoZSBfX2Vycm9yIHRlcm1fXyAoYWxzbyBrbm93biBhcyB0aGUgX19yZXNpZHVhbCBlcnJvcnNfXykNCg0KVGhlIGZpZ3VyZSBiZWxvdyBpbGx1c3RyYXRlcyB0aGUgbGluZWFyIHJlZ3Jlc3Npb24gbW9kZWwsIHdoZXJlOg0KDQorIHRoZSBiZXN0LWZpdCByZWdyZXNzaW9uIGxpbmUgaXMgaW4gYmx1ZQ0KKyB0aGUgaW50ZXJjZXB0ICgkXGJldGFfMCQpIGFuZCB0aGUgc2xvcGUgKCRcYmV0YV8xJCkgYXJlIHNob3duIGluIGdyZWVuDQorIHRoZSBlcnJvciB0ZXJtcyAoJFxlcHNpbG9uJCkgYXJlIHJlcHJlc2VudGVkIGJ5IHZlcnRpY2FsIHJlZCBsaW5lcw0KDQo8Y2VudGVyPg0KIVtdKEZpZ3VyZXMvbGluZWFyLXJlZ3Jlc3Npb24ucG5nKXt3aWR0aD01MCV9DQo8L2NlbnRlcj4NCg0KDQpGcm9tIHRoZSBmaWd1cmUgYWJvdmUsIGl0IGNhbiBiZSBzZWVuIHRoYXQgbm90IGFsbCB0aGUgZGF0YSBwb2ludHMgZmFsbCBleGFjdGx5IG9uIHRoZSBmaXR0ZWQgcmVncmVzc2lvbiBsaW5lLiBTb21lIG9mIHRoZSBwb2ludHMgYXJlIGFib3ZlIHRoZSBibHVlIGN1cnZlIGFuZCBzb21lIGFyZSBiZWxvdyBpdDsgb3ZlcmFsbCwgdGhlIHJlc2lkdWFsIGVycm9ycyAoJFxlcHNpbG9uJCkgaGF2ZSBhcHByb3hpbWF0ZWx5IG1lYW4gemVyby4NCg0KKipURVJNSU5PTE9HWSBBTEVSVCoqDQoNClRoZSBzdW0gb2YgdGhlIHNxdWFyZXMgb2YgdGhlIHJlc2lkdWFsIGVycm9ycyBhcmUgY2FsbGVkIHRoZSBfX1Jlc2lkdWFsIFN1bSBvZiBTcXVhcmVzX18gb3IgX19SU1NfXy4NCg0KVGhlIGF2ZXJhZ2UgdmFyaWF0aW9uIG9mIHBvaW50cyBhcm91bmQgdGhlIGZpdHRlZCByZWdyZXNzaW9uIGxpbmUgaXMgY2FsbGVkIHRoZSBfX1Jlc2lkdWFsIFN0YW5kYXJkIEVycm9yIChSU0UpX18uIFRoaXMgaXMgb25lIHRoZSBtZXRyaWNzIHVzZWQgdG8gZXZhbHVhdGUgdGhlIG92ZXJhbGwgcXVhbGl0eSBvZiB0aGUgZml0dGVkIHJlZ3Jlc3Npb24gbW9kZWwuIFRoZSBsb3dlciB0aGUgUlNFLCB0aGUgYmV0dGVyIGl0IGlzLg0KDQpTaW5jZSB0aGUgbWVhbiBlcnJvciB0ZXJtIGlzIHplcm8sIHRoZSBvdXRjb21lIHZhcmlhYmxlIHkgY2FuIGJlIGFwcHJveGltYXRlbHkgZXN0aW1hdGVkIGFzIGZvbGxvdzoNCg0KJCR5PSBcYmV0YV8wK1xiZXRhXzEqeCQkDQoNCk1hdGhlbWF0aWNhbGx5LCB0aGUgYmV0YSBjb2VmZmljaWVudHMgKCRcYmV0YV8wJCBhbmQgJFxiZXRhXzEkKSBhcmUgZGV0ZXJtaW5lZCBzbyB0aGF0IHRoZSAqKlJTUyoqIGlzIGFzIG1pbmltYWwgYXMgcG9zc2libGUuIFRoaXMgbWV0aG9kIG9mIGRldGVybWluaW5nIHRoZSBiZXRhIGNvZWZmaWNpZW50cyBpcyB0ZWNobmljYWxseSBjYWxsZWQgX19sZWFzdCBzcXVhcmVzX18gcmVncmVzc2lvbiBvciBfX29yZGluYXJ5IGxlYXN0IHNxdWFyZXNfXyAoT0xTKSByZWdyZXNzaW9uLg0KDQpPbmNlLCB0aGUgYmV0YSBjb2VmZmljaWVudHMgYXJlIGNhbGN1bGF0ZWQsIGEgKnQqLXRlc3QgaXMgcGVyZm9ybWVkIHRvIGNoZWNrIHdoZXRoZXIgb3Igbm90IHRoZXNlIGNvZWZmaWNpZW50cyBhcmUgc2lnbmlmaWNhbnRseSBkaWZmZXJlbnQgZnJvbSB6ZXJvLiBBIG5vbi16ZXJvIGJldGEgY29lZmZpY2llbnRzIG1lYW5zIHRoYXQgdGhlcmUgaXMgYSBzaWduaWZpY2FudCByZWxhdGlvbnNoaXAgYmV0d2VlbiB0aGUgcHJlZGljdG9ycyAoJHgkKSBhbmQgdGhlIG91dGNvbWUgdmFyaWFibGUgKCR5JCkuDQoNCiMjIENvbXB1dGF0aW9uDQoNCkZpbmFsbHkhIFRoZSBzaW1wbGUgbGluZWFyIHJlZ3Jlc3Npb24gdHJpZXMgdG8gZmluZCB0aGUgYmVzdCBsaW5lIHRvIHByZWRpY3QgJHkkIG9uIHRoZSBiYXNpcyBvZiAkeCQuDQoNCkluIHRoZSBgaXJpc2AgZGF0YSBzZXQsIGEgbGluZWFyIG1vZGVsIGVxdWF0aW9uIGNhbiBiZSB3cml0dGVuIGFzIGZvbGxvdzogDQoNCiRQZXRhbC5XaWR0aCA9IFxiZXRhXzAgKyBcYmV0YV8xICogUGV0YWwuTGVuZ3RoJA0KDQpJbiBSIGxhbmd1YWdlLCBpdCBpcyB0cmFuc2xhdGVkIHVzaW5nIHRoZSAgZnVuY3Rpb24gYGxtYCBhbmQgaW4gb3JkZXIgdG8gZGV0ZXJtaW5lIHRoZSBiZXRhIGNvZWZmaWNpZW50cyBvZiB0aGUgbGluZWFyIG1vZGVsOg0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQptb2RlbDEgPC0gbG0oUGV0YWwuV2lkdGggfiBQZXRhbC5MZW5ndGgsIGRhdGEgPSBpcmlzKQ0KbW9kZWwxJGNvZWZmaWNpZW50cw0KYGBgDQpUaGUgcmVzdWx0cyBzaG93IHRoZSBpbnRlcmNlcHQgKCRcYmV0YV8wJCkgYW5kIHRoZSBzbG9wZSAoJFxiZXRhXzEkKSwgaS5lLiB0aGUgIGJldGEgY29lZmZpY2llbnRzIGZvciB0aGUgYFBldGFsLkxlbmd0aGAgdmFyaWFibGUNCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KZ2dwbG90KGlyaXMsIGFlcyh4ID0gUGV0YWwuTGVuZ3RoLCB5ID0gUGV0YWwuV2lkdGgpKSArDQogIGdlb21fcG9pbnQoYWVzKGZpbGw9U3BlY2llcyksc2hhcGUgPSAyMSwgc2l6ZT01KSArDQogIHN0YXRfc21vb3RoKG1ldGhvZCA9ICJsbSIsIGNvbCA9ICJibHVlIikNCmBgYA0KDQojIyBJbnRlcnByZXRhdGlvbg0KDQpGcm9tIHRoZSBvdXRwdXQgYWJvdmU6DQoNCisgdGhlIGVzdGltYXRlZCByZWdyZXNzaW9uIGxpbmUgZXF1YXRpb24gY2FuIGJlIHdyaXR0ZW4gYXMgZm9sbG93OiAkUGV0YWwuV2lkdGggPSAtMC4zNjMxICsgMC40MTU4KlBldGFsLkxlbmd0aCQNCg0KKyB0aGUgaW50ZXJjZXB0ICgkXGJldGFfMCQpIGlzICQtMC4zNjMxJC4gSXQgY2FuIGJlIGludGVycHJldGVkIGFzIHRoZSBwcmVkaWN0ZWQgd2lkdGggb2YgcGV0YWwgZm9yIGEgbGVuZ3RoIG9mIHBldGFsIGVxdWFsIHRvIHplcm8uIFJlZ3Jlc3Npb24gdGhyb3VnaCB0aGUgb3JpZ2luIGlzIHdoZW4geW91IGZvcmNlIHRoZSBpbnRlcmNlcHQgb2YgYSByZWdyZXNzaW9uIG1vZGVsIHRvIGVxdWFsIHplcm8uIEl04oCZcyBhbHNvIGtub3duIGFzIGZpdHRpbmcgYSBtb2RlbCB3aXRob3V0IGFuIGludGVyY2VwdCAoZS5nLiwgdGhlIGludGVyY2VwdC1mcmVlIGxpbmVhciBtb2RlbCAkeSA9IFxiZXRhXzEqeCQgaXMgZXF1aXZhbGVudCB0byB0aGUgbW9kZWwgJHkgPSBcYmV0YV8wICsgXGJldGFfMSp4JCB3aXRoICRcYmV0YV8wPTAkKS4gS25vd2luZyB0aGF0IHRoZSAqKnRydWUgcmVsYXRpb25zaGlwKiogYmV0d2VlbiB5b3VyIHByZWRpY3RvcnMgYW5kIHRoZSBleHBlY3RlZCB2YWx1ZSBvZiB5b3VyIGRlcGVuZGVudCB2YXJpYWJsZSBoYXMgdG8gcGFzcyB0aHJvdWdoIHRoZSBvcmlnaW4gd291bGQgYmUgYSBnb29kIHJlYXNvbiBmb3IgZm9yY2luZyB0aGUgZXN0aW1hdGVkIHJlbGF0aW9uc2hpcCB0aHJvdWdoIHRoZSBvcmlnaW4gaWYgeW91IGtuZXcgZm9yIGNlcnRhaW4gd2hhdCB0aGUgdHJ1ZSByZWxhdGlvbnNoaXAgd2FzIChiZSBjYXJlZnVsIHZlcnkgcmFyZSBjYXNlcyB3aGVyZSBpdCBpcyBqdXN0aWZpZWQgdG8gcmVtb3ZlIHRoZSBpbnRlcmNlcHQpLg0KDQoNCisgdGhlIHJlZ3Jlc3Npb24gYmV0YSBjb2VmZmljaWVudCBmb3IgdGhlIHZhcmlhYmxlIGBQZXRhbC5MZW5ndGhgICgkXGJldGExJCksIGFsc28ga25vd24gYXMgdGhlIHNsb3BlLCBpcyAkMC40MTU4JC4gVGhpcyBtZWFucyB0aGF0LCBmb3Igb25lIHVuaXQgb2YgJFBldGFsLkxlbmd0aCQsIHdlIGNhbiBleHBlY3QgYW4gaW5jcmVhc2Ugb2YgJDAuNDE1OCQgdW5pdHMgaW4gJFBldGFsLldpZHRoJC4gDQoNCiMjIE1vZGVsIGFzc2Vzc21lbnQNCg0KQmVmb3JlIHVzaW5nIG91ciBtb2RlbCB0byBwcmVkaWN0ICRQZXRhbC5XaWR0aCQsIHdlIHNob3VsZCBtYWtlIHN1cmUgdGhhdCB0aGlzIG1vZGVsIGlzIHN0YXRpc3RpY2FsbHkgc2lnbmlmaWNhbnQsIHRoYXQgaXM6DQoNCisgdGhlcmUgaXMgYSBzdGF0aXN0aWNhbGx5IHNpZ25pZmljYW50IHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHRoZSBwcmVkaWN0b3IgYW5kIHRoZSBvdXRjb21lIHZhcmlhYmxlcw0KDQorIHRoZSBtb2RlbCB0aGF0IHdlIGJ1aWx0IGZpdHMgdmVyeSB3ZWxsIHRoZSBkYXRhIGluIG91ciBoYW5kLg0KDQojIyBNb2RlbCBzdW1tYXJ5DQoNClVzaW5nIG91ciBgbG1gIG1vZGVsLCB3ZSBnZXQgYSBiaXQgbW9yZSB0aGFuIGp1c3QgdGhlIGNvZWZmaWNpZW50ICgkXGJldGEwJCkgYW5kICgkXGJldGExJCkgDQoNCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0Kc3VtbWFyeShtb2RlbDEpDQpgYGANCg0KTG9va2luZyBhdCBvbmx5IHRoZSBwLXZhbHVlcywgdGhpcyBzaW1wbGUgbW9kZWwgc2VlbXMgdG8gZml0IHRoZSBkYXRhIHZlcnkgd2VsbC4gQnV0IHRoZSBvdXRwdXQgdGVsbHMgdXMgbXVjaCBtb3JlLiBUaGUgc3VtbWFyeSBvdXRwdXRzIHNob3dzIDYgY29tcG9uZW50cywgaW5jbHVkaW5nOg0KDQorICoqQ2FsbCoqIHNob3dzIHRoZSBmdW5jdGlvbiBjYWxsIHVzZWQgdG8gY29tcHV0ZSB0aGUgcmVncmVzc2lvbiBtb2RlbC4NCisgKipSZXNpZHVhbHMqKiBwcm92aWRlIGEgcXVpY2sgdmlldyBvZiB0aGUgZGlzdHJpYnV0aW9uIG9mIHRoZSByZXNpZHVhbHMsIHdoaWNoIGJ5IGRlZmluaXRpb24gaGF2ZSBhIG1lYW4gemVyby4gVGhlcmVmb3JlLCB0aGUgbWVkaWFuIHNob3VsZCBub3QgYmUgZmFyIGZyb20gemVybywgYW5kIHRoZSBtaW5pbXVtIGFuZCBtYXhpbXVtIHNob3VsZCBiZSByb3VnaGx5IGVxdWFsIGluIGFic29sdXRlIHZhbHVlLg0KKyAqKkNvZWZmaWNpZW50cyoqIHNob3dzIHRoZSByZWdyZXNzaW9uIGJldGEgY29lZmZpY2llbnRzIGFuZCB0aGVpciBzdGF0aXN0aWNhbCBzaWduaWZpY2FuY2UuIFByZWRpY3RvciB2YXJpYWJsZXMsIHRoYXQgYXJlIHNpZ25pZmljYW50bHkgYXNzb2NpYXRlZCB0byB0aGUgb3V0Y29tZSB2YXJpYWJsZSwgYXJlIG1hcmtlZCBieSBzdGFycy4NCisgKipSZXNpZHVhbCBzdGFuZGFyZCBlcnJvcioqIChSU0UpLCAqKlItc3F1YXJlZCoqIChSMikgYW5kIHRoZSAqKkYtc3RhdGlzdGljKiogYXJlIG1ldHJpY3MgdGhhdCBhcmUgdXNlZCB0byBjaGVjayBob3cgd2VsbCB0aGUgbW9kZWwgZml0cyB0byBvdXIgZGF0YS4NCg0KIyMjIENvZWZmaWNpZW50cyBzaWduaWZpY2FuY2UNCg0KVGhlIGNvZWZmaWNpZW50cyB0YWJsZSwgaW4gdGhlIG1vZGVsIHN0YXRpc3RpY2FsIHN1bW1hcnksIHNob3dzOg0KDQorIHRoZSBlc3RpbWF0ZXMgb2YgdGhlICoqYmV0YSBjb2VmZmljaWVudHMqKg0KKyB0aGUgKipzdGFuZGFyZCBlcnJvcnMqKiAoU0UpLCB3aGljaCBkZWZpbmVzIHRoZSBhY2N1cmFjeSBvZiBiZXRhIGNvZWZmaWNpZW50cy4gRm9yIGEgZ2l2ZW4gYmV0YSBjb2VmZmljaWVudCwgdGhlIFNFIHJlZmxlY3RzIGhvdyB0aGUgY29lZmZpY2llbnQgdmFyaWVzIHVuZGVyIHJlcGVhdGVkIHNhbXBsaW5nLiBJdCBjYW4gYmUgdXNlZCB0byBjb21wdXRlIHRoZSBjb25maWRlbmNlIGludGVydmFscyBhbmQgdGhlIHQtc3RhdGlzdGljLg0KKyB0aGUgKipfdF8tc3RhdGlzdGljKiogYW5kIHRoZSBhc3NvY2lhdGVkICoqX3BfLXZhbHVlKiosIHdoaWNoIGRlZmluZXMgdGhlIHN0YXRpc3RpY2FsIHNpZ25pZmljYW5jZSBvZiB0aGUgYmV0YSBjb2VmZmljaWVudHMuDQoNCg0KKip0LXN0YXRpc3RpYyBhbmQgcC12YWx1ZXMqKg0KDQpGb3IgYSBnaXZlbiBwcmVkaWN0b3IsIHRoZSB0LXN0YXRpc3RpYyAoYW5kIGl0cyBhc3NvY2lhdGVkICpwKi12YWx1ZSkgdGVzdHMgd2hldGhlciBvciBub3QgdGhlcmUgaXMgYSBzdGF0aXN0aWNhbGx5IHNpZ25pZmljYW50IHJlbGF0aW9uc2hpcCBiZXR3ZWVuIGEgZ2l2ZW4gcHJlZGljdG9yIGFuZCB0aGUgb3V0Y29tZSB2YXJpYWJsZSwgdGhhdCBpcyB3aGV0aGVyIG9yIG5vdCB0aGUgYmV0YSBjb2VmZmljaWVudCBvZiB0aGUgcHJlZGljdG9yIGlzIHNpZ25pZmljYW50bHkgZGlmZmVyZW50IGZyb20gemVyby4NCg0KVGhlIHN0YXRpc3RpY2FsIGh5cG90aGVzZXMgYXJlIGFzIGZvbGxvdzoNCg0KKyBOdWxsIGh5cG90aGVzaXMgKEh+MH4pOiB0aGUgY29lZmZpY2llbnRzIGFyZSBlcXVhbCB0byB6ZXJvIChpLmUuLCBubyByZWxhdGlvbnNoaXAgYmV0d2VlbiB4IGFuZCB5KQ0KKyBBbHRlcm5hdGl2ZSBIeXBvdGhlc2lzIChIfjF+KTogdGhlIGNvZWZmaWNpZW50cyBhcmUgbm90IGVxdWFsIHRvIHplcm8gKGkuZS4sIHRoZXJlIGlzIHNvbWUgcmVsYXRpb25zaGlwIGJldHdlZW4gJHgkIGFuZCAkeSQpDQoNCk1hdGhlbWF0aWNhbGx5LCBmb3IgYSBnaXZlbiBiZXRhIGNvZWZmaWNpZW50ICgkXGJldGEkKSwgdGhlIF90Xy10ZXN0IGlzIGNvbXB1dGVkIGFzICR0ID0gKFxiZXRhIC0gMCkvU0UoXGJldGEpJCwgd2hlcmUgJFNFKFxiZXRhKSQgaXMgdGhlIFNFIG9mIHRoZSBjb2VmZmljaWVudCAkXGJldGEkLiBTaW1wbHkgc2FpZCwgdGhlIHQtc3RhdGlzdGljIG1lYXN1cmVzIHRoZSBudW1iZXIgb2Ygc3RhbmRhcmQgZGV2aWF0aW9ucyB0aGF0ICRcYmV0YSQgaXMgYXdheSBmcm9tIDAuIFRodXMgYSBsYXJnZSBfdF8tc3RhdGlzdGljIHdpbGwgcHJvZHVjZSBhIHNtYWxsIHAtdmFsdWUgKD1kaWZmZXJlbnQpLg0KDQpUaGUgaGlnaGVyIHRoZSBfdF8tc3RhdGlzdGljIChhbmQgdGhlIGxvd2VyIHRoZSBwLXZhbHVlKSwgdGhlIG1vcmUgc2lnbmlmaWNhbnQgdGhlIHByZWRpY3Rvci4gVGhlIHN5bWJvbHMgdG8gdGhlIHJpZ2h0ICgqKiopIHZpc3VhbGx5IHNwZWNpZmllcyB0aGUgbGV2ZWwgb2Ygc2lnbmlmaWNhbmNlLiBUaGUgbGluZSBiZWxvdyB0aGUgdGFibGUgc2hvd3MgdGhlIGRlZmluaXRpb24gb2YgdGhlc2Ugc3ltYm9sczsgb25lIHN0YXIgbWVhbnMgMC4wMSA8IHAgPCAwLjA1LiBUaGUgbW9yZSB0aGUgc3RhcnMgYmVzaWRlIHRoZSB2YXJpYWJsZeKAmXMgcC12YWx1ZSwgdGhlIG1vcmUgc2lnbmlmaWNhbnQgdGhlIHZhcmlhYmxlLg0KDQpBIHN0YXRpc3RpY2FsbHkgc2lnbmlmaWNhbnQgY29lZmZpY2llbnQgaW5kaWNhdGVzIHRoYXQgdGhlcmUgaXMgYW4gYXNzb2NpYXRpb24gYmV0d2VlbiB0aGUgcHJlZGljdG9yICgkeCQpIGFuZCB0aGUgb3V0Y29tZSAoJHkkKSB2YXJpYWJsZS4NCg0KVGhlIF90Xy1zdGF0aXN0aWMgaXMgYSB2ZXJ5IHVzZWZ1bCBndWlkZSBmb3Igd2hldGhlciBvciBub3QgdG8gaW5jbHVkZSBhIHByZWRpY3RvciBpbiBhIG1vZGVsLiBIaWdoIHQtc3RhdGlzdGljcyAod2hpY2ggZ28gd2l0aCBsb3cgcC12YWx1ZXMgbmVhciAwKSBpbmRpY2F0ZSB0aGF0IGEgcHJlZGljdG9yIHNob3VsZCBiZSByZXRhaW5lZCBpbiBhIG1vZGVsLCB3aGlsZSB2ZXJ5IGxvdyBfdF8tc3RhdGlzdGljcyBpbmRpY2F0ZSBhIHByZWRpY3RvciBjb3VsZCBiZSBkcm9wcGVkIChCcnVjZSBhbmQgQnJ1Y2UgMjAxNykuDQoNCioqU3RhbmRhcmQgZXJyb3JzIGFuZCBjb25maWRlbmNlIGludGVydmFscyoqDQoNClRoZSBzdGFuZGFyZCBlcnJvciBtZWFzdXJlcyB0aGUgdmFyaWFiaWxpdHkvYWNjdXJhY3kgb2YgdGhlIGJldGEgY29lZmZpY2llbnRzLiBJdCBjYW4gYmUgdXNlZCB0byBjb21wdXRlIHRoZSBjb25maWRlbmNlIGludGVydmFscyBvZiB0aGUgY29lZmZpY2llbnRzLg0KDQpGb3IgZXhhbXBsZSwgdGhlIDk1JSBjb25maWRlbmNlIGludGVydmFsIGZvciB0aGUgY29lZmZpY2llbnQgJFxiZXRhMSQgaXMgZGVmaW5lZCBhcyAkXGJldGExICsvLSAyKlNFKFxiZXRhMSkkLCB3aGVyZToNCg0KdGhlIGxvd2VyIGxpbWl0cyBvZiAkXGJldGFfMSA9IFxiZXRhXzEgLSAyKlNFKFxiZXRhXzEpID0gMC40MTUgLSAyKjAuMDA5ID0gMC4zOTckDQoNCnRoZSB1cHBlciBsaW1pdHMgb2YgJFxiZXRhMSA9IFxiZXRhMSArIDIqU0UoXGJldGExKSA9IDAuNDE1ICsgMiowLjAwOSA9IDAuNDM1JA0KDQpUaGF0IGlzLCB0aGVyZSBpcyBhcHByb3hpbWF0ZWx5IGEgOTUlIGNoYW5jZSB0aGF0IHRoZSBpbnRlcnZhbCBbMC4zOTcsIDAuNDM1XSB3aWxsIGNvbnRhaW4gdGhlIHRydWUgdmFsdWUgb2YgJFxiZXRhMSQuIFNpbWlsYXJseSB0aGUgOTUlIGNvbmZpZGVuY2UgaW50ZXJ2YWwgZm9yICRcYmV0YTAkIGNhbiBiZSBjb21wdXRlZCBhcyAkXGJldGEwICsvLSAyKlNFKFxiZXRhMCkkLg0KDQpUbyBnZXQgdGhpcyBpbmZvcm1hdGlvbiwgZWl0aGVyIHlvdSBjYWxjdWxhdGUgYnkgaGFuZHMgb3IgeW91IHNpbXBseSBjYWxsOg0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQpjb25maW50KG1vZGVsMSkNCmBgYA0KDQojIyMgTW9kZWwgYWNjdXJhY3kNCg0KDQpPbmNlIHlvdSBpZGVudGlmaWVkIHRoYXQsIGF0IGxlYXN0LCBvbmUgcHJlZGljdG9yIHZhcmlhYmxlIGlzIHNpZ25pZmljYW50bHkgYXNzb2NpYXRlZCB0aGUgb3V0Y29tZSwgeW91IHNob3VsZCBjb250aW51ZSB0aGUgZGlhZ25vc3RpYyBieSBjaGVja2luZyBob3cgd2VsbCB0aGUgbW9kZWwgZml0cyB0aGUgZGF0YS4gVGhpcyBwcm9jZXNzIGlzIGFsc28gcmVmZXJyZWQgdG8gYXMgdGhlICpnb29kbmVzcy1vZi1maXQqDQoNClRoZSBvdmVyYWxsIHF1YWxpdHkgb2YgdGhlIGxpbmVhciByZWdyZXNzaW9uIGZpdCBjYW4gYmUgYXNzZXNzZWQgdXNpbmcgdGhlIGZvbGxvd2luZyB0aHJlZSBwYXJhbWV0ZXJzLCBkaXNwbGF5ZWQgaW4gdGhlIG1vZGVsIHN1bW1hcnk6DQoNCjEuICoqVGhlIFJlc2lkdWFsIFN0YW5kYXJkIEVycm9yIChSU0UpKioNCg0KVGhlICoqUlNFKiogKGFsc28ga25vd24gYXMgdGhlIG1vZGVsIHNpZ21hKSBpcyB0aGUgKipyZXNpZHVhbCB2YXJpYXRpb24qKiwgcmVwcmVzZW50aW5nIHRoZSBhdmVyYWdlIHZhcmlhdGlvbiBvZiB0aGUgb2JzZXJ2YXRpb25zIHBvaW50cyBhcm91bmQgdGhlIGZpdHRlZCByZWdyZXNzaW9uIGxpbmUuIFRoaXMgaXMgdGhlICoqc3RhbmRhcmQgZGV2aWF0aW9uIG9mIHJlc2lkdWFsIGVycm9ycyoqLg0KDQpSU0UgcHJvdmlkZXMgYW4gYWJzb2x1dGUgbWVhc3VyZSBvZiBwYXR0ZXJucyBpbiB0aGUgKipkYXRhIHRoYXQgY2Fu4oCZdCBiZSBleHBsYWluZWQgYnkgdGhlIG1vZGVsKiouIFdoZW4gY29tcGFyaW5nIHR3byBtb2RlbHMsIHRoZSBtb2RlbCB3aXRoIHRoZSBzbWFsbCBSU0UgaXMgYSBnb29kIGluZGljYXRpb24gdGhhdCB0aGlzIG1vZGVsIGZpdHMgdGhlIGJlc3QgdGhlIGRhdGEuDQoNCkRpdmlkaW5nIHRoZSBSU0UgYnkgdGhlIGF2ZXJhZ2UgdmFsdWUgb2YgdGhlIG91dGNvbWUgdmFyaWFibGUgd2lsbCBnaXZlIHlvdSB0aGUgcHJlZGljdGlvbiBlcnJvciByYXRlLCB3aGljaCBzaG91bGQgYmUgYXMgc21hbGwgYXMgcG9zc2libGUuDQoNCkluIG91ciBleGFtcGxlLCBSU0UgPSBgMC4yMDY1YCwgbWVhbmluZyB0aGF0IHRoZSBvYnNlcnZlZCBQZXRhbC53aWR0aCB2YWx1ZXMgZGV2aWF0ZSBmcm9tIHRoZSB0cnVlIHJlZ3Jlc3Npb24gbGluZSBieSBhcHByb3hpbWF0ZWx5IGAwLjIwNjVgIHVuaXRzIGluIGF2ZXJhZ2UuDQoNCldoZXRoZXIgb3Igbm90IGFuIFJTRSBvZiBgMC4yMDY1YCB1bml0cyBpcyBhbiBhY2NlcHRhYmxlIHByZWRpY3Rpb24gZXJyb3IgaXMgc3ViamVjdGl2ZSBhbmQgZGVwZW5kcyBvbiB0aGUgcHJvYmxlbSBjb250ZXh0LiBIb3dldmVyLCB3ZSBjYW4gY2FsY3VsYXRlIHRoZSBwZXJjZW50YWdlIGVycm9yLiBJbiBvdXIgZGF0YSBzZXQsIHRoZSBtZWFuIHZhbHVlIG9mIFBldGFsLldpZHRoIGlzIDEuMTk5MywgYW5kIHNvIHRoZSBwZXJjZW50YWdlIGVycm9yIGlzIDAuMjA2NS8xLjE5OTMgPSAxNyUuDQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCnNpZ21hKG1vZGVsMSkqMTAwL21lYW4oaXJpcyRQZXRhbC5XaWR0aCkNCmBgYA0KDQoyLiAqKlRoZSBSLXNxdWFyZWQgKCRSXjIkKSoqDQoNClRoZSAqKlItc3F1YXJlZCoqICRSXjIkIHJhbmdlcyBmcm9tIDAgdG8gMSBhbmQgcmVwcmVzZW50cyB0aGUgKipwcm9wb3J0aW9uIG9mIGluZm9ybWF0aW9uIChpLmUuIHZhcmlhdGlvbikgaW4gdGhlIGRhdGEgdGhhdCBjYW4gYmUgZXhwbGFpbmVkIGJ5IHRoZSBtb2RlbCoqLiBUaGUgKiphZGp1c3RlZCAkUl4yJCBhZGp1c3RzICRSXjIkIHdpdGggdGhlIGRlZ3JlZXMgb2YgZnJlZWRvbSoqLg0KDQpUaGUgJFJeMiQgbWVhc3VyZXMsIGhvdyB3ZWxsIHRoZSBtb2RlbCBmaXRzIHRoZSBkYXRhLiBGb3IgYSBzaW1wbGUgbGluZWFyIHJlZ3Jlc3Npb24sICRSXjIkIGlzIHRoZSBzcXVhcmUgb2YgdGhlICoqUGVhcnNvbiBjb3JyZWxhdGlvbiBjb2VmZmljaWVudCoqLg0KDQpBIGhpZ2ggdmFsdWUgb2YgJFJeMiQgaXMgYSBnb29kIGluZGljYXRpb24uIEhvd2V2ZXIsIGFzIHRoZSB2YWx1ZSBvZiAkUl4yJCB0ZW5kcyB0byBpbmNyZWFzZSB3aGVuIG1vcmUgcHJlZGljdG9ycyBhcmUgYWRkZWQgaW4gdGhlIG1vZGVsLCBzdWNoIGFzIGluICoqbXVsdGlwbGUgbGluZWFyIHJlZ3Jlc3Npb24gbW9kZSoqbCwgeW91IHNob3VsZCBtYWlubHkgY29uc2lkZXIgdGhlIGFkanVzdGVkICRSXjIkKiosIHdoaWNoIGlzIGEgcGVuYWxpemVkICRSXjIkIGZvciBhIGhpZ2hlciBudW1iZXIgb2YgcHJlZGljdG9ycy4NCg0KKyBBbiAoYWRqdXN0ZWQpICRSXjIkIHRoYXQgaXMgY2xvc2UgdG8gMSBpbmRpY2F0ZXMgdGhhdCBhIGxhcmdlIHByb3BvcnRpb24gb2YgdGhlIHZhcmlhYmlsaXR5IGluIHRoZSBvdXRjb21lIGhhcyBiZWVuIGV4cGxhaW5lZCBieSB0aGUgcmVncmVzc2lvbiBtb2RlbC4NCg0KKyBBIG51bWJlciBuZWFyIDAgaW5kaWNhdGVzIHRoYXQgdGhlIHJlZ3Jlc3Npb24gbW9kZWwgZGlkIG5vdCBleHBsYWluIG11Y2ggb2YgdGhlIHZhcmlhYmlsaXR5IGluIHRoZSBvdXRjb21lLg0KDQozLiAqKkYtc3RhdGlzdGljKioNCg0KVGhlICoqRi1zdGF0aXN0aWMqKiBnaXZlcyB0aGUgb3ZlcmFsbCBzaWduaWZpY2FuY2Ugb2YgdGhlIG1vZGVsLiBJdCBhc3Nlc3Mgd2hldGhlciAqKmF0IGxlYXN0IG9uZSBwcmVkaWN0b3IgdmFyaWFibGUgaGFzIGEgbm9uLXplcm8gY29lZmZpY2llbnQqKi4NCg0KSW4gYSBzaW1wbGUgbGluZWFyIHJlZ3Jlc3Npb24sIHRoaXMgdGVzdCBpcyBub3QgcmVhbGx5IGludGVyZXN0aW5nIHNpbmNlIGl0IGp1c3QgZHVwbGljYXRlcyB0aGUgaW5mb3JtYXRpb24gaW4gZ2l2ZW4gYnkgdGhlICp0Ki10ZXN0LCBhdmFpbGFibGUgaW4gdGhlIGNvZWZmaWNpZW50IHRhYmxlLiBJbiBmYWN0LCB0aGUgKkYqLXRlc3QgaXMgaWRlbnRpY2FsIHRvIHRoZSBzcXVhcmUgb2YgdGhlIHQtdGVzdDogJDE4ODIgPSAoNDMuMzg3KV4yJC4gVGhhdCB3b3VsZCBiZSB0cnVlIGluIGFueSBtb2RlbCB3aXRoIDEgZGVncmVlIG9mIGZyZWVkb20uDQoNClRoZSBGLXN0YXRpc3RpYyBiZWNvbWVzICoqbW9yZSBpbXBvcnRhbnQqKiBvbmNlIHdlIHN0YXJ0ICoqdXNpbmcgbXVsdGlwbGUgcHJlZGljdG9ycyoqIGFzIGluIG11bHRpcGxlIGxpbmVhciByZWdyZXNzaW9uLg0KDQpBIGxhcmdlIEYtc3RhdGlzdGljIHdpbGwgY29ycmVzcG9uZHMgdG8gYSBzdGF0aXN0aWNhbGx5IHNpZ25pZmljYW50ICpwKi12YWx1ZSAocCA8IDAuMDUpLiBJbiBvdXIgZXhhbXBsZSwgdGhlIEYtc3RhdGlzdGljIGVxdWFsIDE4ODIgcHJvZHVjaW5nIGEgcC12YWx1ZSBvZiA8IDIuMmUtMTYsIHdoaWNoIGlzIGhpZ2hseSBzaWduaWZpY2FudC4NCg0KIyBNdWx0aXBsZSByZWdyZXNzaW9uDQoNCioqTXVsdGlwbGUgbGluZWFyIHJlZ3Jlc3Npb24qKiBpcyBqdXN0IGFuICoqZXh0ZW5zaW9uIG9mIHNpbXBsZSBsaW5lYXIgcmVncmVzc2lvbioqIHVzZWQgdG8gcHJlZGljdCBhbiBvdXRjb21lIHZhcmlhYmxlICgkeSQpIG9uIHRoZSBiYXNpcyBvZiBtdWx0aXBsZSBkaXN0aW5jdCBwcmVkaWN0b3IgdmFyaWFibGVzICgkeCQpLg0KDQpXaXRoIHRocmVlIHByZWRpY3RvciB2YXJpYWJsZXMgKCR4JCksIHRoZSBwcmVkaWN0aW9uIG9mICR5JCBpcyBleHByZXNzZWQgYnkgdGhlIGZvbGxvd2luZyBlcXVhdGlvbjoNCg0KJCR5ID0gXGJldGFfMCArIFxiZXRhXzEqeF8xICsgXGJldGFfMip4XzIgKyBcYmV0YV8zKnhfMyQkDQoNClRoZSDigJwkXGJldGEk4oCdIHZhbHVlcyBhcmUgY2FsbGVkIHRoZSByZWdyZXNzaW9uIHdlaWdodHMgKG9yIGJldGEgY29lZmZpY2llbnRzKS4gVGhleSBtZWFzdXJlIHRoZSBhc3NvY2lhdGlvbiBiZXR3ZWVuIHRoZSBwcmVkaWN0b3IgdmFyaWFibGUgYW5kIHRoZSBvdXRjb21lLiDigJwkXGJldGFfaiTigJ0gY2FuIGJlIGludGVycHJldGVkIGFzIHRoZSBhdmVyYWdlIGVmZmVjdCBvbiAkeSQgb2YgYSBvbmUgdW5pdCBpbmNyZWFzZSBpbiDigJwkeF9qJOKAnSwgaG9sZGluZyBhbGwgb3RoZXIgcHJlZGljdG9ycyBmaXhlZC4NCg0KIyMgRml0dGluZyB0aGUgbW9kZWwNCg0KUiBwcm92aWRlcyBjb21wcmVoZW5zaXZlIHN1cHBvcnQgZm9yIG11bHRpcGxlIGxpbmVhciByZWdyZXNzaW9uLiBXZSB3YW50IHRvIGJ1aWxkIGEgbW9kZWwgZm9yIGVzdGltYXRpbmcgYFBldGFsLldpZHRoYCBiYXNlZCBvbiBkYXRhIHdlIGdldCBvbiBgUGV0YWwuTGVuZ3RoYCwgYFNlcGFsLkxlbmd0aGAsIGFuZCBgU2VwYWwuV2lkdGhgLiANCg0KDQokJFBldGFsLldpZHRoID0gXGJldGFfMCArIFxiZXRhXzEqUGV0YWwuTGVuZ3RoICsgXGJldGFfMipTZXBhbC5MZW5ndGggKyBcYmV0YV8zKlNlcGFsLldpZHRoJCQNCllvdSBjYW4gbm93IGVhc2lseSBjb21wdXRlIHRoaXMgaW4gUiBhcyBmb2xsb3c6DQoNCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KZml0MSA8LSBsbShQZXRhbC5XaWR0aCB+IFBldGFsLkxlbmd0aCArIFNlcGFsLldpZHRoICsgU2VwYWwuTGVuZ3RoLCBkYXRhID0gaXJpcykNCnN1bW1hcnkoZml0MSkNCmBgYA0KDQpgYGB7ciwgIGV2YWw9Riwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQojIE90aGVyIHVzZWZ1bCBmdW5jdGlvbnMNCmNvZWZmaWNpZW50cyhmaXQxKSAjIG1vZGVsIGNvZWZmaWNpZW50cw0KY29uZmludChmaXQxLCBsZXZlbD0wLjk1KSAjIENJcyBmb3IgbW9kZWwgcGFyYW1ldGVycw0KZml0dGVkKGZpdDEpICMgcHJlZGljdGVkIHZhbHVlcw0KcmVzaWR1YWxzKGZpdDEpICMgcmVzaWR1YWxzDQphbm92YShmaXQxKSAjIGFub3ZhIHRhYmxlDQp2Y292KGZpdDEpICMgY292YXJpYW5jZSBtYXRyaXggZm9yIG1vZGVsIHBhcmFtZXRlcnMNCmluZmx1ZW5jZShmaXQxKSAjIHJlZ3Jlc3Npb24gZGlhZ25vc3RpY3MNCmBgYA0KDQojIyBSZWdyZXNzaW9uIGRpYWdub3N0aWNzDQoNClNlZSBbaGVyZV0oaHR0cHM6Ly93d3cuc3RhdG1ldGhvZHMubmV0L3N0YXRzL3JkaWFnbm9zdGljcy5odG1sKSBmb3IgZnVuY3Rpb25zIGFuZCBwYWNrYWdlcw0KDQojIyMgRGlhZ25vc3RpYyBwbG90cw0KDQpbRGlhZ25vc3RpY10oaHR0cDovL3N0cmF0YS51Z2EuZWR1LzgzNzAvcnRpcHMvcmVncmVzc2lvblBsb3RzLmh0bWwpIHBsb3RzIHByb3ZpZGUgY2hlY2tzIGZvciBoZXRlcm9zY2VkYXN0aWNpdHksIG5vcm1hbGl0eSwgYW5kIGluZmx1ZW50aWFsIG9ic2VydmF0aW9ucy4gDQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCiMgZGlhZ25vc3RpYyBwbG90cw0KbGF5b3V0KG1hdHJpeChjKDEsMiwzLDQpLDIsMikpICMgb3B0aW9uYWwgNCBncmFwaHMvcGFnZQ0KcGxvdChmaXQxKQ0KYGBgDQoNCjEuICoqUmVzaWR1YWxzIHZzLiBmaXR0ZWQqKiBwbG90Lg0KDQpUaGlzIHBsb3Qgc2VydmVzIG1haW5seSB0byBjaGVjayB0aGUgbGluZWFyaXR5LCBhbHRob3VnaCBsYWNrIG9mIGhvbW9zY2VkYXN0aWNpdHkgb3IgaW5kZXBlbmRlbmNlIGNhbiBhbHNvIGJlIGRldGVjdGVkLiBVbmRlciBsaW5lYXJpdHksIHdlIGV4cGVjdCB0aGUgcmVkIGxpbmUgKGEgbm9ubGluZWFyIGZpdCBvZiB0aGUgbWVhbiBvZiB0aGUgcmVzaWR1YWxzKSB0byBiZSBhbG1vc3QgZmxhdC4gVGhpcyBtZWFucyB0aGF0IHRoZSB0cmVuZCBvZiAkWV8xLC4uLixZX24kIGlzIGxpbmVhciB3aXRoIHJlc3BlY3QgdG8gdGhlIHByZWRpY3RvcnMuIEhldGVyb3NjZWRhc3RpY2l0eSBjYW4gYmUgZGV0ZWN0ZWQgYWxzbyBpbiB0aGUgZm9ybSBvZiBpcnJlZ3VsYXIgdmVydGljYWwgZGlzcGVyc2lvbiBhcm91bmQgdGhlIHJlZCBsaW5lLiBUaGUgZGVwZW5kZW5jZSBiZXR3ZWVuIHJlc2lkdWFscyBjYW4gYmUgZGV0ZWN0ZWQgKGhhcmRlcikgaW4gdGhlIGZvcm0gb2Ygbm9uIHJhbmRvbWx5IHNwcmVhZCByZXNpZHVhbHMuDQoNCjIuICoqTm9ybWFsIFEtUSoqIHBsb3QuIENoZWNrIHRoZSBub3JtYWxpdHkgDQoNClVuZGVyIG5vcm1hbGl0eSwgd2UgZXhwZWN0IHRoZSBwb2ludHMgKHNhbXBsZSBxdWFudGlsZXMgb2YgdGhlIHN0YW5kYXJkaXplZCByZXNpZHVhbHMgdnMuIHRoZW9yZXRpY2FsIHF1YW50aWxlcyBvZiBhICAkTigwLDEpJCAqKnRvIGFsaWduIHdpdGggdGhlIGRpYWdvbmFsIGxpbmUqKiwgd2hpY2ggcmVwcmVzZW50cyB0aGUgaWRlYWwgcG9zaXRpb24gb2YgdGhlIHBvaW50cyBpZiB0aG9zZSB3ZXJlIHNhbXBsZWQgZnJvbSBhICROKDAsMSkkLiBJdCBpcyB1c3VhbCB0byBoYXZlIGxhcmdlciBkZXBhcnR1cmVzIGZyb20gdGhlIGRpYWdvbmFsIGluIHRoZSBleHRyZW1lcyB0aGFuIGluIHRoZSBjZW50ZXIsIGV2ZW4gdW5kZXIgbm9ybWFsaXR5LCBhbHRob3VnaCB0aGVzZSBkZXBhcnR1cmVzIGFyZSBtb3JlIGNsZWFyIGlmIHRoZSBkYXRhIGlzIG5vbi1ub3JtYWwuDQoNCjMuICoqU2NhbGUtbG9jYXRpb24qKiBwbG90Lg0KDQpTZXJ2ZXMgZm9yIGNoZWNraW5nIHRoZSAqKmhvbW9zY2VkYXN0aWNpdHkqKi4gSXQgaXMgc2ltaWxhciB0byB0aGUgZmlyc3QgZGlhZ25vc3RpYyBwbG90LCBidXQgbm93IHdpdGggdGhlIHJlc2lkdWFscyBzdGFuZGFyZGl6ZWQgYW5kIHRyYW5zZm9ybWVkIGJ5IGEgc3F1YXJlIHJvb3QgKG9mIHRoZSBhYnNvbHV0ZSB2YWx1ZSkuIFRoaXMgY2hhbmdlIHRyYW5zZm9ybXMgdGhlIHRhc2sgb2Ygc3BvdHRpbmcgaGV0ZXJvc2tlZGFzdGljaXR5IGJ5IGxvb2tpbmcgaW50byBpcnJlZ3VsYXIgdmVydGljYWwgZGlzcGVyc2lvbiBwYXR0ZXJucyBpbnRvIHNwb3R0aW5nIGZvciBub25saW5lYXJpdGllcywgd2hpY2ggaXMgc29tZWhvdyBzaW1wbGVyLiAqKlVuZGVyIGhvbW9zY2VkYXN0aWNpdHksIHdlIGV4cGVjdCB0aGUgcmVkIGxpbmUgdG8gYmUgYWxtb3N0IGZsYXQuKiogSWYgdGhlcmUgYXJlIGNvbnNpc3RlbnQgbm9ubGluZWFyIHBhdHRlcm5zLCB0aGVuIHRoZXJlIGlzIGV2aWRlbmNlIG9mIGhldGVyb3NjZWRhc3RpY2l0eS4NCg0KNC4gKipSZXNpZHVhbHMgdmVyc3VzIExldmVyYWdlKiogdG8gZGV0ZWN0IG91dGxpZXIgYW5kIGNoZWNrIGZvciB0aGUgbm9ybWFsaXR5LiBPbiB0aGlzIHBsb3QsIHlvdSB3YW50IHRvIHNlZSB0aGF0IHRoZSByZWQgc21vb3RoZWQgbGluZSBzdGF5cyBjbG9zZSB0byB0aGUgaG9yaXpvbnRhbCBncmF5IGRhc2hlZCBsaW5lIGFuZCB0aGF0IG5vIHBvaW50cyBoYXZlIGEgbGFyZ2UgQ29va+KAmXMgZGlzdGFuY2UgKGkuZSwgPjAuNSkuIA0KDQojIyMgT3V0bGllcnMNCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KIyBBc3Nlc3NpbmcgT3V0bGllcnMNCm91dGxpZXJUZXN0KGZpdDEpICMgQm9uZmVyb25uaSBwLXZhbHVlIGZvciBtb3N0IGV4dHJlbWUgb2JzDQpxcVBsb3QoZml0MSwgbWFpbj0iUVEgUGxvdCIpICNxcSBwbG90IGZvciBzdHVkZW50aXplZCByZXNpZA0KbGV2ZXJhZ2VQbG90cyhmaXQxKSAjIGxldmVyYWdlIHBsb3RzDQpgYGANCg0KIyMjIEluZmx1ZW50aWFsIG9ic2VydmF0aW9ucw0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQojIEluZmx1ZW50aWFsIE9ic2VydmF0aW9ucw0KIyBhZGRlZCB2YXJpYWJsZSBwbG90cw0KYXZQbG90cyhmaXQxKQ0KIyBDb29rJ3MgRCBwbG90DQojIGlkZW50aWZ5IEQgdmFsdWVzID4gNC8obi1rLTEpDQpjdXRvZmYgPC0gNC8oKG5yb3coaXJpcyktbGVuZ3RoKGZpdDEkY29lZmZpY2llbnRzKS0yKSkNCnBsb3QoZml0MSwgd2hpY2g9NCwgY29vay5sZXZlbHM9Y3V0b2ZmKQ0KIyBJbmZsdWVuY2UgUGxvdA0KaW5mbHVlbmNlUGxvdChmaXQxLCBpZC5tZXRob2Q9ImlkZW50aWZ5IiwgbWFpbj0iSW5mbHVlbmNlIFBsb3QiLCBzdWI9IkNpcmNsZSBzaXplIGlzIHByb3BvcnRpYWwgdG8gQ29vaydzIERpc3RhbmNlIiApDQpgYGANCg0KIyMjIE5vbi1ub3JtYWxpdHkNCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KIyBOb3JtYWxpdHkgb2YgUmVzaWR1YWxzDQojIHFxIHBsb3QgZm9yIHN0dWRlbnRpemVkIHJlc2lkDQpxcVBsb3QoZml0MSwgbWFpbj0iUVEgUGxvdCIpDQojIGRpc3RyaWJ1dGlvbiBvZiBzdHVkZW50aXplZCByZXNpZHVhbHMNCnNyZXNpZCA8LSBzdHVkcmVzKGZpdDEpDQpoaXN0KHNyZXNpZCwgZnJlcT1GQUxTRSwNCiAgIG1haW49IkRpc3RyaWJ1dGlvbiBvZiBTdHVkZW50aXplZCBSZXNpZHVhbHMiKQ0KeGZpdDwtc2VxKG1pbihzcmVzaWQpLG1heChzcmVzaWQpLGxlbmd0aD00MCkNCnlmaXQ8LWRub3JtKHhmaXQpDQpsaW5lcyh4Zml0LCB5Zml0KQ0KYGBgDQoNCiMjIyBOb24tY29uc3RhbnQgRXJyb3IgVmFyaWFuY2UNCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KIyBFdmFsdWF0ZSBob21vc2NlZGFzdGljaXR5DQojIG5vbi1jb25zdGFudCBlcnJvciB2YXJpYW5jZSB0ZXN0DQpuY3ZUZXN0KGZpdDEpDQojIHBsb3Qgc3R1ZGVudGl6ZWQgcmVzaWR1YWxzIHZzLiBmaXR0ZWQgdmFsdWVzDQpzcHJlYWRMZXZlbFBsb3QoZml0MSkNCmBgYA0KDQojIyMgTXVsdGktY29sbGluZWFyaXR5DQoNCkEgY29tbW9uIHByb2JsZW0gdGhhdCBhcmlzZXMgaW4gbXVsdGlwbGUgbGluZWFyIHJlZ3Jlc3Npb24gaXMgdGhlICoqbXVsdGktY29sbGluZWFyaXR5KiouIFRoaXMgaXMgdGhlIHNpdHVhdGlvbiB3aGVuIHR3byBvciBtb3JlIHByZWRpY3RvcnMgYXJlIGhpZ2hseSBsaW5lYXJseSByZWxhdGVkIGJldHdlZW4gdGhlbS4gTXVsdGljb2xsaW5lYXJpdGl5IGhhcyBpbXBvcnRhbnQgZWZmZWN0cyBvbiB0aGUgZml0IG9mIHRoZSBtb2RlbDoNCg0KKyBJdCByZWR1Y2VzIHRoZSBwcmVjaXNpb24gb2YgdGhlIGVzdGltYXRlcy4gQXMgYSBjb25zZXF1ZW5jZSwgc2lnbnMgb2YgZml0dGVkIGNvZWZmaWNpZW50cyBtYXkgYmUgcmV2ZXJzZWQgYW5kIHZhbHVhYmxlIHByZWRpY3RvcnMgbWF5IGFwcGVhciBhcyBub24gc2lnbmlmaWNhbnQuDQoNCisgSXQgaXMgZGlmZmljdWx0IHRvIGRldGVybWluZSBob3cgZWFjaCBvZiB0aGUgaGlnaGx5IHJlbGF0ZWQgcHJlZGljdG9ycyBhZmZlY3RzIHRoZSByZXNwb25zZSwgc2luY2Ugb25lIG1hc2tzIHRoZSBvdGhlci4gVGhpcyBtYXkgcmVzdWx0IGluIG51bWVyaWNhbCBpbnN0YWJpbGl0aWVzLg0KDQpBbiBhcHByb2FjaCBpcyB0byBkZXRlY3QgbXVsdGljb2xsaW5lYXJpdHkgaXMgdG8gY29tcHV0ZSBhIGNvcnJlbGF0aW9uIG1hdHJpeCBiZXR3ZWVuIHRoZSBwcmVkaWN0b3JzIGFzIHdlIGxlYXJuZWQgZWFybGllcg0KDQpgYGB7ciwgIGV2YWw9VCwgZWNobz1GLCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCmNvcnI8LWNvcihpcmlzWywxOjNdKQ0KcC52YWw8LXJjb3JyKGFzLm1hdHJpeChpcmlzWywxOjNdKSkkUA0KY29ycnBsb3QoY29ycix0eXBlPSd1cHBlcicsbWV0aG9kPSdjb2xvcicsIGFkZENvZWYuY29sID0gImJsYWNrIiwgIHAubWF0PWFzLm1hdHJpeChwLnZhbCksIHNpZy5sZXZlbCA9IDAuMDUsZGlhZz1GKQ0KYGBgDQoNCkhlcmUgd2UgY2FuIHNlZSB3aGF0IHdlIGFscmVhZHkga25ldyB0aGF0IGBTZXBhbC5MZW5ndGhgIGFuZCBgUGV0YWwuTGVuZ3RoYCBhcmUgaGlnaGx5IGxpbmVhcmx5IHJlbGF0ZWQuIE9uZSBjb3VsZCBiZSByZW1vdmVkLiBIb3dldmVyLCBpdCBpcyBub3QgZW5vdWdoIHRvIGluc3BlY3QgcGFpciBieSBwYWlyIGNvcnJlbGF0aW9ucyBpbiBvcmRlciB0byBnZXQgcmlkIG9mIG11bHRpY29sbGluZWFyaXR5LkEgYmV0dGVyIGFwcHJvYWNoIGlzIHRvIGNvbXB1dGUgdGhlICoqVmFyaWFuY2UgSW5mbGF0aW9uIEZhY3RvcioqIChWSUYpIG9mIGVhY2ggY29lZmZpY2llbnQgJFxiZXRhX2okLiBUaGlzIGlzIG1lYXN1cmUgb2YgaG93IGxpbmVhcmx5IGRlcGVuZGVudCBpcyAkWF9qJCB3aXRoIHRoZSByZXN0IG9mIHByZWRpY3RvcnM6DQoNCg0KJCRcdGV4dHtWSUZ9KFxiZXRhX2opPVxmcmFjezF9ezEtUl4yX3tYX2p8WF97LWp9fX0kJA0KDQp3aGVyZSAkUl4yX3tYX2p8WF97LWp9fSQgaXMgdGhlICRSXjIkIGZyb20gYSByZWdyZXNzaW9uIG9mICRYX2okIGludG8gdGhlIHJlbWFpbmluZyBwcmVkaWN0b3JzLiBUaGUgbmV4dCBydWxlIG9mIHRodW1iIGdpdmVzIGRpcmVjdCBpbnNpZ2h0IGludG8gd2hpY2ggcHJlZGljdG9ycyBhcmUgbXVsdGljb2xsaW5lYXI6DQoNCiArICoqVklGIGNsb3NlIHRvIDEqKjogYWJzZW5jZSBvZiBtdWx0aWNvbGxpbmVhcml0eS4NCiArICoqVklGIGxhcmdlciB0aGFuIDUgb3IgMTAqKjogbXVsdGljb2xpbmVhcml0eSAqKnByb2JsZW1hdGljKiouICANCiANCk90aGVyIGNvbnNpZGVyZWQgJFxzcXJ0e1ZJRn0+MiQgYXMgY3JpdGljYWwgbGltaXQgdG8gY29uc2lkZXIgbXVsdGljb2xsaW5lYXJpdHkuDQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCiMgRXZhbHVhdGUgQ29sbGluZWFyaXR5DQpjYXI6OnZpZihmaXQxKSAjIHZhcmlhbmNlIGluZmxhdGlvbiBmYWN0b3JzDQpzcXJ0KGNhcjo6dmlmKGZpdDEpKSA+IDIgIyBwcm9ibGVtPw0KYGBgDQoNCiMjIyBOb25saW5lYXJpdHkNCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KIyBFdmFsdWF0ZSBOb25saW5lYXJpdHkNCiMgY29tcG9uZW50ICsgcmVzaWR1YWwgcGxvdA0KY3JQbG90cyhmaXQxKQ0KIyBDZXJlcyBwbG90cw0KY2VyZXNQbG90cyhmaXQxKQ0KYGBgDQoNCiMjIyBOb24taW5kZXBlbmRlbmNlIG9mIEVycm9ycw0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQojIFRlc3QgZm9yIEF1dG9jb3JyZWxhdGVkIEVycm9ycw0KZHVyYmluV2F0c29uVGVzdChmaXQxKQ0KYGBgDQoNCiMjIyBBZGRpdGlvbmFsIERpYWdub3N0aWMgSGVscA0KDQpCYXNlZCBvbiBQZW5hIGFuZCBTbGF0ZSAoMjAwNiksIHRoZSBmb3VyIGFzc3VtcHRpb25zIGluIGxpbmVhciByZWdyZXNzaW9uIGFyZSBub3JtYWxpdHksIGhldGVyb3NjZWRhc3RpY2l0eSwgYW5kIGxpbmVhcml0eSwgYW5kIHdoYXQgdGhlIGF1dGhvcnMgcmVmZXIgdG8gYXMgdW5jb3JyZWxhdGVkbmVzcy4NCg0KVGhlIGBndmxtYSggKWAgZnVuY3Rpb24gaW4gdGhlIGBndmxtYWAgcGFja2FnZSwgcGVyZm9ybXMgYSBnbG9iYWwgdmFsaWRhdGlvbiBvZiBsaW5lYXIgbW9kZWwgYXNzdW1wdGlvbnMgYXMgd2VsbCBzZXBhcmF0ZSBldmFsdWF0aW9ucyBvZiBza2V3bmVzcywga3VydG9zaXMsIGFuZCBoZXRlcm9zY2VkYXN0aWNpdHkuDQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCmd2bW9kZWwgPC0gZ3ZsbWEoZml0MSkNCnN1bW1hcnkoZ3Ztb2RlbCkNCmBgYA0KDQpUaGlzIHRlc3RzIGZvciB0aGUgbGluZWFyIG1vZGVsIGFzc3VtcHRpb25zIGFuZCBoZWxwZnVsbHkgcHJvdmlkZXMgaW5mb3JtYXRpb24gb24gb3RoZXIgYXNzdW1wdGlvbnMuIEluIHRoaXMgY2FzZSB3ZSBhcmUgZ29pbmcgdG8gbG9vayBhdCB0aGUgaGV0ZXJvc2tlZGFzdGljaXR5IGRlY2lzaW9ucywgd2hpY2ggaGFzIGJlZW4gaWRlbnRpZmllZCBhcyBub3QgYmVpbmcgc2F0aXNmaWVkLiBXZSB0aGVyZWZvcmUgcmVqZWN0IHRoZSBudWxsIGh5cG90aGVzaXMgYW5kIHN0YXRlIHRoYXQgdGhlcmUgaXMgaGV0ZXJvc2tlZGFzdGljaXR5IGluIHRoaXMgbW9kZWwgYXQgdGhlIDUlIHNpZ25pZmljYW5jZSBsZXZlbC4NCg0KMS4gR2xvYmFsIFN0YXQgVGhpcyBpcyB0aGUgb3ZlcmFsbCBtZXRyaWM7IHRoaXMgc3RhdGVzIHdoZXRoZXIgdGhlIG1vZGVsLCBhcyBhIHdob2xlLCBwYXNzZXMgb3IgZmFpbHMuDQoNCjIuIFNrZXduZXNzOiAgbWVhc3VyaW5nIHRoZSBkaXN0cmlidXRpb24NCg0KMy4gS3VydG9zaXM6IG1lYXN1cmluZyB0aGUgZGlzdHJpYnV0aW9uLCBvdXRsaWVycywgaW5mbHVlbnRpYWwgZGF0YSwgZXRjDQoNCjQuIExpbmsgZnVuY3Rpb246ICBtaXNzcGVjaWZpZWQgbW9kZWwsIGhvdyB5b3UgbGlua2VkIHRoZSBlbGVtZW50cyBpbiB0aGUgbW9kZWwgYXNzaWdubWVudA0KDQo1LiBIZXRlcm9zY2VkYXN0aWNpdHk6IGxvb2tpbmcgZm9yIGVxdWFsIHZhcmlhbmNlIGluIHRoZSByZXNpZHVhbHMNCg0KIyMgRGVhbGluZyB3aXRoIHZpb2xhdGlvbiBvZiBhc3N1bXB0aW9uDQoNCg0KQSBtZXRob2Qgb2YgY2hvaWNlIGZvciBhZGRyZXNzaW5nIGFueSB2aW9sYXRpb25zIG9mIGFzc3VtcHRpb25zIGlzIG9mdGVuIHNpbXBsZSBzY2FsZSB0cmFuc2Zvcm1hdGlvbiBvZiBlaXRoZXIgdGhlIGRlcGVuZGVudCBvciB0aGUgaW5kZXBlbmRlbnQgdmFyaWFibGVzLCBvciBib3RoLiBUaGUgQm94LUNveCB0cmFuc2Zvcm1hdGlvbiBpcyBhIHBvd2VyIHRyYW5zZm9ybWF0aW9uIHRoYXQgZWxpbWluYXRlcyBub24tbGluZWFyaXR5IGJldHdlZW4gdmFyaWFibGVzLCBkaWZmZXJpbmcgdmFyaWFuY2VzLCBhbmQgdmFyaWFibGUgYXN5bW1ldHJ5LlRoZSBhYmlsaXR5IHRvIHR1cm4gYSB2YXJpYWJsZSBpbnRvIGEgbmV3IHZhcmlhYmxlIHdpdGggYSBub3JtYWwgZGlzdHJpYnV0aW9uIGlzIHRoZXJlZm9yZSB2ZXJ5IGhlbHBmdWwuDQoNClRoZSBmb2xsb3dpbmcgZXhwcmVzc2lvbiBnaXZlcyB0aGUgQm94LUNveCBmdW5jdGlvbnMgdHJhbnNmb3JtYXRpb25zIGZvciB2YXJpb3VzIHZhbHVlcyBvZiBsYW1iZGE6DQoNCiRcZnJhY3t4Xs67LTF9zrskICBpZiAgJM67XG5lcTAkIA0KDQokbG9nKHgpJCAgaWYgICTOuz0wJCANCg0KYmVpbmcgeSB0aGUgY2hhbmdlZCB2YXJpYWJsZSBhbmQgbGFtYmRhICjOuykgdGhlIHRyYW5zZm9ybWF0aW9uIHBhcmFtZXRlciBIb3dldmVyLCB0aGUgZm9sbG93aW5nIHRhYmxlIGRlc2NyaWJlcyB0aGUgbW9zdCB0eXBpY2FsIHRyYW5zZm9ybWF0aW9uczoNCg0Kzrt8VHJhbnNmb3JtYXRpb24NCi0tfC0tLS0tLS0tLS0tLS0tDQotMnwkXGZyYWN7MX17eF4yfSQNCi0xfCRcZnJhY3sxfXt4fSQNCi0wLjV8JFxmcmFjezF9e1xzcXJ0e3h9fSQNCjB8JGxvZyh4KSQNCjAuNXwkc3FydHt4fSQNCjF8JHgkDQoyfCR4XjIkDQoNCkluIHByYWN0aWNlLCBpdCBpcyBhZHZpc2VkIHRvIGNob29zZSB0aGUgdmFsdWUgZnJvbSB0aGUgdGFibGUgcmF0aGVyIHRoYW4gdGhlIHByZWNpc2UgdmFsdWUgaWYgdGhlIGVzdGltYXRlZCB0cmFuc2Zvcm1hdGlvbiBwYXJhbWV0ZXIgaXMgY2xvc2UgdG8gb25lIG9mIHRoZSB2YWx1ZXMgb2YgdGhlIHByZXZpb3VzIHRhYmxlIGJlY2F1c2UgdGhlIHZhbHVlIGZyb20gdGhlIHRhYmxlIGlzIHNpbXBsZXIgdG8gdW5kZXJzdGFuZC4gQmVsb3cgaXMgYSBxdWljayBpbXBsZW1lbnRhdGlvbiBvZiBCb3gtQ294IHRyYW5zZm9ybWF0aW9uIGNhcGFiaWxpdGllcyBpcyBpbnRyb2R1Y2VkLiBJbiB0aGlzIGluc3RhbmNlLCB0aGUgZ29hbCBpcyB0byBmaW5kIGFuIGV4cG9uZW50IHRvIHVzZSB0byB0cmFuc2Zvcm0gdGhlIGRlcGVuZGFudCB2YXJpYXZlbCB0byBoZWxwIHByb2R1Y2Ugbm9ybWFsaXR5IGFuZCBob21vc2NlZGFzdGljaXR5IG9mIHRoZSByZXNpZHVhbHMuIFRoZSBwZWFrIG9mIHRoZSBjdXJ2ZSBpbiB0aGUgcGxvdCB5aWVsZHMgzrssIHRoZSBzY2FsaW5nIGNvbXBvbmVudC4NCg0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQpib3hjb3hmaXQgPC0gYm94Y294KGZpdDEscGxvdGl0PVQpDQojIGFsc28gc2VlIGBib3hDb3hgIGZyb20gKipjYXIqKg0KIyBhbHNvIHNlZSBgQm94Q294VHJhbnNgIGZyb20gKipjYXJldCoqIGZvciBpbmRpdmlkdWFsIHZhcmlhYmxlDQpgYGANCg0KRmluZCB0aGUgb3B0aW1hbCDOuyBmb3IgQm94LUNveCB0cmFuc2Zvcm1hdGlvbiANCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KbGFtYmRhIDwtIGJveGNveGZpdCR4W3doaWNoLm1heChib3hjb3hmaXQkeSldDQpgYGANCg0KRm9yIHRoaXMgbW9kZWwsIM67ICBpcyB3YXMgZm91bmQgdG8gYmUgYWJvdXQgMC42NjcgKGFwcHJveGltYXRlbHkgZXF1aXZhbGVudCB0byBhIHNxdWFyZSByb290IHRyYW5zZm9ybWF0aW9uKS4gVGhpcyB2YWx1ZSB3b3VsZCBiZSB1c2VkIHRvIHRyYW5zZm9ybSB0aGUgZGVwZW5kZW50IHZhcmlhYmxlIGFuZCB0byByZXJ1biB0aGUgcHJldmlvdXMgYW5hbHlzaXMuIEJ1dCByZWNhbGwgdGhhdCB0aGUgbm9ybWFsaXR5IHdhcyBub3QgIGJpZyBkZWFsIGVhcmxpZXIgYnV0ICB0aGUgaGV0ZXJvc2NlZGFzdGljaXR5IHdhcyBhdCB0aGUgb3Bwb3NpdGUgYSAgYmlnIGlzc3VlLg0KDQoNCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KI2ZpdCBuZXcgbGluZWFyIHJlZ3Jlc3Npb24gbW9kZWwgdXNpbmcgdGhlIEJveC1Db3ggdHJhbnNmb3JtYXRpb24NCm5ld19maXQgPC0gbG0oKChpcmlzJFBldGFsLldpZHRoXmxhbWJkYS0xKS9sYW1iZGEpIH4gUGV0YWwuTGVuZ3RoICsgU2VwYWwuV2lkdGggKyBTZXBhbC5MZW5ndGgsIGRhdGEgPSBpcmlzKQ0KYGBgDQoNClRoZSBvcHRpbWFsIM67IHdhcyBmb3VuZCB0byBiZSAwLjY2Ny4gVGh1cywgdGhlIG5ldyByZWdyZXNzaW9uIG1vZGVsIHJlcGxhY2VkIHRoZSBvcmlnaW5hbCByZXNwb25zZSB2YXJpYWJsZSB5IHdpdGggdGhlIHZhcmlhYmxlIHkgPSAoeV4tMC42Njde4oCTIDEpIC8gLTAuNDI0MjQyNC4gIEFsc28gbm90ZSB0aGF0IHdpdGggdGhlIHNjYWxlIGNoYW5nZSwgdGhlIHZhbHVlcyBvZiB0aGUgcmVncmVzc2lvbiBjb2VmZmljaWVudHMgd291bGQgYmVjb21lIGxlc3MgcmVhZGlseSBpbnRlcnByZXRhYmxlLg0KDQpgYGB7ciwgIGV2YWw9Riwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQpndmxtYShuZXdfZml0KQ0KIyBub3QgYmV0dGVyIGF0IGFsbA0KYGBgDQoNCg0KU2VlIFtXZWlnaHRlZCBMZWFzdCBTcXVhcmVzXShodHRwczovL3VzZXJzLnN0YXQudWZsLmVkdS9+d2lubmVyL3N0YTQyMTEvQUxTTV81RWRfS3V0bmVyLnBkZikgc29sdXRpb25zIGRpc2N1c3NlZCBpbiBLdXRuZXIgZXQgYWwuIDIwMDQgKHAuIDQyMSksIGJ1dCBpdCB3aWxsIG5vdCBiZSBjb3ZlciBoZXJlLiANCg0KDQojIyBCb290c3RyYXANCg0KW0Jvb3RzdHJhcF0oaHR0cHM6Ly90b3dhcmRzZGF0YXNjaWVuY2UuY29tL2Jvb3RzdHJhcC1yZWdyZXNzaW9uLWluLXItOThiZmU0ZmY1MDA3KSBpcyBhIG1ldGhvZCBvZiByYW5kb20gc2FtcGxpbmcgd2l0aCByZXBsYWNlbWVudC4gQW1vbmcgaXRzIG90aGVyIGFwcGxpY2F0aW9ucyBzdWNoIGFzIGh5cG90aGVzaXMgdGVzdGluZywgaXQgaXMgYSBzaW1wbGUgeWV0IHBvd2VyZnVsIGFwcHJvYWNoIGZvciBjaGVja2luZyB0aGUgc3RhYmlsaXR5IG9mIHJlZ3Jlc3Npb24gY29lZmZpY2llbnRzLiANCg0KTGluZWFyIHJlZ3Jlc3Npb24gcmVsaWVzIG9uIHNldmVyYWwgYXNzdW1wdGlvbnMsIGFuZCB0aGUgY29lZmZpY2llbnRzIG9mIHRoZSBmb3JtdWxhcyBhcmUgcHJlc3VtYWJseSBub3JtYWxseSBkaXN0cmlidXRlZC4gSXQgc2hvd3MgdGhhdCBvbiBhdmVyYWdlIGlmIHdlIHJlcGVhdGVkIHRoZSBleHBlcmltZW50IHRob3VzYW5kcyBhbmQgdGhvdXNhbmRzIG9mIHRpbWVzLCB0aGUgbGluZSB3b3VsZCBiZSBpbiBjb25maWRlbmNlIGludGVydmFscy4NCg0KVGhlIGJvb3RzdHJhcCBhcHByb2FjaCBkb2VzIG5vdCByZWx5IG9uIHRob3NlIGFzc3VtcHRpb25zLCBidXQgc2ltcGx5IHBlcmZvcm1zIHRob3VzYW5kcyBvZiBlc3RpbWF0aW9ucy4NCg0KKFBsZWFzZSBub3RlLCB0aGF0IHRoZSBib290c3RyYXAgYXBwcm9hY2ggZG9lcyBub3QgdmlvbGF0ZSBvciBieXBhc3MgdGhlIG5vcm1hbGl0eSBhc3N1bXB0aW9ucywgYnV0IHJhdGhlciB0aGFuIHJlbHlpbmcgb24gdGhlIGNlbnRyYWwgbGltaXQgdGhlb3JlbSBbQ0xUXSwgaXQgYnVpbGRzIGl0cyBvd24sIHRoZSBCb290c3RyYXAgZGlzdHJpYnV0aW9uLCB3aGljaCBpcyBhc3ltcHRvdGljYWxseSAtYXBwcm9hY2hpbmctIG5vcm1hbCkNCg0KDQojIyMgRGF0YXNldCBTaW11bGF0aW9uDQoNCldlIHdpbGwgc2ltdWxhdGUgYSBkYXRhc2V0IG9mIG9uZSBleHBsb3JhdG9yeSB2YXJpYWJsZSBmcm9tIHRoZSBHYXVzc2lhbiBkaXN0cmlidXRpb24sIGFuZCBvbmUgcmVzcG9uc2UgdmFyaWFibGUgY29uc3RydWN0ZWQgYnkgYWRkaW5nIHJhbmRvbSBub2lzZSB0byB0aGUgZXhwbG9yYXRvcnkgdmFyaWFibGUuIFRoZSBwb3B1bGF0aW9uIGRhdGEgd291bGQgaGF2ZSAxMDAwIG9ic2VydmF0aW9ucy4NCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0Kc2V0LnNlZWQoMjAyMSkNCm4gPC0gMTAwMA0KeCA8LSBybm9ybShuKQ0KeSA8LSB4ICsgcm5vcm0obikNCnBvcHVsYXRpb24uZGF0YSA8LSBhcy5kYXRhLmZyYW1lKGNiaW5kKHgsIHkpKQ0KYGBgDQoNCldlIHdpbGwgdGFrZSBhIHNhbXBsZSBvZiAyMCBvYnNlcnZhdGlvbnMgZnJvbSB0aGVzZSBkYXRhLg0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQpzYW1wbGUuZGF0YSA8LSBwb3B1bGF0aW9uLmRhdGFbc2FtcGxlKG5yb3cocG9wdWxhdGlvbi5kYXRhKSwgMjAsIHJlcGxhY2UgPSBUUlVFKSxdDQpgYGANCg0KIyMjIFNpbXBsZSByZWdyZXNzaW9uIG1vZGVscw0KDQpMZXTigJlzIGV4cGxvcmUgdGhlIHNpbXBsZSByZWdyZXNzaW9uIG1vZGVscyBib3RoIGZvciBwb3B1bGF0aW9uIGFuZCBmb3Igc2FtcGxlIGRhdGE6DQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCnBvcHVsYXRpb24ubW9kZWwgPC0gbG0oeX54LCBwb3B1bGF0aW9uLmRhdGEpDQpzdW1tYXJ5IChwb3B1bGF0aW9uLmRhdGEpDQpgYGANCg0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQpzYW1wbGUubW9kZWwgPC0gbG0oeX54LCBzYW1wbGUuZGF0YSkNCnN1bW1hcnkgKHNhbXBsZS5tb2RlbCkNCmBgYA0KDQpXZSBjYW4gc2VlLCB0aGF0IHRoZSBpbnRlcmNlcHQgaXMgYmlhc2VkIGZvciB0aGUgc2FtcGxlIGRhdGE7IGhvd2V2ZXIsIHRoZSBzbG9wZSBjb2VmZmljaWVudCBpcyB2ZXJ5IGNsb3NlIHRvIHRoZSBwb3B1bGF0aW9uIG9uZSwgZXZlbiB0aG91Z2ggd2UgaGF2ZSBvbmx5IDIwIG9ic2VydmF0aW9ucyBpbiBvdXIgc2FtcGxlIGRhdGFzZXQuIFRoZSBzdGFuZGFyZCBlcnJvcnMgYXJlIG11Y2ggaGlnaGVyIGZvciB0aGUgc2FtcGxlIG1vZGVsLg0KDQpJZiB3ZSBwbG90IHRoZSBtb2RlbHMsIHdlIGNhbiBzZWUgaG93IGNsb3NlIHRoZSBsaW5lcyBhcmU6DQoNCmBgYHtyLCAgZXZhbD1ULCBlY2hvPUYsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KI1Bsb3R0aW5nIHRoZSBtb2RlbHMNCnBsb3QoeSB+IHgsIGNvbCA9ICJncmF5IiwgbWFpbiA9ICdQb3B1bGF0aW9uIGFuZCBTYW1wbGUgUmVncmVzc2lvbnMnKQ0KYWJsaW5lKGNvZWYocG9wdWxhdGlvbi5tb2RlbClbMV0sIGNvZWYocG9wdWxhdGlvbi5tb2RlbClbMl0sIGNvbCA9ICJyZWQiKQ0KYWJsaW5lKGNvZWYoc2FtcGxlLm1vZGVsKVsxXSwNCiAgICAgICBjb2VmKHNhbXBsZS5tb2RlbClbMl0sDQogICAgICAgY29sID0gImJsdWUiLA0KICAgICAgIGx0eSA9IDIpDQpsZWdlbmQoDQogICJ0b3BsZWZ0IiwNCiAgbGVnZW5kID0gYygiU2FtcGxlIiwgIlBvcHVsYXRpb24iKSwNCiAgY29sID0gYygicmVkIiwgImJsdWUiKSwNCiAgbHR5ID0gMToyLA0KICBjZXggPSAwLjgpDQpgYGANCg0KIyMjIEJvb3RzdHJhcCBBcHByb2FjaA0KDQpUaGUgQm9vdHN0cmFwIGFwcHJvYWNoIGFza3MgYSBxdWVzdGlvbjogd2hhdCBpZiB3ZSByZXNhbXBsZSB0aGUgZGF0YSB3aXRoIHJlcGxhY2VtZW50IGFuZCBlc3RpbWF0ZSB0aGUgY29lZmZpY2llbnRzLCBob3cgZXh0cmVtZSB3b3VsZCBpdCBiZT8NCg0KDQo8Y2VudGVyPg0KIVtdKEZpZ3VyZXMvYm9vdC5naWYpe3dpZHRoPTUwJX0NCjwvY2VudGVyPg0KDQpIZXJlIGlzIGEgc2ltcGxlIGxvb3Agb2YgMTAwMCB0cmlhbHMsIHdoaWNoIHJlc2FtcGxlcyB3aXRoIHJlcGxhY2VtZW50IHRoZXNlIDIwIG9ic2VydmF0aW9ucyBmcm9tIG91ciBzYW1wbGUgZGF0YXNldCwgcnVucyB0aGUgcmVncmVzc2lvbiBtb2RlbCBhbmQgc2F2ZXMgdGhlIGNvZWZmaWNpZW50cyB3ZSBnZXQgdGhlcmUuIEluIHRoZSBlbmQsIHdlIHdvdWxkIGhhdmUgMTAwMCBwYWlycyBvZiBjb2VmZmljaWVudHMuDQoNCmBgYHtyLCAgZXZhbD1ULCBlY2hvPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KIyBDb250YWluZXJzIGZvciB0aGUgY29lZmZpY2llbnRzDQpzYW1wbGVfY29lZl9pbnRlcmNlcHQgPC0gTlVMTA0Kc2FtcGxlX2NvZWZfeDEgPC0gTlVMTA0KDQpmb3IgKGkgaW4gMToxMDAwKSB7DQogICNDcmVhdGluZyBhIHJlc2FtcGxlZCBkYXRhc2V0IGZyb20gdGhlIHNhbXBsZSBkYXRhDQogIHNhbXBsZV9kID0gc2FtcGxlLmRhdGFbc2FtcGxlKDE6bnJvdyhzYW1wbGUuZGF0YSksIG5yb3coc2FtcGxlLmRhdGEpLCByZXBsYWNlID0gVFJVRSksIF0NCiAgDQogICNSdW5uaW5nIHRoZSByZWdyZXNzaW9uIG9uIHRoZXNlIGRhdGENCiAgbW9kZWxfYm9vdHN0cmFwIDwtIGxtKHkgfiB4LCBkYXRhID0gc2FtcGxlX2QpDQogIA0KICAjU2F2aW5nIHRoZSBjb2VmZmljaWVudHMNCiAgc2FtcGxlX2NvZWZfaW50ZXJjZXB0IDwtDQogICAgYyhzYW1wbGVfY29lZl9pbnRlcmNlcHQsIG1vZGVsX2Jvb3RzdHJhcCRjb2VmZmljaWVudHNbMV0pDQogIA0KICBzYW1wbGVfY29lZl94MSA8LQ0KICAgIGMoc2FtcGxlX2NvZWZfeDEsIG1vZGVsX2Jvb3RzdHJhcCRjb2VmZmljaWVudHNbMl0pDQp9DQoNCmNvZWZzIDwtIHJiaW5kKHNhbXBsZV9jb2VmX2ludGVyY2VwdCwgc2FtcGxlX2NvZWZfeDEpDQpgYGANCg0KV2Ugd291bGQgdGFrZSB0aGUgYXZlcmFnZSBvZiB0aGVzZSBjb2VmZmljaWVudHMsIGFuZCBjb21wYXJlIHRoZW0gd2l0aCB0aGUgb3RoZXIgbW9kZWxzIHdlIHByZXZpb3VzbHkgb2J0YWluZWQ6DQoNCmBgYHtyLCAgZXZhbD1ULCBlY2hvPUYsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KIyBDb21iaW5pbmcgdGhlIHJlc3VsdHMgaW4gYSB0YWJsZQ0KbWVhbnMuYm9vdCA9IGMobWVhbihzYW1wbGVfY29lZl9pbnRlcmNlcHQpLCBtZWFuKHNhbXBsZV9jb2VmX3gxKSkNCmtuaXRyOjprYWJsZShyb3VuZCgNCiAgY2JpbmQoDQogICAgcG9wdWxhdGlvbiA9IGNvZWYoc3VtbWFyeShwb3B1bGF0aW9uLm1vZGVsKSlbLCAxXSwNCiAgICBzYW1wbGUgPSBjb2VmKHN1bW1hcnkoc2FtcGxlLm1vZGVsKSlbLCAxXSwNCiAgICBib290c3RyYXAgPSBtZWFucy5ib290KSw0KSwgDQogICJzaW1wbGUiLCBjYXB0aW9uID0gIkNvZWZmaWNpZW50cyBpbiBkaWZmZXJlbnQgbW9kZWxzIikNCmBgYA0KDQpgYGB7ciwgIGV2YWw9VCwgZWNobz1GLCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCmEgPC0NCiAgY2JpbmQoDQogICAgcXVhbnRpbGUoc2FtcGxlX2NvZWZfaW50ZXJjZXB0LCBwcm9iID0gMC4wMjUpLA0KICAgIHF1YW50aWxlKHNhbXBsZV9jb2VmX2ludGVyY2VwdCwgcHJvYiA9IDAuOTc1KSkNCmIgPC0NCiAgY2JpbmQocXVhbnRpbGUoc2FtcGxlX2NvZWZfeDEsIHByb2IgPSAwLjAyNSksDQogICAgICAgIHF1YW50aWxlKHNhbXBsZV9jb2VmX3gxLCBwcm9iID0gMC45NzUpKQ0KDQpjIDwtDQogIHJvdW5kKGNiaW5kKA0KICAgIHBvcHVsYXRpb24gPSBjb25maW50KHBvcHVsYXRpb24ubW9kZWwpLA0KICAgIHNhbXBsZSA9IGNvbmZpbnQoc2FtcGxlLm1vZGVsKSwNCiAgICBib290ID0gcmJpbmQoYSwgYikpLCA0KQ0KY29sbmFtZXMoYykgPC0gYygiMi41ICUiLCAiOTcuNSAlIiwNCiAgICAgICAgICAgICAgICAgIjIuNSAlIiwgIjk3LjUgJSIsDQogICAgICAgICAgICAgICAgICIyLjUgJSIsICI5Ny41ICUiKQ0Ka25pdHI6OmthYmxlKHJiaW5kKA0KICBjKCdwb3B1bGF0aW9uJywNCiAgICAncG9wdWxhdGlvbicsDQogICAgJ3NhbXBsZScsDQogICAgJ3NhbXBsZScsDQogICAgJ2Jvb3RzdHJhcCcsDQogICAgJ2Jvb3RzdHJhcCcpLGMpLGNhcHRpb24gPSAiUHJlY2lzaW9uIG9mIHRoZSBjb25maWRlbmNlIGludGVydmFscyIpDQpgYGANCg0KV2UgY2FuIHNlZSwgdGhhdCB0aGUgcHJlY2lzaW9uIGlzIGFsbW9zdCBpZGVudGljYWwgdG8gdGhlIG9uZSBvZiB0aGUgc2FtcGxlIG1vZGVsIGFuZCBldmVuIHNsaWdodGx5IHRpZ2h0ZXIgZm9yIHRoZSBpbnRlcmNlcHQuDQoNCiMjIyBUaGUgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uDQoNCkZpcnN0LCB0aGUgYm9vdHN0cmFwIHJlcHJlc2VudGF0aW9uOg0KDQpgYGB7ciwgIGV2YWw9VCwgZWNobz1GLCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCg0KI1ByZWRpY3Rpbmcgb24gbmV3IGRhdGENCm5ldy5kYXRhID0gc2VxKG1pbih4KSwgbWF4KHgpLCBieSA9IDAuMDUpDQpjb25mX2ludGVydmFsIDwtDQogIHByZWRpY3QoDQogICAgc2FtcGxlLm1vZGVsLA0KICAgIG5ld2RhdGEgPSBkYXRhLmZyYW1lKHggPSBuZXcuZGF0YSksDQogICAgaW50ZXJ2YWwgPSAiY29uZmlkZW5jZSIsDQogICAgbGV2ZWwgPSAwLjk1KQ0KDQojUGxvdHRpbmcgdGhlIHJlc3VsdHMgb24gdGhlIHByb2plY3Qgc3RlcC1ieS1zcGVwDQpwbG90KA0KICB5IH4geCwNCiAgY29sID0gImdyYXkiLA0KICB4bGFiID0gIngiLA0KICB5bGFiID0gInkiLA0KICBtYWluID0gIkNvbXBhcmUgcmVncmVzc2lvbnMiKQ0KYXBwbHkoY29lZnMsIDIsIGFibGluZSwgY29sID0gcmdiKDEsIDAsIDAsIDAuMDMpKQ0KYGBgDQoNClRoZXNlIGFyZSAxMDAwIHBvc3NpYmxlIHJlZ3Jlc3Npb24gbGluZXMgd2UgaGF2ZSBlc3RpbWF0ZWQuIE5vdyBsZXTigJlzIGFkZCB0byB0aGUgcGxvdCBwb3B1bGF0aW9uLCBzYW1wbGUsIGFuZCBhdmVyYWdlIGJvb3RzdHJhcCBsaW5lcy4NCg0KYGBge3IsICBldmFsPVQsIGVjaG89Riwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQpwbG90KA0KICB5IH4geCwNCiAgY29sID0gImdyYXkiLA0KICB4bGFiID0gIngiLA0KICB5bGFiID0gInkiLA0KICBtYWluID0gIkNvbXBhcmUgcmVncmVzc2lvbnMiKQ0KYXBwbHkoY29lZnMsIDIsIGFibGluZSwgY29sID0gcmdiKDEsIDAsIDAsIDAuMDMpKQ0KYWJsaW5lKGNvZWYocG9wdWxhdGlvbi5tb2RlbClbMV0sIGNvZWYocG9wdWxhdGlvbi5tb2RlbClbMl0sIGNvbCA9ICJibHVlIikNCmFibGluZShjb2VmKHNhbXBsZS5tb2RlbClbMV0sDQogICAgICAgY29lZihzYW1wbGUubW9kZWwpWzJdLA0KICAgICAgIGNvbCA9ICJibGFjayIsDQogICAgICAgbHR5ID0gMiwgbHdkPTMpDQphYmxpbmUobWVhbihzYW1wbGVfY29lZl9pbnRlcmNlcHQpLA0KICAgICAgIG1lYW4oc2FtcGxlX2NvZWZfeDEpLA0KICAgICAgIGNvbCA9ICJncmVlbiIsDQogICAgICAgbHR5ID0gNCwgbHdkPTMpDQpgYGANCg0KV2UgY2FuIHNlZSB0aGF0IHRoZXkgZXNzZW50aWFsbHkgY2FwdHVyZSB0aGUgZGF0YSBpbiB0aGUgc2FtZSB3YXkuIE5vdyBsZXTigJlzIGFkZCB0aGUgY29uZmlkZW5jZSBpbnRlcnZhbHMgZnJvbSB0aGUgc2FtcGxlIGRhdGE6DQoNCg0KYGBge3IsICBldmFsPVQsIGVjaG89Riwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQpwbG90KA0KICB5IH4geCwNCiAgY29sID0gImdyYXkiLA0KICB4bGFiID0gIngiLA0KICB5bGFiID0gInkiLA0KICBtYWluID0gIkNvbXBhcmUgcmVncmVzc2lvbnMiKQ0KYXBwbHkoY29lZnMsIDIsIGFibGluZSwgY29sID0gcmdiKDEsIDAsIDAsIDAuMDMpKQ0KYWJsaW5lKGNvZWYocG9wdWxhdGlvbi5tb2RlbClbMV0sIGNvZWYocG9wdWxhdGlvbi5tb2RlbClbMl0sIGNvbCA9ICJibHVlIikNCmFibGluZShjb2VmKHNhbXBsZS5tb2RlbClbMV0sDQogICAgICAgY29lZihzYW1wbGUubW9kZWwpWzJdLA0KICAgICAgIGNvbCA9ICJibGFjayIsDQogICAgICAgbHR5ID0gMiwgbHdkPTMpDQphYmxpbmUobWVhbihzYW1wbGVfY29lZl9pbnRlcmNlcHQpLA0KICAgICAgIG1lYW4oc2FtcGxlX2NvZWZfeDEpLA0KICAgICAgIGNvbCA9ICJncmVlbiIsDQogICAgICAgbHR5ID0gNCwgbHdkPTMpDQpsaW5lcyhuZXcuZGF0YSwgY29uZl9pbnRlcnZhbFssIDJdLCBjb2wgPSAiYmxhY2siLCBsdHkgPSAzLCBsd2Q9MykNCmxpbmVzKG5ldy5kYXRhLCBjb25mX2ludGVydmFsWywgM10sIGNvbCA9ICJibGFjayIsIGx0eSA9IDMsIGx3ZD0zKQ0KbGVnZW5kKCJ0b3BsZWZ0IiwNCiAgICAgICBsZWdlbmQgPSBjKCJCb290c3RyYXAiLCAiUG9wdWxhdGlvbiIsICdTYW1wbGUnKSwNCiAgICAgICBjb2wgPSBjKCJyZWQiLCAiYmx1ZSIsICdncmVlbicpLA0KICAgICAgIGx0eSA9IDE6MywNCiAgICAgICBjZXggPSAwLjgpDQpgYGANCg0KVGhlIGJvb3RzdHJhcHBpbmcgYXBwcm9hY2ggcmV0dXJucyBlc3NlbnRpYWxseSB0aGUgc2FtZSByZXN1bHRzIGJ1dCBpbiBhIHN0YXRpc3RpY2FsbHkgZGlmZmVyZW50IGZhc2hpb24uIFdlIGRvIG5vdCByZWx5IG9uIGFzc3VtcHRpb25zIGJ1dCBzaW11bGF0ZSB0aGUgZGF0YSB1c2luZyBhICdicnV0ZScgZm9yY2UgbWV0aG9kLiBUaGlzIGNvdWxkIGJlIGVzcGVjaWFsbHkgdXNlZnVsIHdoZW4gd2UgaGF2ZSBkb3VidHMgYWJvdXQgdGhlIGRpc3RyaWJ1dGlvbiB0aGUgZGF0YSBhcnJpdmVkIGZyb20sIG9yIHdhbnQgdG8gY2hlY2sgdGhlIHN0YWJpbGl0eSBvZiB0aGUgY29lZmZpY2llbnRzLCBwYXJ0aWN1bGFybHkgd2hlbiB1c2luZyBzbWFsbCBkYXRhc2V0cy4NCg0KIyMjIElyaXMNCg0KR29pbmcgYmFjayB0byBvdXIgYGlyaXNgIGRhdGFzZXQsIGFuZCBhZGRyZXNzaW5nIG11bHRpY29sbGluZWFyaXR5IGlzc3VlOg0KDQpgYGB7ciwgIGV2YWw9VCwgZWNobz1ULHJlc3VsdHM9Riwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQpmaXQxIDwtIGxtKFBldGFsLldpZHRoIH4gUGV0YWwuTGVuZ3RoICsgU2VwYWwuV2lkdGggKyBTZXBhbC5MZW5ndGgsIGRhdGEgPSBpcmlzKSAjIHNxcnQodmlmKGZpdDEpKSA+MiBub3QgZ29vZA0KZml0MiA8LSBsbShQZXRhbC5XaWR0aCB+IFNlcGFsLldpZHRoICsgU2VwYWwuTGVuZ3RoLCBkYXRhID0gaXJpcykNCnNxcnQoY2FyOjp2aWYoZml0MikpID4yICMgb2theQ0KZ3ZsbWEoZml0MikNCmJveGNveGZpdDIgPC0gYm94Y294KGZpdDIscGxvdGl0PVQpDQpsYW1iZGEyIDwtIGJveGNveGZpdDIkeFt3aGljaC5tYXgoYm94Y294Zml0MiR5KV0NCm5ld19maXQyIDwtIGxtKCgoaXJpcyRQZXRhbC5XaWR0aF5sYW1iZGEyLTEpL2xhbWJkYTIpIH4gIFNlcGFsLldpZHRoICsgU2VwYWwuTGVuZ3RoLCBkYXRhID0gaXJpcykNCmd2bG1hKG5ld19maXQyKQ0KYGBgDQoNCkxldCdzIGdldCBiYWNrIHRvIGBmaXQyYCBhbmQgdXNlIGEgYSBib290c3RyYXAgYXBwcm9hY2g6DQoNCmBgYHtyLCAgZXZhbD1ULCBlY2hvPVQscmVzdWx0cz1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCmZpdDIuYm9vdDwtbG0uYm9vdChmaXQyLCBSPTEwMDApDQpzdW1tYXJ5KGZpdDIuYm9vdCkNCmBgYA0KDQpHb29kIGZvciBuZXcgcHJlZGljdGlvbiwgYnV0IGEgbW9yZSBjb21wcmVoZW5zaXZlIGFsdGVybmF0aXZlIHVzaW5nIGZ1bmN0aW9uIGBCb290KClgIGZyb20gdGhlIGBjYXJgIHBhY2thZ2UiOg0KDQpgYGB7ciwgIGV2YWw9VCwgZWNobz1ULHJlc3VsdHM9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQojIGNhbiBzcGVjaWZ5IGNhc2V3aXNlIG9yIHJlc2lkdWFsIHNhbXBsaW5nIHdpdGggdGhlIG1ldGhvZCBhcmd1bWVudA0KZml0My5ib290IDwtIEJvb3QoZml0MiwgZj1jb2VmLCBSPTEwMDAsIG1ldGhvZD1jKCJjYXNlIikpDQpzdW1tYXJ5KGZpdDMuYm9vdCwgaGlnaC5tb21lbnRzPVQpDQpgYGANCg0KRml0IDIgaXMgbm90IHRvbyBiYWQgb3ZlcmFsbCAhISENCg0KIyMgQ3Jvc3MgVmFsaWRhdGlvbg0KDQoqKlR3byB0eXBlcyoqDQoNClR3byB0eXBlcyBvZiBjcm9zcy12YWxpZGF0aW9uIGNhbiBiZSBkaXN0aW5ndWlzaGVkOiBleGhhdXN0aXZlIGFuZCBub24tZXhoYXVzdGl2ZSBjcm9zcy12YWxpZGF0aW9uLg0KDQorIEV4aGF1c3RpdmUgY3Jvc3MtdmFsaWRhdGlvbg0KDQpFeGhhdXN0aXZlIGNyb3NzLXZhbGlkYXRpb24gbWV0aG9kcyBhcmUgY3Jvc3MtdmFsaWRhdGlvbiBtZXRob2RzIHdoaWNoIGxlYXJuIGFuZCB0ZXN0IG9uIGFsbCBwb3NzaWJsZSB3YXlzIHRvIGRpdmlkZSB0aGUgb3JpZ2luYWwgc2FtcGxlIGludG8gYSB0cmFpbmluZyBhbmQgYSB2YWxpZGF0aW9uIHNldC4NCg0KPGNlbnRlcj4NCiFbXShGaWd1cmVzL0xPT0NWLmdpZil7d2lkdGg9NTAlfQ0KPC9jZW50ZXI+DQoNCisgTm9uLWV4aGF1c3RpdmUgY3Jvc3MtdmFsaWRhdGlvbg0KDQpOb24tZXhoYXVzdGl2ZSBjcm9zcyB2YWxpZGF0aW9uIG1ldGhvZHMgZG8gbm90IGNvbXB1dGUgYWxsIHdheXMgb2Ygc3BsaXR0aW5nIHRoZSBvcmlnaW5hbCBzYW1wbGUuIFRoZXNlIG1ldGhvZHMgYXJlIGFwcHJveGltYXRpb25zIG9mIGxlYXZlLXAtb3V0IGNyb3NzLXZhbGlkYXRpb24uDQoNCjxjZW50ZXI+DQoNCiFbXShGaWd1cmVzL0tmb2xkQ1YuZ2lmKXt3aWR0aD01MCV9DQoNCjwvY2VudGVyPg0KDQoNCllvdSBjYW4gZG8gSy1Gb2xkIGNyb3NzLXZhbGlkYXRpb24gdXNpbmcgdGhlIGBjdi5sbSggKWAgZnVuY3Rpb24gaW4gdGhlIERBQUcgcGFja2FnZS4NCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KIyBLLWZvbGQgY3Jvc3MtdmFsaWRhdGlvbg0KY3YubG0oaXJpcywgZml0MiwgbT0zKSAjIDMgZm9sZCBjcm9zcy12YWxpZGF0aW9uDQpgYGANCg0KU3VtIHRoZSBNZWFuIFNxdWFyZSBFcnJvciAoTVNFKSBmb3IgZWFjaCBmb2xkLCBkaXZpZGUgYnkgdGhlIG51bWJlciBvZiBvYnNlcnZhdGlvbnMsIGFuZCB0YWtlIHRoZSBzcXVhcmUgcm9vdCB0byBnZXQgdGhlIGNyb3NzLXZhbGlkYXRlZCBzdGFuZGFyZCBlcnJvciBvZiBlc3RpbWF0ZS4NCg0KWW91IGNhbiBhc3Nlc3MgUjIgc2hyaW5rYWdlIHZpYSBLLWZvbGQgY3Jvc3MtdmFsaWRhdGlvbi4gVXNpbmcgdGhlIGBjcm9zc3ZhbCgpYCBmdW5jdGlvbiBmcm9tIHRoZSBgYm9vdHN0cmFwYCBwYWNrYWdlLCBkbyB0aGUgZm9sbG93aW5nOg0KDQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCiMgQXNzZXNzaW5nIFIyIHNocmlua2FnZSB1c2luZyAxMC1Gb2xkIENyb3NzLVZhbGlkYXRpb24NCiMgZGVmaW5lIGZ1bmN0aW9ucw0KdGhldGEuZml0IDwtIGZ1bmN0aW9uKHgseSl7bHNmaXQoeCx5KX0NCnRoZXRhLnByZWRpY3QgPC0gZnVuY3Rpb24oZml0LHgpe2NiaW5kKDEseCklKiVmaXQkY29lZn0NCiMgbWF0cml4IG9mIHByZWRpY3RvcnMNClggPC0gYXMubWF0cml4KGlyaXNbYygiU2VwYWwuV2lkdGgiLCJTZXBhbC5MZW5ndGgiKV0pDQojIHZlY3RvciBvZiBwcmVkaWN0ZWQgdmFsdWVzDQp5IDwtIGFzLm1hdHJpeChpcmlzW2MoIlBldGFsLldpZHRoIildKQ0KcmVzdWx0cyA8LSBjcm9zc3ZhbChYLHksdGhldGEuZml0LHRoZXRhLnByZWRpY3Qsbmdyb3VwPTMpDQpjb3IoeSwgZml0MiRmaXR0ZWQudmFsdWVzKSoqMiAjIHJhdyBSMg0KY29yKHkscmVzdWx0cyRjdi5maXQpKioyICMgY3Jvc3MtdmFsaWRhdGVkIFIyDQpgYGANCg0KIyMgQ29tcGFyaW5nIE1vZGVscw0KDQpMZXQncyBjaGFuZ2Ugb2YgZGF0YSBzZXQgdG8gbWFrZSBpdCBhIGJpdCBtb3JlIHNpbXBsZSBmcm9tIG5vdzogc2FsYXJpZXMgYW5kIG90aGVyIGluZm9ybWF0aW9uIG9mIDYyICBwcm9mZXNzb3JzIGluIENvaGVuIGV0LiBhbC4gKDIwMDMsIHBwLiA4MS04MikuIENoZWNrIGA/cHJvZi5zYWxhcnlgLiANCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KZGF0YShwcm9mLnNhbGFyeSkNCmBgYA0KDQpXZSBub3cgYnVpbGQgYSBzZXJpZSBvZiBzaW1wbGUgcmVncmVzc2lvbiBtb2RlbHMNCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KZml0LnByb2YxIDwtIGxtKHNhbGFyeX5wdWIsIGRhdGE9cHJvZi5zYWxhcnkpDQpmaXQucHJvZjIgIDwtIGxtKHNhbGFyeX5jaXRhdGlvbiwgZGF0YT1wcm9mLnNhbGFyeSkNCmZpdC5wcm9mMyA8LSBsbShzYWxhcnl+cHViK2NpdGF0aW9uLCBkYXRhPXByb2Yuc2FsYXJ5KQ0KZml0LnByb2Y0ICA8LSBsbShzYWxhcnl+Y2l0YXRpb24rcHViLCBkYXRhPXByb2Yuc2FsYXJ5KQ0KYGBgDQoNCkNoZWNrIFtoZXJlXShodHRwczovL2JjZHVkZWsubmV0L3JlZ3Jlc3Npb24xL2ltcGxlbWVudGF0aW9uLW9mLXN0YW5kYXJkLW11bHRpcGxlLXJlZ3Jlc3Npb24tYW5hbHlzZXMtbGluZWFyLW1vZGVsaW5nLXdpdGgtbXVsdGlwbGUtaXZzLmh0bWwjZGlhZ25vc3RpYy1hbmQtYWRkZWQtdmFyaWFibGUtcGxvdHMtZm9yLXRoZS1mdWxsLXR3by1pdi1tb2RlbCkgZm9yIHRoZSByZWdyZXNzaW9uIGRpYWdub3N0aWNzIGFuZCBpbmZsdWVuY2UgYW5hbHlzaXMuIA0KDQoNCldlIGNhbiBwYXNzIHR3byBsaW5lYXIgbW9kZWxzIHRvIGBhbm92YWAgYW5kIGFzayBpdCB0byBjb21wYXJlIHRoZW0uIFdlIGNvbnNpZGVyIGJlZ2lubmluZyB3dGggZml0LnByb2YxICAob25seSBgcHVic2Agd2FzIGFuIGluZGVwZW5kZW50IHZhcmlhYmxlIGluIHRoYXQgc2ltcGxlIHJlZ3Jlc3Npb24pLCBhbmQgY29tcGFyZSBmaXQucHJvZjMgICh3aGljaCBhbHNvIGluY2x1ZGVkIGBjaXRzYCBhcyBhbiBpbmRlcGVuZGVudCB2YXJpYWJsZSkgdG8gdGVzdCB0aGUgaW5jcmVtZW50IGluIHRoZSBSLXNxdWFyZWQgcHJvZHVjZWQgYnkgdGhlIGluY2x1c2lvbiBvZiBgY2l0c2AuIFRoZSBGIHZhbHVlIG1hdGNoZXMgdGhlIFR5cGUgSUlJIFNTIEYgdGVzdCBmb3IgYGNpdHNgIGFuZCBpcyB0aGUgc3F1YXJlIG9mIHRoZSAqdCogdmFsdWUgdGhhdCB0ZXN0ZWQgdGhlIHJlZ3Jlc3Npb24gY29lZmZpY2llbnQgb2YgYGNpdHNgLg0KDQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCiMgY29tcGFyZSBtb2RlbCAzIHRvIG1vZGVsIDEgLSBzdGVwcGluZyBhcHByb2FjaCwgZXZhbHVhdGluZyBhIG5ldyB2YXJpYWJsZSAoY2l0cykNCmFub3ZhKGZpdC5wcm9mMSxmaXQucHJvZjMpIyBub3RlIHRoaXMgaXMgYW5vdmEsIG5vdCBBbm92YQ0KYGBgDQoNCg0KVGhlIG5leHQgaWxsdXN0cmF0aW9uIGNvbXBhcmVzIHRoZSBmdWxsIG1vZGVsIHRvIHRoZSBzaW1wbGUgcmVncmVzc2lvbiB0aGF0IG9ubHkgY29udGFpbmVkIGNpdHMgKGZpdDIpLiBUaGUgdGVzdCBpcyB0aGVyZWZvcmUgdGhlIHRlc3Qgb2YgYW4gaHlwb3RoZXNpcyB0aGF0IGluY3JlbWVudCBpbiBTUyBhY2NvdW50ZWQgZm9yIGJ5IHB1YnMgaXMgemVyby4gQW5kIHRoaXMgRiBhbHNvIG1hdGNoZXMgdGhlIEYgdGVzdCBvZiB0aGUgVHlwZSBJSUkgU1Mgc2VlbiBhYm92ZS4NCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KIyBjb21wYXJlIG1vZGVsIDMgdG8gbW9kZWwgMiAtIHN0ZXBwaW5nIGFwcHJvYWNoLCBldmFsdWF0aW5nIGEgbmV3IHZhcmlhYmxlIChwdWJzKQ0KYW5vdmEoZml0LnByb2YyLGZpdC5wcm9mMykjIG5vdGUgdGhpcyBpcyBhbm92YSwgbm90IEFub3ZhDQpgYGANCg0KDQojIyBWYXJpYWJsZSBTZWxlY3Rpb24NCg0KQW4gaW5mb3JtYXRpb24gY3JpdGVyaW9uIGJhbGFuY2VzIHRoZSBmaXRuZXNzIG9mIGEgbW9kZWwgd2l0aCB0aGUgbnVtYmVyIG9mIHByZWRpY3RvcnMgZW1wbG95ZWQuIEhlbmNlLCBpdCBkZXRlcm1pbmVzIG9iamVjdGl2ZWx5IHRoZSBiZXN0IG1vZGVsIGFzIHRoZSBvbmUgdGhhdCBtaW5pbWl6ZXMgdGhlIGluZm9ybWF0aW9uIGNyaXRlcmlvbi4gVHdvIGNvbW1vbiBjcml0ZXJpYSBhcmUgdGhlICoqQmF5ZXNpYW4gSW5mb3JtYXRpb24gQ3JpdGVyaW9uIChCSUMpKiogYW5kIHRoZSAqKkFrYWlrZSBJbmZvcm1hdGlvbiBDcml0ZXJpb24gKEFJQykqKi4gDQoNCiRBSUMobW9kZWwpPS0yKmxvZ0xpayhtb2RlbCkgKyBucGFyKG1vZGVsKSAqIDIkDQoNCiRCSUMobW9kZWwpPS0yKmxvZ0xpayhtb2RlbCkgKyBucGFyKG1vZGVsKSAqIGxvZyhuKSQNCg0Kd2hlcmUgJExpayhtb2RlbCkkICBpcyB0aGUgbGlrZWxpaG9vZCBvZiB0aGUgbW9kZWwgKGhvdyB3ZWxsIHRoZSBtb2RlbCBmaXRzIHRoZSBkYXRhKSBhbmQgJG5wYXIobW9kZWwpJCBpcyB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnMgb2YgdGhlIG1vZGVsLCAkaysyJCBpbiB0aGUgY2FzZSBvZiBhIG11bHRpcGxlIGxpbmVhciByZWdyZXNzaW9uIG1vZGVsIHdpdGggJGskIHByZWRpY3RvcnMuVGhlIEFJQyByZXBsYWNlcyAkbG9nKG4pJCBieSAkMiQsIHNvIGl0IHBlbmFsaXplcyBsZXNzIGNvbXBsZXggbW9kZWxzLlRoaXMgaXMgb25lIG9mIHRoZSByZWFzb25zIHdoeSBCSUMgaXMgcHJlZmVycmVkIGJ5IHNvbWUgcHJhY3RpdGlvbmVycyBmb3IgbW9kZWwgY29tcGFyaXNvbi4gQWxzbywgYmVjYXVzZSBpcyBjb25zaXN0ZW50IGluIHNlbGVjdGluZyB0aGUgdHJ1ZSBtb2RlbDogaWYgZW5vdWdoIGRhdGEgaXMgcHJvdmlkZWQsIHRoZSBCSUMgaXMgZ3VhcmFudGVlZCB0byBzZWxlY3QgdGhlIGRhdGEtZ2VuZXJhdGluZyBtb2RlbCBhbW9uZyBhIGxpc3Qgb2YgY2FuZGlkYXRlIG1vZGVscy4NCg0KQm90aCBhcmUgYmFzZWQgb24gYSAqKmJhbGFuY2UgYmV0d2VlbiB0aGUgbW9kZWwgZml0bmVzcyBhbmQgaXRzIGNvbXBsZXhpdHkqKi5Cb3RoIEJJQyBhbmQgQUlDIGNhbiBiZSBjb21wdXRlZCBpbiBgUmAgdGhyb3VnaCB0aGUgZnVuY3Rpb25zIGBCSUNgIGFuZCBgQUlDYC4gVGhleSB0YWtlIGEgbW9kZWwgYXMgdGhlIGlucHV0LiBUaGUgbG93ZXIgdGhlIGJldHRlciB3aXRoIGEgcnVsZSBvZiB0aHVtYiA9IDIuIA0KDQpOb3RlOiBEbyB5b3UgcmVtZW1iZXIgYWJvdXQgYHNpZ21hYCAodGhlIFJlc2lkdWFsIFN0YW5kYXJkIEVycm9yLCBSU0UpPyBXZSBwcmV2aW91c2x5IHVzZWQgaXQgdG8gY2FsY3VsYXRlIGEgcGVjcmNlbnRhZ2UgZXJyb3IuIFdlbGwsIEFJQyBhbmQgQklDIHVzZWQgdGhlIGxvZyBsaWtlbGlob29kIG9mIHRoZSBtb2RlbCBvYnRhaW4gdXNpbmcgYGxvZ0xpayAobW9kZWwpYC4gWW91IGNhbiByZWNhbGN1bGF0ZSB0aGlzIGxvZ0xpayB1c2luZzogYHN1bShsb2coZG5vcm0oeCA9IHksIG1lYW4gPSBwcmVkaWN0KG1vZGVsKSwgc2QgPSBzaWdtYShtb2RlbCkpKSlgIHdoaWNoIGlsbHVzdHJhdGUgIHRoZSBjb25uZWN0aW9uIGJldHdlZW4gYHNpZ21hYGFuZCBpbmZvcm1hdGlvbiBjcml0ZXJpb24uIA0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQpCSUMoZml0LnByb2YxKTsgQklDKGZpdC5wcm9mMik7QklDKGZpdC5wcm9mMykNCkFJQyhmaXQucHJvZjEpOyBBSUMoZml0LnByb2YyKTtBSUMoZml0LnByb2YzKQ0KYGBgDQoNCkhvd2V2ZXIsIHNlbGVjdGluZyBhIHN1YnNldCBvZiBwcmVkaWN0b3IgdmFyaWFibGVzIGZyb20gYSBsYXJnZXIgc2V0IChlLmcuLCBzdGVwd2lzZSBzZWxlY3Rpb24pIHJlbWFpbnMgYSBjb250cm92ZXJzaWFsIHRvcGljLiBZb3UgY2FuIHBlcmZvcm0gc3RlcHdpc2Ugc2VsZWN0aW9uIChmb3J3YXJkLCBiYWNrd2FyZCwgYm90aCkgdXNpbmcgdGhlIGBzdGVwQUlDKClgIGFuZCBgc3RlcEJJQygpYCBmdW5jdGlvbiBmcm9tIHRoZSBgTUFTU2AgcGFja2FnZS4gYHN0ZXBBSUMoKWAgcGVyZm9ybXMgc3RlcHdpc2UgbW9kZWwgc2VsZWN0aW9uIGJ5IGV4YWN0IEFJQy4NCg0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQojIFN0ZXB3aXNlIFNlbGVjdGlvbiBiYXNlZCBvbiBBSUMNCmZpdC5wcm9mNSAgPC0gbG0oc2FsYXJ5fmNpdGF0aW9uK3B1Yit0aW1lLCBkYXRhPXByb2Yuc2FsYXJ5KQ0Kc3RlcDEgPC0gc3RlcEFJQyhmaXQucHJvZjUsIGRpcmVjdGlvbj0iYm90aCIpDQpzdGVwMSRhbm92YSAjIGRpc3BsYXkgcmVzdWx0cw0KDQoNCiNTdGVwd2lzZSBTZWxlY3Rpb24gd2l0aCBCSUMNCm48LWRpbShwcm9mLnNhbGFyeSlbMV0NCnN0ZXAyIDwtIHN0ZXBBSUMoZml0LnByb2Y1LCBrPWxvZyhuKSwgZGlyZWN0aW9uPSJib3RoIikNCnN0ZXAyJGFub3ZhICMgZGlzcGxheSByZXN1bHRzDQpgYGANCiANCldoZW4gYXBwbHlpbmcgYHN0ZXBBSUNgIGZvciBCSUMvQUlDLCBkaWZmZXJlbnQgZmluYWwgbW9kZWxzIG1pZ2h0IGJlIHNlbGVjdGVkIGRlcGVuZGluZyBvbiB0aGUgY2hvaWNlIG9mIGRpcmVjdGlvbi4gVGhpcyBpcyB0aGUgaW50ZXJwcmV0YXRpb246DQoNCisgYOKAnGJhY2t3YXJk4oCdYDogc3RhcnRzIGZyb20gdGhlIGZ1bGwgbW9kZWwsIHJlbW92ZXMgcHJlZGljdG9ycyBzZXF1ZW50aWFsbHkuDQorIGDigJxmb3J3YXJk4oCdYDogc3RhcnRzIGZyb20gdGhlIHNpbXBsZXN0IG1vZGVsLCBhZGRzIHByZWRpY3RvcnMgc2VxdWVudGlhbGx5Lg0KKyBg4oCcYm90aOKAnWAgKGRlZmF1bHQpOiBjb21iaW5hdGlvbiBvZiB0aGUgYWJvdmUuDQoNClRoZSBhZHZpY2UgaXMgdG8gdHJ5IHNldmVyYWwgb2YgdGhlc2UgbWV0aG9kcyBhbmQgcmV0YWluIHRoZSBvbmUgd2l0aCBtaW5pbXVtIEJJQy9BSUMuIFNldCB0cmFjZSA9IDAgdG8gb21pdCBsZW5ndGh5IG91dHB1dHMgb2YgaW5mb3JtYXRpb24gb2YgdGhlIHNlYXJjaCBwcm9jZWR1cmUuDQoNCkFsdGVybmF0aXZlbHksIHlvdSBjYW4gcGVyZm9ybSBhbGwtc3Vic2V0cyByZWdyZXNzaW9uIHVzaW5nIHRoZSBgbGVhcHMoKWAgZnVuY3Rpb24gZnJvbSB0aGUgYGxlYXBzYCBwYWNrYWdlLiBJbiB0aGUgZm9sbG93aW5nIGNvZGUgYG5iZXN0YCBpbmRpY2F0ZXMgdGhlIG51bWJlciBvZiBzdWJzZXRzIG9mIGVhY2ggc2l6ZSB0byByZXBvcnQuIEhlcmUsIHRoZSB0ZW4gYmVzdCBtb2RlbHMgd2lsbCBiZSByZXBvcnRlZCBmb3IgZWFjaCBzdWJzZXQgc2l6ZSAoMSBwcmVkaWN0b3IsIDIgcHJlZGljdG9ycywgZXRjLikuDQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCiMgQWxsIFN1YnNldHMgUmVncmVzc2lvbg0KbGVhcHM8LXJlZ3N1YnNldHMoc2FsYXJ5fmNpdGF0aW9uK3B1Yit0aW1lLCBkYXRhPXByb2Yuc2FsYXJ5LG5iZXN0PTEwKQ0KIyB2aWV3IHJlc3VsdHMNCnN1bW1hcnkobGVhcHMpDQojIHBsb3QgYSB0YWJsZSBvZiBtb2RlbHMgc2hvd2luZyB2YXJpYWJsZXMgaW4gZWFjaCBtb2RlbC4NCiMgbW9kZWxzIGFyZSBvcmRlcmVkIGJ5IHRoZSBzZWxlY3Rpb24gc3RhdGlzdGljLg0KcGxvdChsZWFwcyxzY2FsZT0icjIiKQ0KIyBwbG90IHN0YXRpc3RpYyBieSBzdWJzZXQgc2l6ZQ0KIyBzdWJzZXRzKGxlYXBzLCBzdGF0aXN0aWM9InJzcSIpDQpgYGANCg0KT3RoZXIgb3B0aW9ucyBmb3IgYHBsb3QoKWAgYXJlIGJpYywgQ3AsIGFuZCBhZGpyMi4gT3RoZXIgb3B0aW9ucyBmb3IgcGxvdHRpbmcgd2l0aCBgc3Vic2V0KClgIGFyZSBiaWMsIGNwLCBhZGpyMiwgYW5kIHJzcy4NCg0KIyMgTW9kZWwgYXNzZXNtZW50DQoNCkl0IHR1cm5zIG91dCB0aGF0Og0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQpmaXQucHJvZjYgIDwtIGxtKHNhbGFyeX5jaXRhdGlvbit0aW1lLCBkYXRhPXByb2Yuc2FsYXJ5KQ0KIyBndmxtYShmaXQucHJvZjYpDQpzdW1tYXJ5KGZpdC5wcm9mNikNCmBgYA0KDQpUaGUgZmlyc3Qgc3RlcCBpbiBpbnRlcnByZXRpbmcgdGhlIG11bHRpcGxlIHJlZ3Jlc3Npb24gYW5hbHlzaXMgaXMgdG8gZXhhbWluZSB0aGUgKkYqLXN0YXRpc3RpYyBhbmQgdGhlIGFzc29jaWF0ZWQgKnAqLXZhbHVlLCBhdCB0aGUgYm90dG9tIG9mIHRoZSBtb2RlbCBzdW1tYXJ5Lg0KDQpJbiBvdXIgZXhhbXBsZSwgaXQgY2FuIGJlIHNlZW4gdGhhdCBwLXZhbHVlIG9mIHRoZSBGLXN0YXRpc3RpYyBpcyBgcC12YWx1ZTogMi4yNThlLTA5YCwgd2hpY2ggaXMgaGlnaGx5IHNpZ25pZmljYW50LiBUaGlzIG1lYW5zIHRoYXQsIGF0IGxlYXN0LCBvbmUgb2YgdGhlIHByZWRpY3RvciB2YXJpYWJsZXMgaXMgc2lnbmlmaWNhbnRseSByZWxhdGVkIHRvIHRoZSBvdXRjb21lIHZhcmlhYmxlLg0KDQpUbyBzZWUgd2hpY2ggcHJlZGljdG9yIHZhcmlhYmxlcyBhcmUgc2lnbmlmaWNhbnQsIHlvdSBjYW4gZXhhbWluZSB0aGUgY29lZmZpY2llbnRzIHRhYmxlLCB3aGljaCBzaG93cyB0aGUgZXN0aW1hdGUgb2YgcmVncmVzc2lvbiBiZXRhIGNvZWZmaWNpZW50cyBhbmQgdGhlIGFzc29jaWF0ZWQgdC1zdGF0aXN0aWMgcC12YWx1ZXM6DQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCnN1bW1hcnkoZml0LnByb2Y2KSRjb2VmZmljaWVudA0KYGBgDQoNCkZvciBhIGdpdmVuICBwcmVkaWN0b3IsIHRoZSAqdCotc3RhdGlzdGljIGV2YWx1YXRlcyB3aGV0aGVyIG9yIG5vdCB0aGVyZSBpcyBzaWduaWZpY2FudCBhc3NvY2lhdGlvbiBiZXR3ZWVuIHRoaXMgcHJlZGljdG9yIGFuZCB0aGUgb3V0Y29tZSB2YXJpYWJsZSwgdGhhdCBpcyB3aGV0aGVyIHRoZSBiZXRhIGNvZWZmaWNpZW50IG9mIHRoZSBwcmVkaWN0b3IgaXMgc2lnbmlmaWNhbnRseSBkaWZmZXJlbnQgZnJvbSB6ZXJvLg0KDQpJdCBjYW4gYmUgc2VlbiB0aGF0LCBjaGFuZ2VzIGluIGBjaXRhdGlvbmAgYW5kIGB0aW1lYCAgYXJlIGJvdGggc2lnbmlmaWNhbnRseSBhc3NvY2lhdGVkIHRvIGNoYW5nZXMgaW4gYHNhbGFyeWAuIEZvciBhIGdpdmVuIHByZWRpY3RvciB2YXJpYWJsZSwgdGhlIGNvZWZmaWNpZW50ICgkXGJldGEkKSBjYW4gYmUgaW50ZXJwcmV0ZWQgYXMgdGhlIGF2ZXJhZ2UgZWZmZWN0IG9uICR5JCBvZiBhIG9uZSB1bml0IGluY3JlYXNlIGluIHByZWRpY3RvciwgaG9sZGluZyBhbGwgb3RoZXIgcHJlZGljdG9ycyBmaXhlZC4NCg0KRm9yIGV4YW1wbGUsIGZvciBhIGZpeGVkIHZhbHVlcyBvZiBgY2l0YXRpb25gIHRoZSBpbmNyZWFzZSBvZiBvbmUgdW5pdCBvZiBgdGltZWAgaW5jcmVhc2Ugc2FsYXJ5IG9mIGAxMDYxYCB1bml0IG9uIGF2ZXJhZ2UgKHZzLiBgMTM3OWAgdW5pdCBpbiBvdXIgZXhhbXBsZSB1c2luZyBhIHNpbXBsZSBsaW5lYXIgcmVncmVzc2lvbikuIElmIGEgcHJlZGljdG9yIHdhcyBub3Qgc2lnbmlmaWNhbnQgaW4gb3VyIG11bHRpcGxlIHJlZ3Jlc3Npb24gbW9kZWwsIGl0IG1lYW5zIHRoYXQgaXRzIGNoYW5nZSB3aWxsIG5vdCBzaWduaWZpY2FudGx5IGFmZmVjdCBgc2FsYXJ5YC4gVGhlcmVmb3JlLCBpdCBpcyBwb3NzaWJsZSB0byByZW1vdmUgaXQgZnJvbSB0aGUgbW9kZWwuIA0KDQpBcyB3ZSBzYXcgZWFybGllciwgdGhlIGNvbmZpZGVuY2UgaW50ZXJ2YWwgb2YgdGhlIG1vZGVsIGNvZWZmaWNpZW50IGNhbiBiZSBleHRyYWN0ZWQgYXMgZm9sbG93OiAgDQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCmNvbmZpbnQoZml0LnByb2Y2KQ0KYGBgDQoNCiMjIyBBY2N1cmFjeQ0KDQpBcyB3ZSBoYXZlIHNlZW4gaW4gc2ltcGxlIGxpbmVhciByZWdyZXNzaW9uLCB0aGUgb3ZlcmFsbCBxdWFsaXR5IG9mIHRoZSBtb2RlbCBjYW4gYmUgYXNzZXNzZWQgYnkgZXhhbWluaW5nIHRoZSBSLXNxdWFyZWQgKCRSXjIkKSBhbmQgUmVzaWR1YWwgU3RhbmRhcmQgRXJyb3IgKFJTRSkuDQoNCjEuICoqVGhlIFItc3F1YXJlZCAoJFJeMiQpKioNCg0KSW4gbXVsdGlwbGUgbGluZWFyIHJlZ3Jlc3Npb24sIHRoZSAkUiQgcmVwcmVzZW50cyB0aGUgY29ycmVsYXRpb24gY29lZmZpY2llbnQgYmV0d2VlbiB0aGUgb2JzZXJ2ZWQgdmFsdWVzIG9mIHRoZSBvdXRjb21lIHZhcmlhYmxlICgkeSQpIGFuZCB0aGUgZml0dGVkIChpLmUuLCBwcmVkaWN0ZWQpIHZhbHVlcyBvZiAkeSQuIEZvciB0aGlzIHJlYXNvbiwgdGhlIHZhbHVlIG9mICRSJCB3aWxsIGFsd2F5cyBiZSBwb3NpdGl2ZSBhbmQgd2lsbCByYW5nZSBmcm9tIHplcm8gdG8gb25lLg0KDQokUl4yJCByZXByZXNlbnRzIHRoZSBwcm9wb3J0aW9uIG9mIHZhcmlhbmNlLCBpbiB0aGUgb3V0Y29tZSB2YXJpYWJsZSB5LCB0aGF0IG1heSBiZSBwcmVkaWN0ZWQgYnkga25vd2luZyB0aGUgdmFsdWUgb2YgdGhlICR4JCB2YXJpYWJsZXMuIEFuICRSXjIkIHZhbHVlIGNsb3NlIHRvIDEgaW5kaWNhdGVzIHRoYXQgdGhlIG1vZGVsIGV4cGxhaW5zIGEgbGFyZ2UgcG9ydGlvbiBvZiB0aGUgdmFyaWFuY2UgaW4gdGhlIG91dGNvbWUgdmFyaWFibGUuDQoNCkEgcHJvYmxlbSB3aXRoIHRoZSAkUl4yJCwgaXMgdGhhdCwgaXQgd2lsbCBhbHdheXMgaW5jcmVhc2Ugd2hlbiBtb3JlIHZhcmlhYmxlcyBhcmUgYWRkZWQgdG8gdGhlIG1vZGVsLCBldmVuIGlmIHRob3NlIHZhcmlhYmxlcyBhcmUgb25seSB3ZWFrbHkgYXNzb2NpYXRlZCB3aXRoIHRoZSByZXNwb25zZSAoSmFtZXMgZXQgYWwuIDIwMTQpLiBBIHNvbHV0aW9uIGlzIHRvIGFkanVzdCB0aGUgJFJeMiQgYnkgdGFraW5nIGludG8gYWNjb3VudCB0aGUgbnVtYmVyIG9mIHByZWRpY3RvciB2YXJpYWJsZXMuDQoNClRoZSBhZGp1c3RtZW50IGluIHRoZSDigJxBZGp1c3RlZCBSLVNxdWFyZWTigJ0gdmFsdWUgaW4gdGhlIHN1bW1hcnkgb3V0cHV0IGlzIGEgY29ycmVjdGlvbiBmb3IgdGhlIG51bWJlciBvZiAkeCQgdmFyaWFibGVzIGluY2x1ZGVkIGluIHRoZSBwcmVkaWN0aW9uIG1vZGVsLg0KDQoyLiAqKlRoZSBSZXNpZHVhbCBTdGFuZGFyZCBFcnJvciAoUlNFKS4qKg0KDQpBcyBtZW50aW9uZWQgZWFybGllciwgdGhlIFJTRSBlc3RpbWF0ZSBnaXZlcyBhIG1lYXN1cmUgb2YgZXJyb3Igb2YgcHJlZGljdGlvbi4gVGhlIGxvd2VyIHRoZSBSU0UsIHRoZSBtb3JlIGFjY3VyYXRlIHRoZSBtb2RlbCAob24gdGhlIGRhdGEgaW4gaGFuZCkuDQoNClRoZSBlcnJvciByYXRlIGNhbiBiZSBlc3RpbWF0ZWQgYnkgZGl2aWRpbmcgdGhlIFJTRSBieSB0aGUgbWVhbiBvdXRjb21lIHZhcmlhYmxlOg0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQpzaWdtYShmaXQucHJvZjYpL21lYW4ocHJvZi5zYWxhcnkkc2FsYXJ5KQ0KYGBgDQoNCldoaWNoIG9ubHkgc2xpZ2h0bHkgaW5jcmVhc2Ugb3VyIHByZWRpY3Rpb24gaW4gY29tcGFyaXNvbiB3aXRoIHVzaW5nIGEgc2luZ2xlIHByZWRpY3RvciwgdGhlICdQZXRhbC5MZW5ndGhgICgxNiB2cyAxNyAlKS4gQSBwYXJjaW1vbmlhbCBjaG9pY2UgbWF5IGJlIHRvIHJldGFpbiAgZmV3ZXIgIHByZWRpY3RvcnMgaWYgdGhlIGluZm9ybWF0aW9uIHRoZXkgYnJpbmcgaXMgbm90IGltcG9ydGFudCBlbm91Z2ggaW4gb3VyIHByZWRpY3Rpb24uDQoNCiMjIyBNb2RlbCBjdXN0b21pemF0aW9uIA0KDQpUbyBjb21wdXRlIG11bHRpcGxlIHJlZ3Jlc3Npb24gdXNpbmcgYWxsIG9mIHRoZSBwcmVkaWN0b3JzIGluIHRoZSBkYXRhIHNldCwgc2ltcGx5IHR5cGUgdGhpczoNCg0KYGBge3IsICBldmFsPUYsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KbW9kZWwuZnVsbCA8LSBsbShzYWxhcnkgfi4sIGRhdGEgPSBwcm9mLnNhbGFyeSkNCmBgYA0KDQpJZiB5b3Ugd2FudCB0byBwZXJmb3JtIHRoZSByZWdyZXNzaW9uIHVzaW5nIGFsbCBvZiB0aGUgdmFyaWFibGVzIGV4Y2VwdCBvbmUsIHNheSBgU2VwYWwuV2lkdGhgLCB0eXBlIHRoaXM6DQoNCmBgYHtyLCAgZXZhbD1GLCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCm1vZGVsLnBhcnRpYWwxIDwtIGxtKHNhbGFyeSB+LiAtc2V4LCBkYXRhID0gcHJvZi5zYWxhcnkpDQpgYGANCg0KQWx0ZXJuYXRpdmVseSwgeW91IGNhbiB1c2UgdGhlIHVwZGF0ZSBmdW5jdGlvbjoNCg0KYGBge3IsICBldmFsPUYsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KbW9kZWwucGFydGlhbDIgPC0gIHVwZGF0ZShtb2RlbC5mdWxsLCAgfi4gLXNleCkNCmBgYA0KDQojIEYtdGVzdA0KDQoNCkYtdGVzdHMgYXJlIG5hbWVkIGFmdGVyIGl0cyB0ZXN0IHN0YXRpc3RpYywgRiAobmFtZWQgaW4gaG9ub3Igb2YgU2lyIFJvbmFsZCBGaXNoZXIpLiBUaGUgRi1zdGF0aXN0aWMgaXMgc2ltcGx5IGEgcmF0aW8gb2YgdHdvIHZhcmlhbmNlcy4gVmFyaWFuY2VzIGFyZSBhIG1lYXN1cmUgb2YgZGlzcGVyc2lvbiwgb3IgaG93IGZhciB0aGUgZGF0YSBhcmUgc2NhdHRlcmVkIGZyb20gdGhlIG1lYW4uIExhcmdlciB2YWx1ZXMgcmVwcmVzZW50IGdyZWF0ZXIgZGlzcGVyc2lvbi4gRi1zdGF0aXN0aWNzIGFyZSBiYXNlZCBvbiB0aGUgcmF0aW8gb2YgbWVhbiBzcXVhcmVzLg0KDQpEZXNwaXRlIGJlaW5nIGEgcmF0aW8gb2YgdmFyaWFuY2VzLCB5b3UgY2FuIHVzZSBGLXRlc3RzIGluIGEgd2lkZSB2YXJpZXR5IG9mIHNpdHVhdGlvbnMuIFVuc3VycHJpc2luZ2x5LCB0aGUgRi10ZXN0IGNhbiBhc3Nlc3MgdGhlIGVxdWFsaXR5IG9mIHZhcmlhbmNlcy4gSG93ZXZlciwgYnkgY2hhbmdpbmcgdGhlIHZhcmlhbmNlcyB0aGF0IGFyZSBpbmNsdWRlZCBpbiB0aGUgcmF0aW8sIHRoZSBGLXRlc3QgYmVjb21lcyBhIHZlcnkgZmxleGlibGUgdGVzdC4gRm9yIGV4YW1wbGUsIHlvdSBjYW4gdXNlIEYtc3RhdGlzdGljcyBhbmQgRi10ZXN0cyB0byB0ZXN0IHRoZSBvdmVyYWxsIHNpZ25pZmljYW5jZSBmb3IgYSByZWdyZXNzaW9uIG1vZGVsLCB0byBjb21wYXJlIHRoZSBmaXRzIG9mIGRpZmZlcmVudCBtb2RlbHMsIHRvIHRlc3Qgc3BlY2lmaWMgcmVncmVzc2lvbiB0ZXJtcywgYW5kIHRvIHRlc3QgdGhlIGVxdWFsaXR5IG9mIG1lYW5zLg0KDQojIyBGLXRlc3QgaW4gbGluZWFyIHJlZ3Jlc3Npb24NCg0KV2UgYWxyZWFkeSBtZW50aW9uZWQgdGhlIEYtc3RhdGlzdGljIGFuZCBpdHMgbWVhbmluZyBpbiBhIHNpbXBsZSBsaW5lYXIgcmVncmVzc2lvbi4gDQoNCg0KIyMgRi10ZXN0IGluIG11bHRpcGxlIHJlZ3Jlc3Npb24NCg0KU2ltaWxhcmx5IGluIHRoZSBjYXNlIG9mIG11bHRpcGxlIGxpbmVhciByZWdyZXNzaW9uLCB0aGUgRi10ZXN0ICB0ZXN0cyB3aGV0aGVyIGFueSBvZiB0aGUgaW5kZXBlbmRlbnQgdmFyaWFibGVzIGluIGEgIG1vZGVsIGFyZSBzaWduaWZpY2FudC4gRm9yIGEgbXVsdGlwbGUgcmVncmVzc2lvbiBtb2RlbCB3aXRoIGludGVyY2VwdCwgd2Ugd2FudCB0byB0ZXN0IHRoZSBmb2xsb3dpbmcgbnVsbCBoeXBvdGhlc2lzIGFuZCBhbHRlcm5hdGl2ZSBoeXBvdGhlc2lzOg0KDQokSDA6IM6yMSA9IM6yMiA9IC4uLiA9IM6ycC0xID0gMCQNCiANCiRIMTogzrJqIOKJoCAwLCBmb3IgYXQgbGVhc3Qgb25lIHZhbHVlIG9mIGokDQoNCkkgd2lsbCBzYXZlIHlvdSB3aXRoIHRoZSBbZGV0YWlsc10oaHR0cHM6Ly9iY2R1ZGVrLm5ldC9yZWdyZXNzaW9uMS9yZXZpZXctdW5pcXVlLWFuZC1jb21tb24tcHJvcG9ydGlvbnMtb2YtdmFyaWFuY2UtYW5kLXR5cGUtaS12cy1paWktc3Vtcy1vZi1zcXVhcmVzLmh0bWwjZi10ZXN0cy1vbi10aGUtdW5pcXVlLWNvbXBvbmVudHMpIG9mIGNvbXB1dGluZyBGLXN0YXRpc3RpYyBpbiB0aGUgY2FzZSBvZiBhIG11bHRpcGxlIHJlZ3Jlc3Npb24uIEJ1dCB0aGF0J3MgYWxsIGFib3V0IFN1bSBhbmQgTWVhbiBvZiBTcXVhcmVzIGNvbXB1dGF0aW9uLiBTaW1wbHkgd3JpdHRlbiBGIHJlcHJlc2VudHM6DQoNCkYgPSBNU00gLyBNU0UgPSAoZXhwbGFpbmVkIHZhcmlhbmNlKSAvICh1bmV4cGxhaW5lZCB2YXJpYW5jZSkNCg0KIyMgQW5vdmEgbW9kZWxzDQoNCkxpbmVhciByZWdyZXNzaW9uIGFuZCBsaW5lYXIgbW9kZWwgYXJlIGNvbXBsZXRlIHN5bm9ueW1zLCBhbmQgd2UgdXN1YWxseSB1c2UgdGhlc2UgdGVybXMgd2hlbiB3ZeKAmXJlIHF1YW50aWZ5aW5nIHRoZSBlZmZlY3Qgb2YgYSAqKmNvbnRpbnVvdXMqKiBleHBsYW5hdG9yeSB2YXJpYWJsZSBvbiBhICoqY29udGludW91cyoqIHJlc3BvbnNlIHZhcmlhYmxlOiB0aGUgY2hhbmdlIGluICRZJCBmb3IgYSAxIHVuaXQgY2hhbmdlIGluICRYJD8gV2UgIGRpZCB0aGlzIHVzaW5nIHRoZSBgaXJpc2AgZGF0YSBzZXQ6IHdoYXQgaXMgdGhlIGluY3JlYXNlIG9mICRQZXRhbC5XaWR0aCQgd2hlbiAkU2VwYWwuTGVuZ3RoJCBhbmQgJFNlcGFsLldpZHRoJCBpbmNyZWFzZT8NCg0KTm93IHRoZSAqKkFOT1ZBKiouIEFOT1ZBIHN0YW5kcyBmb3IgKipBbmFseXNpcyBvZiBWYXJpYW5jZSoqLiBXZSB1c3VhbGx5IHRhbGsgYWJvdXQgYW4gQU5PVkEgd2hlbiB3ZeKAmXJlIHF1YW50aWZ5aW5nIHRoZSBlZmZlY3Qgb2YgYSAqKmRpc2NyZXRlKiosIG9yICoqY2F0ZWdvcmljYWwqKiBleHBsYW5hdG9yeSB2YXJpYWJsZSBvbiBhICoqY29udGludW91cyoqIHJlc3BvbnNlIHZhcmlhYmxlLiBIb3cgZG9lcyB0aGUgbWVhbiAkUGV0YWwuV2lkdGgkIHZhcnkgZGVwZW5kaW5nIG9uIHRoZSBpcmlzICRTcGVjaWVzJCAoYSBjYXRlZ29yaWFsIHZhcmlhYmxlKT8gVGhpcyBpcyBhbHNvIGEgbGluZWFyIG1vZGVsLCBidXQgaW5zdGVhZCBvZiBnZXR0aW5nIGEgc2xvcGUgdGhhdCBhbGxvd3MgdXMgdG8gcHJlZGljdCB0aGUgJFBldGFsLndpZHRoJCBmb3IgYW55IHZhbHVlIG9mICRTZXBhbC5MZW5ndGgkIG9yICRTZXBhbC53aWR0aCQsIHdlIGdldCBhbiBlc3RpbWF0ZSBvZiB0aGUgJFBldGFsLldpZHRoJCBmb3IgZWFjaCAkU3BlY2llcyQuIEJhc2ljYWxseSwgdXNpbmcgQU5PVkEgY2FuIGRldGVybWluZSB3aGV0aGVyIHRoZSBtZWFucyBvZiB0aHJlZSBvciBtb3JlIGdyb3VwcyBhcmUgZGlmZmVyZW50LiBBTk9WQSB1c2VzIEYtdGVzdHMgdG8gc3RhdGlzdGljYWxseSB0ZXN0IHRoZSBlcXVhbGl0eSBvZiBtZWFucy4gDQoNCkZ1bmRhbWVudGFsbHksIGxpbmVhciByZWdyZXNzaW9uLCBsaW5lYXIgbW9kZWwsIGFuZCBBTk9WQSBhcmUgZnVuZGFtZW50YWxseSB0aGUgc2FtZSB0aGluZyEgQWN0dWFsbHkgYW4gQU5PVkEgZG9lcyBub3QgcHJvdmlkZSBhbnl0aGluZyB0aGF0IGEgbG0gY2Fubm90IHByb3ZpZGUgKHRoZSByZXZlcnNlIGlzIHlldCBub3QgdHJ1ZSkuIFdoZW4gdXNpbmcgYSBjYXRlZ29yaWNhbCB2YXJpYWJsZSwgaXQgaXMgYWxsIGEgbWF0dGVyIG9mIGluY2x1ZGluZyB0aGUgY29ycmVjdCB2YXJpYW5jZXMgaW4gdGhlIHJhdGlvLiBJbiBvbmUtd2F5IEFOT1ZBLCB0aGUgRi1zdGF0aXN0aWMgaXMgdGhpcyByYXRpbyBpIHNpbXBseSB3cml0dGVuOg0KDQpGID0gdmFyaWF0aW9uIGJldHdlZW4gc2FtcGxlIG1lYW5zIC8gdmFyaWF0aW9uIHdpdGhpbiB0aGUgc2FtcGxlcw0KDQpUaGF0J3MgYmFzaWNhbGx5IHdoYXQgaXMgcmVwcmVzZW50ZWQgYmVsb3cgYnk6IE1TQi9NU1cgKHNlZSBbaGVyZV0oaHR0cHM6Ly9ieWp1cy5jb20vYW5vdmEtZm9ybXVsYS8pKQ0KDQo8Y2VudGVyPg0KIVtdKEZpZ3VyZXMvQU5PVkEucG5nKXt3aWR0aD0xMDAlfQ0KPC9jZW50ZXI+DQoNCkZ1cnRoZXIgZGV0YWlscyBvZiB0aGUgY29tcHV0YXRpb24gb2YgYSBPbmUtV2F5IEFOT1ZBIGlzIHByb3ZpZGVkIGEgc3RlcC1ieSBzdGVwIGRlbW8gaW4gZXhjZWwgW2hlcmVdKC5cRGF0YVxkZW1vX3N0YXRzLnhsc3gpLiBZb3UgY2FuIHJ1biB0aGUgYGFub3ZhYCBmdW5jdGlvbiBvbiBhIGxpbmVhciBtb2RlbCBvYmplY3QgYW5kIHNlZSBob3cgeW91IGdldCB0aGUgc2FtZSAqRiotc3RhdCB0aGFuIGluIG91ciBleGFtcGxlLg0KDQoNCmBgYHtyLCAgZXZhbD1UfQ0Kc3R1ZGVudHM8LXJlYWQudGFibGUoJ2h0dHBzOi8vd3d3LmRpcGludG90aGVyZWVmLmNvbS91cGxvYWRzLzMvNy8zLzUvMzczNTkyNDUvc3R1ZGVudHMudHh0JyxoZWFkZXI9VCwgc2VwPSJcdCIsIGRlYz0nLicpIA0KbG0uY2F0PC1sbShzaG9lc2l6ZX5nZW5kZXIsIGRhdGE9c3R1ZGVudHMpDQphbm92YShsbS5jYXQpDQpgYGANCg0KQW5kIGl0cyBhcHBsaWNhdGlvbiBvbiB0aGUgYGlyaXNgIGRhdGEgc2V0Og0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQppcmlzLmxtPC1sbShQZXRhbC5XaWR0aCB+IFNwZWNpZXMsIGRhdGE9aXJpcykNCnN1bW1hcnkoaXJpcy5sbSkNCmFub3ZhKGlyaXMubG0pDQpgYGANCg0KDQpBbiBBTk9WQSB0ZXN0cyB0aGUgZWZmZWN0IG9mIG9uZSBvciBtb3JlIG5vbWluYWwgKGFrYSAqKmZhY3RvcioqKSAqKmluZGVwZW5kZW50KiogdmFyaWFibGUocykgb24gYSBudW1lcmljYWwgKipkZXBlbmRlbnQqKiB2YXJpYWJsZS4gQSBub21pbmFsIChmYWN0b3IpIHZhcmlhYmxlIGlzIG9uZSB0aGF0IGNvbnRhaW5zIGEgZmluaXRlIG51bWJlciBvZiBjYXRlZ29yaWVzIHdpdGggbm8gaW5oZXJlbnQgb3JkZXIuDQoNCklmIHlvdSBvbmx5IGluY2x1ZGUgb25lIGluZGVwZW5kZW50IHZhcmlhYmxlLCB0aGlzIGlzIGNhbGxlZCBhICoqT25lLXdheSBBTk9WQSoqLiBJZiB5b3UgaW5jbHVkZSB0d28gaW5kZXBlbmRlbnQgdmFyaWFibGVzLCB0aGlzIGlzIGNhbGxlZCBhICoqVHdvLXdheSBBTk9WQSoqLiBJZiB5b3UgaW5jbHVkZSB0aHJlZSBpbmRlcGVuZGVudCB2YXJpYWJsZXMsIHRoaXMgaXMgY2FsbGVkICguLi4pLCBldGMuIFRoZXJlIGFyZSBtYW55IHR5cGVzIG9mIEFOT1ZBcyB0aGF0IGRlcGVuZCBvbiB0aGUgdHlwZSBvZiBkYXRhIHlvdSBhcmUgYW5hbHl6aW5nLiBJbiBmYWN0LCB0aGVyZSBhcmUgc28gbWFueSB0eXBlcyBvZiBBTk9WQXMgdGhhdCB0aGVyZSBhcmUgZW50aXJlIGJvb2tzIGV4cGxhaW5pbmcgZGlmZmVyZW5jZXMgYmV0d2VlbiBvbmUgdHlwZSBhbmQgYW5vdGhlci4NCg0KIyMjIEZ1bGwtZmFjdG9yaWFsIGJldHdlZW4tc3ViamVjdHMgQU5PVkENCg0KDQpIZXJlLCB3ZeKAmWxsIGNvdmVyIGp1c3Qgb25lIHR5cGUgb2YgQU5PVkFzIGNhbGxlZCAqKmZ1bGwtZmFjdG9yaWFsLCBiZXR3ZWVuLXN1YmplY3RzIEFOT1ZBcyoqLiBUaGVzZSBhcmUgdGhlIHNpbXBsZXN0IHR5cGVzIG9mIEFOT1ZBcyAoYW5kIGVhc2llc3QgdG8gZXhwbGFpbikgd2hpY2ggYXJlIHVzZWQgdG8gYW5hbHl6ZSBhIHN0YW5kYXJkIGV4cGVyaW1lbnRhbCBkZXNpZ24uIEluIGEgZnVsbC1mYWN0b3JpYWwsIGJldHdlZW4tc3ViamVjdHMgQU5PVkEsIG9ic2VydmF0aW9ucyAoZGF0YSkgYXJlICBhc3NpZ25lZCB0byBhIHVuaXF1ZSBjb21iaW5hdGlvbiBvZiBmYWN0b3JzIOKAkyB3aGVyZSBhIGNvbWJpbmF0aW9uIG9mIGZhY3RvcnMgbWVhbnMgYSBzcGVjaWZpYyBleHBlcmltZW50YWwgY29uZGl0aW9uLg0KDQpUaGUgYHBvb3BkZWNrYCBkYXRhIHNldCAocGFja2FnZSBgeWFycnJyYCwgUGhpbGxpcHMgMjAxOCkgaXMgYSBkYXRhZnJhbWUgY29udGFpbmluZyB0aGUgYW1vdW50IG9mIHRpbWUgaXQgdG9vayB0byBjbGVhbiBib3RoIGBwYXJyb3RgIGFuZCBgc2hhcmtgIHBvb3AgZnJvbSB0aGUgZGVjayBvZiBhIGJvYXQgdXNpbmcgdGhyZWUgZGlmZmVyZW50IGNsZWFuaW5nIGFnZW50cyBgYWAsIGBiYCwgYGNgLiBUaGF0J3MgZGFpbHkgbWVhc3VyZW1lbnQuDQoNCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KcGlyYXRlcGxvdChmb3JtdWxhID0gdGltZSB+IGNsZWFuZXIgKyB0eXBlLA0KICAgICAgICAgICBkYXRhID0gcG9vcGRlY2ssDQogICAgICAgICAgIHlsaW0gPSBjKDAsIDE1MCksDQogICAgICAgICAgIHhsYWIgPSAiQ2xlYW5lciIsDQogICAgICAgICAgIHlsYWIgPSAiQ2xlYW5pbmcgVGltZSAobWludXRlcykiLA0KICAgICAgICAgICBtYWluID0gInBvb3BkZWNrIGRhdGEiLA0KICAgICAgICAgICBiYWNrLmNvbCA9IGdyYXkoLjk3KSwgDQogICAgICAgICAgIGNhcC5iZWFucyA9IFRSVUUsIA0KICAgICAgICAgICB0aGVtZSA9IDIpDQpgYGANCg0KSW4gdGhlIGBwb29wZGVja2AgZGF0YXNldCwgMiBzcGVjaWVzIGFuZCAzIGNsZWFuaW5nIGFnZW50cyBnaXZlIHVzIDIgeCAzIGJsb2NrcyB3aXRoIG9ic2VydmF0aW9ucy4gVGhpcyBmdWxsLWZhY3RvcmlhbCBiZXR3ZWVuLXN1YmplY3RzIEFOT1ZBcyBhcmUgdGhlICoqc3RhbmRhcmQqKiBBTk9WQXMuDQoNClVzaW5nIHRob3NlIGRhdGEsIHdlIGNhbiB1c2UgQU5PVkEgdG8gYW5zd2VyIGZvdXIgc2VwYXJhdGUgcXVlc3Rpb25zOg0KDQpRdWVzdGlvbnxBbmFseXNpc3xGb3JtdWxhDQotLS0tLS0tLXwtLS0tLS0tLXwtLS0tLS0tDQpJcyB0aGVyZSBhIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgZGlmZmVyZW50IGNsZWFuaW5nIGFnZW50cyBvbiB0aGUgY2xlYW5pbmcgdGltZSAoaWdub3JpbmcgcG9vcCB0eXBlKT98T25lIHdheSBBTk9WQXxgdGltZSB+IGNsZWFuZXJgDQpJcyB0aGVyZSBhIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgZGlmZmVyZW50IHBvb3AgdHlwZXMgb24gY2xlYW5pbmcgdGltZSAoaWdub3Jpbmcgd2hpY2ggY2xlYW5pbmcgYWdlbnQgaXMgdXNlZCl8T25lLXdheSBBTk9WQXxgdGltZSB+IHR5cGVgDQpJcyB0aGVyZSBhICp1bmlxdWUqIGVmZmVjdCBvZiB0aGUgY2xlYW5pbmcgYWdlbnQgb3IgcG9vcCB0eXBlcyBvbiBjbGVhbmluZyB0aW1lP3xUd28td2F5IEFOT1ZBfGB0aW1lIH4gY2xlYW5lciArIHR5cGVgDQpEb2VzIHRoZSBlZmZlY3Qgb2YgY2xlYW5pbmcgYWdlbnQgZGVwZW5kIG9uIHRoZSBwb29wIHR5cGU/fFR3by13YXkgQU5PVkEgd2l0aCAqaW50ZXJhY3Rpb24qIHRlcm18YHRpbWUgfiBjbGVhbmVyICogdHlwZWANCg0KDQoNCioqQ29uY2VwdHMqKg0KDQpBcyB3ZSBtZW50aW9uZWQsIEFOT1ZBIHN0YW5kcyBmb3IgYW5hbHlzaXMgb2YgKip2YXJpYW5jZSoqLiBJdCBtYXkgc291bmQgbGlrZSBhIHN0cmFuZ2UgbmFtZSB0byBnaXZlIHRvIGEgdGVzdCB0aGF0IHlvdSB1c2UgdG8gZmluZCBkaWZmZXJlbmNlcyBpbiAqKm1lYW5zKiosIG5vdCBkaWZmZXJlbmNlcyBpbiAqKnZhcmlhbmNlcyoqLiBIb3dldmVyLCBBTk9WQSBhY3R1YWxseSB1c2VzIHZhcmlhbmNlcyB0byBkZXRlcm1pbmUgd2hldGhlciBvciBub3QgdGhlcmUgYXJlIHJlYWwgZGlmZmVyZW5jZXMgaW4gdGhlIG1lYW5zIG9mIGdyb3Vwcy4gU3BlY2lmaWNhbGx5LCBpdCBsb29rcyBhdCBob3cgdmFyaWFibGUgZGF0YSBhcmUgd2l0aGluIGdyb3VwcyBhbmQgY29tcGFyZXMgdGhhdCB0byB0aGUgdmFyaWFiaWxpdHkgb2YgZGF0YSBiZXR3ZWVuIGdyb3Vwcy4gSWYgdGhlICoqYmV0d2Vlbi1ncm91cCB2YXJpYW5jZSoqIGlzIGxhcmdlIGNvbXBhcmVkIHRvIHRoZSAqKndpdGhpbi1ncm91cCB2YXJpYW5jZSoqLCB0aGUgQU5PVkEgd2lsbCBjb25jbHVkZSB0aGF0IHRoZSBncm91cHMgKipkaWZmZXIqKiBpbiB0aGVpciBtZWFucy4gSWYgdGhlICoqYmV0d2Vlbi1ncm91cCB2YXJpYW5jZSoqIGlzIHNtYWxsIGNvbXBhcmVkIHRvIHRoZSAqKndpdGhpbi1ncm91cCB2YXJpYW5jZSoqLCB0aGUgQU5PVkEgd2lsbCBjb25jbHVkZSB0aGF0IHRoZSBncm91cHMgYXJlIGFsbCB0aGUgKipzYW1lKiouIA0KDQohW10oRmlndXJlcy9ucy1hbm92YS5wbmcpDQoNCipBTk9WQSBjb21wYXJlcyB0aGUgdmFyaWFiaWxpdHkgYmV0d2VlbiBncm91cHMgKGkuZS47IHRoZSBkaWZmZXJlbmNlcyBpbiB0aGUgZ3JvdXAgbWVhbnMpIHRvIHRoZSB2YXJpYWJpbGl0eSB3aXRoaW4gZ3JvdXBzIChpLmUuOyBob3cgbXVjaCBpbmRpdmlkdWFscyBnZW5lcmFsbHkgZGlmZmVyIGZyb20gZWFjaCBvdGhlcikuIElmIHRoZSB2YXJpYWJpbGl0eSBiZXR3ZWVuIGdyb3VwcyBpcyBzbWFsbCBjb21wYXJlZCB0byB0aGUgdmFyaWFiaWxpdHkgYmV0d2VlbiBncm91cHMsIEFOT1ZBIHdpbGwgcmV0dXJuIGEgbm9uLXNpZ25pZmljYW50IHJlc3VsdCDigJMgc3VnZ2VzdGluZyB0aGF0IHRoZSBncm91cHMgYXJlIG5vdCByZWFsbHkgZGlmZmVyZW50LiBJZiB0aGUgdmFyaWFiaWxpdHkgYmV0d2VlbiBncm91cHMgaXMgbGFyZ2UgY29tcGFyZWQgdG8gdGhlIHZhcmlhYmlsaXR5IHdpdGhpbiBncm91cHMsIEFOT1ZBIHdpbGwgcmV0dXJuIGEgc2lnbmlmaWNhbnQgcmVzdWx0IOKAkyBpbmRpY2F0aW5nIHRoYXQgdGhlIGdyb3VwcyBhcmUgcmVhbGx5IGRpZmZlcmVudC4qDQoNCkEgc3RhbmRhcmQgQU5PVkEgY2FuIGJlIHN1bW1hcml6ZWQgaW4gNCBzdGVwczoNCg0KMS4gQ3JlYXRlIGFuIEFOT1ZBIG9iamVjdCB1c2luZyB0aGUgYGFvdmAgZnVuY3Rpb24uIEluIHRoZSBgYW92YCBmdW5jdGlvbiwgc3BlY2lmeSB0aGUgaW5kZXBlbmRlbnQgYW5kIGRlcGVuZGVudCB2YXJpYWJsZShzKSB3aXRoIGEgZm9ybXVsYSB3aXRoIHRoZSBmb3JtYXQgYHkgfiB4MSArIHgyYCB3aGVyZSB5IGlzIHRoZSBkZXBlbmRlbnQgdmFyaWFibGUsIGFuZCB4MSwgeDIg4oCmIGFyZSBvbmUgKG1vcmUgbW9yZSkgZmFjdG9yIGluZGVwZW5kZW50IHZhcmlhYmxlcy4gVGhlIGZ1bmN0aW9uIGBhb3ZgIGNvbWJpbmVzIGBsbWAgYW5kIGBhbm92YWAgZnVuY3Rpb25zIHRvZ2V0aGVyLiANCg0KYGBge3IsICBldmFsPUYsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KIyBTdGVwIDE6IENyZWF0ZSBhbiBhb3Ygb2JqZWN0DQptb2QuYW92IDwtIGFvdihmb3JtdWxhID0geSB+IHgxICsgeDIgKyAuLi4sIGRhdGEgPSBkYXRhKQ0KYGBgDQoNCjIuIENyZWF0ZSBhIHN1bW1hcnkgQU5PVkEgdGFibGUgYnkgYXBwbHlpbmcgdGhlIGBzdW1tYXJ5YCBmdW5jdGlvbiB0byB0aGUgQU5PVkEgb2JqZWN0IHlvdSBjcmVhdGVkIGluIFN0ZXAgMS4NCg0KYGBge3IsICBldmFsPUYsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KIyBTdGVwIDI6IExvb2sgYXQgYSBzdW1tYXJ5IG9mIHRoZSBhb3Ygb2JqZWN0DQpzdW1tYXJ5KG1vZC5hb3YpDQpgYGANCg0KMy4gSWYgbmVjZXNzYXJ5LCBjYWxjdWxhdGUgcG9zdC1ob2MgdGVzdHMgYnkgYXBwbHlpbmcgYSBwb3N0LWhvYyB0ZXN0aW5nIGZ1bmN0aW9uIGxpa2UgYFR1a2V5SFNEYCB0byB0aGUgQU5PVkEgb2JqZWN0IHlvdSBjcmVhdGVkIGluIFN0ZXAgMS4NCg0KYGBge3IsICBldmFsPUYsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KIyBTdGVwIDM6IENhbGN1bGF0ZSBwb3N0LWhvYyB0ZXN0cw0KVHVrZXlIU0QobW9kLmFvdikNCmBgYA0KDQo0LklmIG5lY2Vzc2FyeSwgaW50ZXJwcmV0IHRoZSBuYXR1cmUgb2YgdGhlIGdyb3VwIGRpZmZlcmVuY2VzIGJ5IGdvaW5nIGJhY2sgdG8gYSBsaW5lYXIgcmVncmVzc2lvbiBvYmplY3QgdXNpbmcgYGxtYCB1c2luZyB0aGUgc2FtZSBhcmd1bWVudHMgeW91IHVzZWQgaW4gdGhlIGBhb3ZgIGZ1bmN0aW9uIGluIFN0ZXAgMS4NCg0KYGBge3IsICBldmFsPUYsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KIyBTdGVwIDQ6IExvb2sgYXQgY29lZmZpY2llbnRzDQptb2QubG0gPC0gbG0oZm9ybXVsYSA9IHkgfiB4MSArIHgyICsgLi4uLCBkYXRhID0gZGF0YSkNCnN1bW1hcnkobW9kLmxtKQ0KYGBgDQoNCiMjIyMgT25lLXdheSBBTk9WQQ0KDQpXZeKAmWxsIHNldCBjbGVhbmluZyBgdGltZWAgYXMgdGhlIGRlcGVuZGVudCB2YXJpYWJsZSBhbmQgdGhlIGBjbGVhbmVyYCBhZ2VudCB0eXBlICBhcyB0aGUgaW5kZXBlbmRlbnQgdmFyaWFibGUuIFdlIGNhbiByZXByZXNlbnQgdGhlIGRhdGEgYXMgZm9sbG93LCB3aGljaCBoZWxwIGF0IGV4YW1pbmluZyB0aGUgZ3JvdXAgd2UgYXJlIGNvbXBhcmluZzoNCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KcGlyYXRlcGxvdCh0aW1lIH4gY2xlYW5lciwgDQogICAgICAgICAgICAgICAgICBkYXRhID0gcG9vcGRlY2ssIA0KICAgICAgICAgICAgICAgICAgdGhlbWUgPSAyLCANCiAgICAgICAgICAgICAgICAgIGNhcC5iZWFucyA9IFRSVUUsDQogICAgICAgICAgICAgICAgICBtYWluID0gImZvcm11bGEgPSB0aW1lIH4gY2xlYW5lciIpDQpgYGANCg0KSnVzdCBmcm9tIHRoZSBwbG90LCBpdCBpcyBvYnZpb3VzIHRoYXQgdGhlIGNsZWFuaW5nIGFnZW50cyBgYWAgYW5kIGBiYCBhcmUgYWJvdXQgdGhlIHNhbWUsIGFuZCBpdCBsb29rcyBhIGxpdHRsZSBiaXQgZmFzdGVyIHdoZW4gdXNpbmcgdGhlIGNsZWFuaW5nIGFnZW50IGBjYC4gVGhpcyBpcyBqdXN0IHZpc3VhbC4gVG8gdGVzdCBpdCwgd2Ugd2lsbCBjcmVhdGUgYW4gQU5PVkEgb2JqZWN0IHdpdGggYGFvdmAuIEJlY2F1c2UgdGltZSBpcyB0aGUgZGVwZW5kZW50IHZhcmlhYmxlIGFuZCBjbGVhbmVyIGlzIHRoZSBpbmRlcGVuZGVudCB2YXJpYWJsZSwgd2XigJlsbCBzZXQgdGhlIGZvcm11bGEgdG8gYGZvcm11bGEgPSB0aW1lIH4gY2xlYW5lcmAuIE91ciBoeXBvdGhlc2VzIGFyZSB0aGUgZm9sbG93aW5nOiAqKipIXzAqKiosIG5vIGRpZmZlcmVuY2UgaW4gdGltZSBiZXR3ZWVuIGNsZWFuaW5nIGFnZW50cyB8ICoqKkhfMSoqKiwgYXQgbGVhc3Qgb25lIGRpZmZlcmVuY2UgaW4gdGltZSBiZXR3ZWVuIGNsZWFuaW5nIGFnZW50cy4NCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KIyBTdGVwIDE6IGFvdiBvYmplY3Qgd2l0aCB0aW1lIGFzIERWIGFuZCBjbGVhbmVyIGFzIElWDQpjbGVhbmVyLmFvdiA8LSBhb3YoZm9ybXVsYSA9IHRpbWUgfiBjbGVhbmVyLCBkYXRhID0gcG9vcGRlY2spDQpgYGANCg0KTm93LCB0byBzZWUgYSBmdWxsIEFOT1ZBIHN1bW1hcnkgdGFibGUgb2YgdGhlIEFOT1ZBIG9iamVjdCwgYXBwbHkgdGhlIGBzdW1tYXJ5YCB0byB0aGUgQU5PVkEgb2JqZWN0IGZyb20gU3RlcCAxOg0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQojIFN0ZXAgMjogTG9vayBhdCB0aGUgc3VtbWFyeSBvZiB0aGUgYW5vdmEgb2JqZWN0DQpzdW1tYXJ5KGNsZWFuZXIuYW92KQ0KYGBgDQoNClRoZSBtYWluIHJlc3VsdCBmcm9tIG91ciBhbm92YSB0YWJsZSBpcyB0aGF0IHdlIGhhdmUgYSBzaWduaWZpY2FudCBlZmZlY3Qgb2YgY2xlYW5lciBvbiBjbGVhbmluZyB0aW1lLiAqKipIXzAqKiogaXMgcmVqZWN0ZWQgYW5kIHdlIGFjY2VwdCAqKipIXzEqKiouIFRoZSByZXN1bHRzIG9mIGFuIEFOT1ZBIGFyZSB1c3VhbGx5IHJlcG9ydGVkIGFzIGZvbGxvd2luZy4gRigyLCA1OTcpID0gNS4yOSwgcCA9IDAuMDA1LiAgQ2FyZWZ1bGx5IGV4YW1pbmUgdGhlIGRlZ3JlZXMgb2YgZnJlZWRvbSwgdGhleSB0ZWxsIHlvdSBhIGxvdCBhYm91dCB5b3VyIGRhdGEgc2V0IQ0KDQpIb3dldmVyLCB0aGUgQU5PVkEgdGFibGUgZG9lcyBub3QgdGVsbCB1cyB3aGljaCBsZXZlbHMgb2YgdGhlIGluZGVwZW5kZW50IHZhcmlhYmxlIGRpZmZlci4gSW4gb3RoZXIgd29yZHMsIHdlIGRvbuKAmXQga25vdyB3aGljaCBjbGVhbmluZyBhZ2VudCBpcyBiZXR0ZXIgdGhhbiB3aGljaCBvbmVzLiBUbyBhbnN3ZXIgdGhpcywgd2UgbmVlZCB0byBjb25kdWN0IGEgKipwb3N0LWhvYyoqIHRlc3QuDQoNCklmIHlvdeKAmXZlIGZvdW5kIGEgc2lnbmlmaWNhbnQgZWZmZWN0IG9mIGEgZmFjdG9yLCB5b3UgY2FuIHRoZW4gZG8gKipwb3N0LWhvYyoqIHRlc3RzIHRvIHRlc3QgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBhbGwgcGFpcnMgb2YgbGV2ZWxzIG9mIHRoZSBpbmRlcGVuZGVudCB2YXJpYWJsZS4gVGhlcmUgYXJlIG1hbnkgdHlwZXMgb2YgKipwYWlyd2lzZSBjb21wYXJpc29ucyoqIHRoYXQgcmVseSBvbiBkaWZmZXJlbnQgYXNzdW1wdGlvbnMuIE9uZSBvZiB0aGUgbW9zdCBjb21tb24gcG9zdC1ob2MgdGVzdHMgZm9yIHN0YW5kYXJkIEFOT1ZBcyBpcyB0aGUgVHVrZXkgKipIb25lc3RseSBTaWduaWZpY2FudCBEaWZmZXJlbmNlIChIU0QpKiogdGVzdC4gU2VlIGBsaWJyYXJ5KCdtdWx0Y29tcCcpYCBmb3Igb3RoZXIgY29tbW9uIGFsdGVybmF0aXZlcy4gVG8gZG8gYW4gSFNEIHRlc3QsIGFwcGx5IHRoZSBgVHVrZXlIU0RgIGZ1bmN0aW9uIHRvIHlvdXIgQU5PVkEgb2JqZWN0IGFzIGZvbGxvd3M6IA0KDQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCiMgU3RlcCAzOiBDb25kdWN0IHBvc3QtaG9jIHRlc3RzDQpUdWtleUhTRChjbGVhbmVyLmFvdikNCmBgYA0KDQpUaGlzIHRhYmxlIHNob3dzIHVzIHRoZSBwYWlyLXdpc2UgZGlmZmVyZW5jZXMgYmV0d2VlbiBlYWNoIGdyb3VwIHBhaXIuIFRoZSBgZGlmZmAgY29sdW1uIHNob3dzIHVzIHRoZSAqKm1lYW4gZGlmZmVyZW5jZXMgYmV0d2VlbiBncm91cHMqKiAob2YgY291cnNlLCBpZGVudGljYWwgdG8gd2hhdCB3ZSBmb3VuZCBpbiB0aGUgc3VtbWFyeSBvZiBhIHJlZ3Jlc3Npb24gb2JqZWN0KSwgYSAqKmNvbmZpZGVuY2UgaW50ZXJ2YWwqKiBmb3IgdGhlIGRpZmZlcmVuY2UsIGFuZCBhICoqcC12YWx1ZSoqIHRlc3RpbmcgdGhlIG51bGwgaHlwb3RoZXNpcyB0aGF0IHRoZSBncm91cCBkaWZmZXJlbmNlcyBhcmUgbm90IGRpZmZlcmVudC4NCg0KaXQgaXMgYWx3YXlzIGhlbHBmdWwgdG8gY29tYmluZSBhbiAqKkFOT1ZBIHN1bW1hcnkqKiB0YWJsZSB3aXRoIGEgKipyZWdyZXNzaW9uIHN1bW1hcnkqKiB0YWJsZS4gQmVjYXVzZSBBTk9WQSBpcyBqdXN0IGEgc3BlY2lhbCBjYXNlIG9mIHJlZ3Jlc3Npb24gKHdoZXJlIGFsbCB0aGUgaW5kZXBlbmRlbnQgdmFyaWFibGVzIGFyZSBmYWN0b3JzKSwgeW914oCZbGwgZ2V0IHRoZSBzYW1lIHJlc3VsdHMgd2l0aCBhIHJlZ3Jlc3Npb24gb2JqZWN0IGFzIHlvdSB3aWxsIHdpdGggYW4gQU5PVkEgb2JqZWN0LiBIb3dldmVyLCB0aGUgZm9ybWF0IG9mIHRoZSByZXN1bHRzIGFyZSBkaWZmZXJlbnQgYW5kIGZyZXF1ZW50bHkgZWFzaWVyIHRvIGludGVycHJldCB1c2luZyBhbiBBTk9WQSB0YWJsZXMuDQoNClRvIGNyZWF0ZSBhIHJlZ3Jlc3Npb24gb2JqZWN0LCBnbyBiYWNrIHRvIGEgYGxtYCBmdW5jdGlvbi4gDQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCiMgU3RlcCA0OiBDcmVhdGUgYSByZWdyZXNzaW9uIG9iamVjdA0KY2xlYW5lci5sbSA8LSBsbShmb3JtdWxhID0gdGltZSB+IGNsZWFuZXIsIGRhdGEgPSBwb29wZGVjaykNCnN1bW1hcnkoY2xlYW5lci5sbSkNCmBgYA0KDQpBcyB5b3UgY2FuIHNlZSwgdGhlIHJlZ3Jlc3Npb24gdGFibGUgZG9lcyBub3QgZ2l2ZSB1cyB0ZXN0cyBmb3IgZWFjaCB2YXJpYWJsZSBsaWtlIHRoZSBBTk9WQSB0YWJsZSBkb2VzLiBJbnN0ZWFkLCBpdCB0ZWxscyB1cyBob3cgZGlmZmVyZW50IGVhY2ggbGV2ZWwgb2YgYW4gaW5kZXBlbmRlbnQgdmFyaWFibGUgaXMgZnJvbSBhIGRlZmF1bHQgdmFsdWUuIFlvdSBjYW4gdGVsbCB3aGljaCB2YWx1ZSBvZiBhbiBpbmRlcGVuZGVudCB2YXJpYWJsZSBpcyB0aGUgZGVmYXVsdCB2YXJpYWJsZSBqdXN0IGJ5IHNlZWluZyB3aGljaCB2YWx1ZSBpcyBtaXNzaW5nIGZyb20gdGhlIHRhYmxlLiBJbiB0aGlzIGNhc2UsIEkgZG9u4oCZdCBzZWUgYSBjb2VmZmljaWVudCBmb3IgY2xlYW5pbmcgYWdlbnQgYGFgLCBzbyB0aGF0IG11c3QgYmUgdGhlIGRlZmF1bHQgdmFsdWUuDQoNClRoZSBpbnRlcmNlcHQgaW4gdGhlIHRhYmxlIHRlbGxzIHVzIHRoZSBtZWFuIG9mIHRoZSBkZWZhdWx0IHZhbHVlLiBJbiB0aGlzIGNhc2UsIHRoZSBtZWFuIHRpbWUgb2YgY2xlYW5lciBhIHdhcyAqKjY2LjAyKiouIFRoZSBjb2VmZmljaWVudHMgZm9yIHRoZSBvdGhlciBsZXZlbHMgdGVsbCB1cyB0aGF0IGNsZWFuZXIgYiBpcywgb24gYXZlcmFnZSAqKjAuNDIqKiBtaW51dGVzIGZhc3RlciB0aGFuIGNsZWFuZXIgYSwgYW5kIGNsZWFuZXIgYyBpcyBvbiBhdmVyYWdlICoqNi45NCoqIG1pbnV0ZXMgZmFzdGVyIHRoYW4gY2xlYW5lciBhLiBOb3Qgc3VycHJpc2luZ2x5LCB0aGVzZSBhcmUgdGhlIHNhbWUgZGlmZmVyZW5jZXMgd2Ugc2F3IGluIHRoZSBUdWtleSBIU0QgdGVzdCENCg0KDQoNCiMjIyMgVHdvLXdheSBBTk9WQQ0KDQpUbyBjb25kdWN0IGEgdHdvLXdheSBBTk9WQSAob3IgbW9yZSksIGp1c3QgaW5jbHVkZSBhZGRpdGlvbmFsIGluZGVwZW5kZW50IHZhcmlhYmxlcyBpbiB0aGUgcmVncmVzc2lvbiBtb2RlbCBmb3JtdWxhIHdpdGggdGhlIGArYCBzaWduIGFzIHdlIGRpZCBlYXJsaWVyIGluIG91ciByZWdyZXNzaW9uIG1vZGVscy4gVGhhdOKAmXMgaXQuIEFsbCB0aGUgc3RlcHMgYXJlIHRoZSBzYW1lLiBMZXTigJlzIGNvbmR1Y3QgYSB0d28td2F5IEFOT1ZBIHdpdGggYm90aCBgY2xlYW5lcmAgYW5kIGB0eXBlYCBhcyBpbmRlcGVuZGVudCB2YXJpYWJsZXMuIFRvIGRvIHRoaXMsIHdl4oCZbGwgc2V0IGBmb3JtdWxhID0gdGltZSB+IGNsZWFuZXIgKyB0eXBlYC4NCg0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQojIFN0ZXAgMTogYW92IG9iamVjdCB3aXRoIHRpbWUgYXMgRFYgYW5kIGNsZWFuZXIgYW5kIHR5cGUgYXMgSVYNCmNsZWFuZXIudHlwZS5hb3YgPC0gYW92KGZvcm11bGEgPSB0aW1lIH4gY2xlYW5lciArIHR5cGUsIGRhdGEgPSBwb29wZGVjaykNCmBgYA0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQojIFN0ZXAgMjogR2V0IEFOT1ZBIHRhYmxlIHdpdGggc3VtbWFyeSgpDQpzdW1tYXJ5KGNsZWFuZXIudHlwZS5hb3YpDQpgYGANCg0KSXQgbG9va3MgbGlrZSB3ZSBmb3VuZCBzaWduaWZpY2FudCBlZmZlY3RzIG9mIGJvdGggaW5kZXBlbmRlbnQgdmFyaWFibGVzLg0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQojIFN0ZXAgMzogQ29uZHVjdCBwb3N0LWhvYyB0ZXN0cw0KVHVrZXlIU0QoY2xlYW5lci50eXBlLmFvdikNCmBgYA0KDQpUaGUgb25seSBub24tc2lnbmlmaWNhbnQgZ3JvdXAgZGlmZmVyZW5jZSB3ZSBmb3VuZCBpcyBiZXR3ZWVuIGNsZWFuZXIgYiBhbmQgY2xlYW5lciBhLiBBbGwgb3RoZXIgY29tcGFyaXNvbnMgd2VyZSBzaWduaWZpY2FudC4NCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KIyBTdGVwIDQ6IExvb2sgYXQgcmVncmVzc2lvbiBjb2VmZmljaWVudHMNCmNsZWFuZXIudHlwZS5sbSA8LSBsbShmb3JtdWxhID0gdGltZSB+IGNsZWFuZXIgKyB0eXBlLCBkYXRhID0gcG9vcGRlY2spDQpzdW1tYXJ5KGNsZWFuZXIudHlwZS5sbSkNCmBgYA0KDQpOb3cgd2UgbmVlZCB0byBpbnRlcnByZXQgdGhlIHJlc3VsdHMgaW4gcmVzcGVjdCB0byB0d28gZGVmYXVsdCB2YWx1ZXMgKGhlcmUsIGNsZWFuaW5nIGFnZW50ID0gYGFgIGFuZCB0eXBlID0gYHBhcnJvdGApLiBUaGUgaW50ZXJjZXB0IG1lYW5zIHRoYXQgdGhlIGF2ZXJhZ2UgdGltZSBmb3IgY2xlYW5pbmcgYWdlbnQgYGFgIG9uIGBwYXJyb3RgIHBvb3Agd2FzIDU0LjM2IG1pbnV0ZXMuIEFkZGl0aW9uYWxseSwgdGhlIGF2ZXJhZ2UgdGltZSB0byBjbGVhbiBgc2hhcmtgIHBvb3Agd2FzIDIzLjMzIG1pbnV0ZXMgc2xvd2VyIHRoYW4gd2hlbiBjbGVhbmluZyBgcGFycm90YCBwb29wLg0KDQoqKkludGVyYWN0aW9ucyoqIA0KDQpBZGRpbmcgYW4gaW50ZXJhY3Rpb24gdGVybSBpbiB5b3VyIHJlZ3Jlc3Npb24gbW9kZWwgY2FuIGJlIGltcG9ydGFudCwgYnV0IHlvdSBuZWVkIHRvIGNhcmVmdWxseSB0aGluayBpZiBpdCBpcyBqdXN0aWZpZWQgYW5kIHdoYXQgeW91IGNvdWxkIGV4cGVjdCBhYm91dCBpdC4gSW50ZXJhY3Rpb25zIGJldHdlZW4gdmFyaWFibGVzIHRlc3Qgd2hldGhlciBvciBub3QgdGhlIGVmZmVjdCBvZiBvbmUgdmFyaWFibGUgZGVwZW5kcyBvbiBhbm90aGVyIHZhcmlhYmxlLiBGb3IgZXhhbXBsZSwgd2UgY291bGQgdXNlIGFuIGludGVyYWN0aW9uIHRvIGFuc3dlciB0aGUgcXVlc3Rpb246ICpEb2VzIHRoZSBlZmZlY3Qgb2YgY2xlYW5pbmcgYWdlbnQgZGVwZW5kIG9uIHRoZSB0eXBlIG9mIHBvb3AgdGhleSBhcmUgdXNlZCB0byBjbGVhbj8qIFRvIGluY2x1ZGUgaW50ZXJhY3Rpb24gdGVybXMgaW4gYW4gQU5PVkEsIGp1c3QgdXNlIGFuIGFzdGVyaXggKGAqYCkgaW5zdGVhZCBvZiB0aGUgcGx1cyAoYCtgKSBiZXR3ZWVuIHRoZSB0ZXJtcyBpbiB5b3VyIGZvcm11bGEuIE5vdGUgdGhhdCB3aGVuIHlvdSBpbmNsdWRlIGFuIGludGVyYWN0aW9uIHRlcm0gaW4gYSByZWdyZXNzaW9uIG9iamVjdCwgUiB3aWxsIGF1dG9tYXRpY2FsbHkgaW5jbHVkZSB0aGUgbWFpbiBlZmZlY3RzIGFzIHdlbGwuDQoNCkxldOKAmXMgcmVwZWF0IG91ciBwcmV2aW91cyBBTk9WQSB3aXRoIHR3byBpbmRlcGVuZGVudCB2YXJpYWJsZXMsIGJ1dCBub3cgd2XigJlsbCBpbmNsdWRlIHRoZSBpbnRlcmFjdGlvbiBiZXR3ZWVuIGNsZWFuaW5nIGFnZW50IGFuZCBwb29wIHR5cGUuIFRvIGRvIHRoaXMsIHdl4oCZbGwgc2V0IHRoZSBmb3JtdWxhIHRvIGB0aW1lIH4gY2xlYW5lciAqIHR5cGVgLg0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQojIFN0ZXAgMTogQ3JlYXRlIEFOT1ZBIG9iamVjdCB3aXRoIGludGVyYWN0aW9ucw0KY2xlYW5lci50eXBlLmludC5hb3YgPC0gYW92KGZvcm11bGEgPSB0aW1lIH4gY2xlYW5lciAqIHR5cGUsIGRhdGEgPSBwb29wZGVjaykNCiMgU3RlcCAyOiBMb29rIGF0IHN1bW1hcnkgdGFibGUNCnN1bW1hcnkoY2xlYW5lci50eXBlLmludC5hb3YpDQpgYGANCg0KTG9va3MgbGlrZSB3ZSBkaWQgaW5kZWVkIGZpbmQgYSBzaWduaWZpY2FudCBpbnRlcmFjdGlvbiBiZXR3ZWVuIGNsZWFuZXIgYW5kIHR5cGUuIEluIG90aGVyIHdvcmRzLCB0aGUgZWZmZWN0aXZlbmVzcyBvZiBhIGNsZWFuZXIgZGVwZW5kcyBvbiB0aGUgdHlwZSBvZiBwb29wIGl04oCZcyBiZWluZyBhcHBsaWVkIHRvLiBUaGlzIG1ha2VzIHNlbnNlIGdpdmVuIG91ciBwbG90IG9mIHRoZSBkYXRhIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGNoYXB0ZXIuDQoNClRvIHVuZGVyc3RhbmQgdGhlIG5hdHVyZSBvZiB0aGUgZGlmZmVyZW5jZSwgd2XigJlsbCBsb29rIGF0IHRoZSByZWdyZXNzaW9uIGNvZWZmaWNpZW50cyBmcm9tIGEgcmVncmVzc2lvbiBvYmplY3Q6DQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCiMgU3RlcCA0OiBDYWxjdWxhdGUgcmVncmVzc2lvbiBjb2VmZmljaWVudHMNCmNsZWFuZXIudHlwZS5pbnQubG0gPC0gbG0oZm9ybXVsYSA9IHRpbWUgfiBjbGVhbmVyICogdHlwZSwgZGF0YSA9IHBvb3BkZWNrKQ0Kc3VtbWFyeShjbGVhbmVyLnR5cGUuaW50LmxtKQ0KYGBgDQoNCkFnYWluLCB0byBpbnRlcnByZXQgdGhpcyB0YWJsZSwgd2UgZmlyc3QgbmVlZCB0byBrbm93IHdoYXQgdGhlIGRlZmF1bHQgdmFsdWVzIGFyZS4gV2UgY2FuIHRlbGwgdGhpcyBmcm9tIHRoZSBjb2VmZmljaWVudHMgdGhhdCBhcmUg4oCYbWlzc2luZ+KAmSBmcm9tIHRoZSB0YWJsZS4gQmVjYXVzZSB5b3UgZG9u4oCZdCBzZWUgdGVybXMgZm9yIGBjbGVhbmVyYWAgb3IgYHR5cGVwYXJyb3RgLCB0aGlzIG1lYW5zIHRoYXQgY2xlYW5pbmcgYWdlbnQgYGFgIGFuZCAgYHBhcnJvdGAgcG9vcCB0eXBlIGFyZSB0aGUgZGVmYXVsdHMuIEFnYWluLCB3ZSBjYW4gaW50ZXJwcmV0IHRoZSBjb2VmZmljaWVudHMgYXMgZGlmZmVyZW5jZXMgYmV0d2VlbiBhIGxldmVsIGFuZCB0aGUgZGVmYXVsdC4gSXQgbG9va3MgbGlrZSBmb3IgYHBhcnJvdGAgcG9vcCwgY2xlYW5pbmcgYWdlbnRzIGBiYCBhbmQgYGNgIGJvdGggdGFrZSBtb3JlIHRpbWUgdGhhbiBhZ2VudCBgYWAgKHRoZSBkZWZhdWx0KS4gQWRkaXRpb25hbGx5LCBgc2hhcmtgIHBvb3AgdGVuZHMgdG8gdGFrZSBtdWNoIGxvbmdlciB0aGFuIGBwYXJyb3RgIHBvb3AgdG8gY2xlYW4gKHRoZSBlc3RpbWF0ZSBmb3IgYHR5cGVzaGFya2AgaXMgcG9zaXRpdmUpLg0KDQpUaGUgaW50ZXJhY3Rpb24gdGVybXMgdGVsbCB1cyBob3cgdGhlIGVmZmVjdCBvZiBgY2xlYW5lcmAgY2hhbmdlcyB3aGVuIG9uZSBpcyBjbGVhbmluZyBzaGFyayBwb29wLiBUaGUgbmVnYXRpdmUgZXN0aW1hdGUgKC0xNi45NikgZm9yIGBjbGVhbmVyYjp0eXBlc2hhcmtgIG1lYW5zIHRoYXQgY2xlYW5lciBiIGlzLCBvbiBhdmVyYWdlIDE2Ljk2IG1pbnV0ZXMgYGZhc3RlcmAgd2hlbiBjbGVhbmluZyBzaGFyayBwb29wIGNvbXBhcmVkIHRvIHBhcnJvdCBwb29wLiBCZWNhdXNlIHRoZSBwcmV2aW91cyBlc3RpbWF0ZSBmb3IgdGhlIGNsZWFuaW5nIGFnZW50IGBiYCAoZm9yIGBwYXJyb3RgIHBvb3ApIHdhcyBqdXN0IDguMDYsIHRoaXMgc3VnZ2VzdHMgdGhhdCB0aGUgZWZmaWNhY3kgIG9mIHRoZSBjbGVhbmVyIGBiYCBpcyBsZXNzIHRoYW4gYWdlbnQgYGFgIG9uIGBwYXJyb3RgIHBvb3AsIGJ1dCBoaWdoZXIgdGhhbiBhZ2VudCBgYWAgb24gYHNoYXJrYCBwb29wLiBTYW1lIHRoaW5nIGZvciBjbGVhbmVyIGBjYCB3aGljaCBzaW1wbHkgaGFzIHN0cm9uZ2VyIGVmZmVjdHMgaW4gYm90aCBkaXJlY3Rpb25zLiANCg0KWW91IGNhbiBzZWUsIGl0IGJlY29tZXMgcXVpY2tseSBtdWNoIG1vcmUgY29tcGxpY2F0ZWQgdG8gaW50ZXJwcmV0LiBUaGVyZWZvcmUgeW91IHNob3VsZCBjYXJlZnVsbHkgdGhpbmsgaWYgaW50ZXJhY3Rpb25zIGFyZSBqdXN0aWZpZWQgKGxpdGVyYXR1cmUsIHVuZGVyc3RhbmRpbmcsIGV0YykuIFRoZSBwYWNrYWdlIGBpbnRlcmFjdGlvbmAgcHJvdmlkZXMgc2V2ZXJhbCBmdW5jdGlvbnMgdGhhdCBjYW4gaGVscCBhdCBsb29raW5nIGF0IHRoZSBjb2VmZmljaWVudHMgYW5kIHRvIGludGVycHJldCBpbiBhIG1vcmUgZWFzeSB3YXkgdGhlIHJlc3VsdHMuDQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCmNhdF9wbG90KGNsZWFuZXIudHlwZS5pbnQubG0sIHByZWQgPSBjbGVhbmVyLCBtb2R4ID0gdHlwZSwgaW50ZXJ2YWwgPSBUUlVFKQ0KYGBgDQoNCg0KIyMjIFR5cGUgSSwgSUksIGFuZCBJSUkgQU5PVkFzDQoNCmh0dHBzOi8vYmVzam91cm5hbHMub25saW5lbGlicmFyeS53aWxleS5jb20vZG9pL3BkZi8xMC4xMTExL2ouMTM2NS0yNjU2LjIwMDkuMDE2MzQueA0KDQpJdCB0dXJucyBvdXQgdGhhdCB0aGVyZSBpcyBub3QganVzdCBvbmUgd2F5IHRvIGNhbGN1bGF0ZSBBTk9WQXMuIEluIGZhY3QsIHRoZXJlIGFyZSB0aHJlZSBkaWZmZXJlbnQgdHlwZXMgLSBjYWxsZWQsIFR5cGUgMSwgMiwgYW5kIDMgKG9yIFR5cGUgSSwgSUkgYW5kIElJSSkuIFRoZXNlIHR5cGVzIGRpZmZlciBpbiBob3cgdGhleSBjYWxjdWxhdGUgdmFyaWFiaWxpdHkgKHNwZWNpZmljYWxseSB0aGUgKipzdW1zIG9mIG9mIHNxdWFyZXMqKikuIElmIHlvdXIgZGF0YSBpcyByZWxhdGl2ZWx5ICoqQkFMQU5DRUQqKiwgbWVhbmluZyB0aGF0IHRoZXJlIGFyZSByZWxhdGl2ZWx5IGVxdWFsIG51bWJlcnMgb2Ygb2JzZXJ2YXRpb25zIGluIGVhY2ggZ3JvdXAsIHRoZW4gYWxsIHRocmVlIHR5cGVzIHdpbGwgZ2l2ZSB5b3UgdGhlIHNhbWUgYW5zd2VyLiBIb3dldmVyLCBpZiB5b3VyIGRhdGEgYXJlICoqVU5CQUxBTkNFRCoqLCBtZWFuaW5nIHRoYXQgc29tZSBncm91cHMgb2YgZGF0YSBoYXZlIG1hbnkgbW9yZSBvYnNlcnZhdGlvbnMgdGhhbiBvdGhlcnMsIHRoZW4geW91IG5lZWQgdG8gdXNlIFR5cGUgSUkgb3IgVHlwZSBJSUkuIFRoZSAqKkFOQ09WQSoqIG1vZGVsIGlzIGFuIGV4Y2VwdGlvbiB3aGVyZSB0aGlzIGlzc3VlIG11c3QgYmUgY29uc2lkZXJlZC4NCg0KDQpUaGUgc3RhbmRhcmQgYGFvdmAgZnVuY3Rpb24gaW4gYGJhc2VgIHBhY2thZ2UgdXNlcyAqKlR5cGUgSSoqIHN1bXMgb2Ygc3F1YXJlcy4gVGhlcmVmb3JlLCBpdCBpcyBhcHByb3ByaWF0ZSB3aGVuIHlvdXIgZGF0YSBhcmUgKipCQUxBTkNFRCoqLiBJZiB5b3VyIGRhdGEgYXJlICoqVU5CQUxBTkNFRCoqLCB5b3Ugc2hvdWxkIGNvbnNpZGVyIGFuIEFOT1ZBIHdpdGggVHlwZSBJSSBvciBUeXBlIElJSSBzdW1zIG9mIHNxdWFyZXMuIFRvIGRvIHRoaXMsIHlvdSBjYW4gdXNlIHRoZSBgQW5vdmFgIGZ1bmN0aW9uIGluIHRoZSBgY2FyYCBwYWNrYWdlLiBUaGUgYEFub3ZhYCBmdW5jdGlvbiBoYXMgYW4gYXJndW1lbnQgY2FsbGVkIHR5cGUgdGhhdCBhbGxvd3MgeW91IHRvIHNwZWNpZnkgdGhlIHR5cGUgb2YgQU5PVkEgeW91IHdhbnQgdG8gY2FsY3VsYXRlLg0KDQpGaXJzdCwgY3JlYXRlIGEgcmVncmVzc2lvbiBvYmplY3Qgd2l0aCBgbG1gLiBBcyB5b3XigJlsbCBzZWUsIHRoZSBgQW5vdmFgIGZ1bmN0aW9uIHJlcXVpcmVzIHlvdSB0byBlbnRlciBhIHJlZ3Jlc3Npb24gb2JqZWN0IGFzIHRoZSBtYWluIGFyZ3VtZW50LCBhbmQgbm90IGEgZm9ybXVsYSBhbmQgZGF0YXNldC4gVGhhdCBpcywgeW91IG5lZWQgdG8gZmlyc3QgY3JlYXRlIGEgcmVncmVzc2lvbiBvYmplY3QgZnJvbSB0aGUgZGF0YSB3aXRoIGBsbWAgKG9yIGBnbG1gKSwgYW5kIHRoZW4gZW50ZXIgdGhhdCBvYmplY3QgaW50byB0aGUgYEFub3ZhYCBmdW5jdGlvbi4gDQoNCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICJmb2xkLXNob3ciLCAgZXZhbD1UfQ0KIyBTdGVwIDE6IENhbGN1bGF0ZSByZWdyZXNzaW9uIG9iamVjdCB3aXRoIGxtKCkNCnRpbWUubG0gPC0gbG0oZm9ybXVsYSA9IHRpbWUgfiB0eXBlICsgY2xlYW5lciwgZGF0YSA9IHBvb3BkZWNrKQ0KYGBgDQoNCk5vdyB0aGF0IEnigJl2ZSBjcmVhdGVkIHRoZSByZWdyZXNzaW9uIG9iamVjdCBgdGltZS5sbWAsIEkgY2FuIGNhbGN1bGF0ZSB0aGUgdGhyZWUgZGlmZmVyZW50IHR5cGVzIG9mIEFOT1ZBcyBieSBlbnRlcmluZyB0aGUgb2JqZWN0IGFzIHRoZSBtYWluIGFyZ3VtZW50IHRvIGVpdGhlciBgYW92YCBmb3IgYSBUeXBlIEkgQU5PVkEsIG9yIGBBbm92YWAgaW4gdGhlIGBjYXJgIHBhY2thZ2UgZm9yIGEgVHlwZSBJLCBJSSwgb3IgIElJSSBBTk9WQToNCg0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQojIFR5cGUgSSBBTk9WQSAtIGFvdigpDQp0aW1lLkkuYW92IDwtIGFvdih0aW1lLmxtKQ0KIyBvciBhbm92YSh0aW1lLmxtKQ0KDQojIFR5cGUgSUkgQU5PVkEgLSBBbm92YSh0eXBlID0gMikNCnRpbWUuSUkuYW92IDwtIGNhcjo6QW5vdmEodGltZS5sbSwgdHlwZSA9IDIpDQoNCiMgVHlwZSBJSUkgQU5PVkEgLSBBbm92YSh0eXBlID0gMykNCnRpbWUuSUlJLmFvdiA8LSBjYXI6OkFub3ZhKHRpbWUubG0sIHR5cGUgPSAzKQ0KYGBgDQoNCkFzIGl0IGhhcHBlbnMsIHRoZSBkYXRhIGluIHRoZSBgcG9vcGRlY2tgIGRhdGFmcmFtZSBhcmUgcGVyZmVjdGx5IGJhbGFuY2VkIChzbyB3ZeKAmWxsIGdldCBleGFjdGx5IHRoZSBzYW1lIHJlc3VsdCBmb3IgZWFjaCBBTk9WQSB0eXBlLiBIb3dldmVyLCBpZiB0aGV5IHdlcmUgbm90IGJhbGFuY2VkLCB0aGVuIHdlIHNob3VsZCBub3QgdXNlIHRoZSBUeXBlIEkgQU5PVkEgY2FsY3VsYXRlZCB3aXRoIHRoZSBgYW92YCBmdW5jdGlvbi4NCg0KVG8gc2VlIGlmIHlvdXIgZGF0YSBhcmUgYmFsYW5jZWQsIHlvdSBjYW4gdXNlIHRoZSBmdW5jdGlvbjoNCiANCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCiMgQXJlIG9ic2VydmF0aW9ucyBpbiB0aGUgcG9vcGRlY2sgZGF0YSBiYWxhbmNlZD8NCndpdGgocG9vcGRlY2ssIHRhYmxlKGNsZWFuZXIsIHR5cGUpKSANCmBgYA0KDQpBcyB5b3UgY2FuIHNlZSwgaW4gdGhlIGBwb29wZGVja2AgZGF0YSBzZXQsIHRoZSBvYnNlcnZhdGlvbnMgYXJlIHBlcmZlY3RseSBiYWxhbmNlZCAoc2VlIHByZXZpb3VzbHkgdGhlIGp1c3RpZmNhdGlvbiBmb3IgKipmdWxsLWZhY3RvcmlhbCwgYmV0d2Vlbi1zdWJqZWN0cyBBTk9WQXMqKikgLCBzbyBpdCBkb2VzbuKAmXQgbWF0dGVyIHdoaWNoIHR5cGUgb2YgQU5PVkEgd2UgdXNlIHRvIGFuYWx5emUgdGhlIGRhdGEuDQoNClRoaXMgaXMgdmVyeSBpbXBvcnRhbnQgdG8gY29uc2lkZXIgaWYgeW91IGRhdGEgYXJlIGJhbGFuY2VkIHdoZW4gcGVyZm9ybWluZyBhbiBBTk9WQS4gRm9yIG1vcmUgZGV0YWlsIG9uIHRoZSBkaWZmZXJlbnQgdHlwZXMsIGNoZWNrIG91dCBbaGVyZV0oaHR0cHM6Ly9tY2Zyb21uei53b3JkcHJlc3MuY29tLzIwMTEvMDMvMDIvYW5vdmEtdHlwZS1paWlpaWktc3MtZXhwbGFpbmVkLykgZm9yIGEgdGVjaGluY2FsIGRpc2N1c3Npb24uIEFsc28gY2hlY2sgW0hlY3RvciBldCBhbC4gKDIwMTApXShodHRwczovL2Jlc2pvdXJuYWxzLm9ubGluZWxpYnJhcnkud2lsZXkuY29tL2RvaS9wZGYvMTAuMTExMS9qLjEzNjUtMjY1Ni4yMDA5LjAxNjM0LngpIGZvciBhIGRpc2N1c3Npb24gb24gdGhlIHRvcGljIGluIHRoZSBmaWVsZCBvZiBlY29sb2d5IGFuZCBldm9sdXRpb24uIA0KIA0KDQoqKkEgcXVpY2sgc3VtbWFyeSoqDQohW10oRmlndXJlcy9hbm92YS10eXBlLnBuZykNCiANCiANCiMjIyBBZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFuZCBhc3N1bXB0aW9uDQoNCllvdSBjYW4gZ2V0IGEgbG90IG9mIGludGVyZXN0aW5nIGluZm9ybWF0aW9uIGZyb20gQU5PVkEgb2JqZWN0cy4gVG8gc2VlIGV2ZXJ5dGhpbmcgdGhhdOKAmXMgc3RvcmVkIGluIG9uZSBBTk9WQSwgcnVuIGBuYW1lc2Agb24gYW4gQU5PVkEgb2JqZWN0LiBGb3IgZXhhbXBsZSwgaGVyZeKAmXMgd2hhdOKAmXMgaW4gb3VyIGxhc3QgQU5PVkEgb2JqZWN0IChub3RlIHRoZSBgY29udHJhc3RzYCB0aGF0IG1heSBiZSBpbXBvcnRhbnQgdG8ga25vdyB3aGVuIGFwcGx5aW5nIFR5cGUgSUksIG9yIElJSSBBTk9WQSk6DQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCm5hbWVzKGNsZWFuZXIudHlwZS5pbnQuYW92KQ0KYGBgDQoNCkZvciBleGFtcGxlLCB0aGUgYGZpdHRlZC52YWx1ZXNgIGNvbnRhaW5zIHRoZSBtb2RlbCBmaXRzIGZvciB0aGUgZGVwZW5kZW50IHZhcmlhYmxlIChgdGltZWApIGZvciBldmVyeSBvYnNlcnZhdGlvbiBpbiBvdXIgZGF0YXNldC4gV2UgY2FuIGFkZCB0aGVzZSBmaXRzIGJhY2sgdG8gdGhlIGRhdGFzZXQuIEZvciBleGFtcGxlLCBsZXTigJlzIGdldCB0aGUgbW9kZWwgZml0dGVkIHZhbHVlcyBmcm9tIGJvdGggdGhlIGludGVyYWN0aW9uIG1vZGVsIChgY2xlYW5lci50eXBlLmFvdmApIGFuZCB0aGUgbm9uLWludGVyYWN0aW9uIG1vZGVsIChgY2xlYW5lci50eXBlLmludC5hb3ZgKSBhbmQgYXNzaWduIHRoZW0gdG8gbmV3IGNvbHVtbnMgaW4gb3VyIGRhdGFmcmFtZToNCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KcG9vcGRlY2skaW50LmZpdCA8LSBjbGVhbmVyLnR5cGUuaW50LmFvdiRmaXR0ZWQudmFsdWVzDQpwb29wZGVjayRtZS5maXQgPC0gY2xlYW5lci50eXBlLmFvdiRmaXR0ZWQudmFsdWVzDQpgYGANCg0KTm93LCB3ZSBjYW4gY2FsY3VsYXRlIGhvdyBmYXIgZWFjaCBtb2RlbOKAmXMgZml0cyB3ZXJlIGZyb20gdGhlIHRydWUgZGF0YSBhcyBmb2xsb3dzOg0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQptZWFuKGFicyhwb29wZGVjayRpbnQuZml0IC0gcG9vcGRlY2skdGltZSkpDQptZWFuKGFicyhwb29wZGVjayRtZS5maXQgLSBwb29wZGVjayR0aW1lKSkNCmBgYA0KDQpBcyB5b3UgY2FuIHNlZSwgdGhlICoqaW50ZXJhY3Rpb24gbW9kZWwqKiB3YXMgb2ZmIGZyb20gdGhlIGRhdGEgYnkgYDE1LjM1YCBtaW51dGVzIG9uIGF2ZXJhZ2UsIHdoaWxlIHRoZSAqKm1haW4gZWZmZWN0cyBtb2RlbCoqIHdhcyBvZmYgZnJvbSB0aGUgZGF0YSBieSBgMTYuNTRgIG9uIGF2ZXJhZ2UuIFRoaXMgaXMgbm90IHN1cnByaXNpbmcgYXMgdGhlIGludGVyYWN0aW9uIG1vZGVsIGlzIG1vcmUgY29tcGxleCB0aGFuIHRoZSBtYWluIGVmZmVjdHMgb25seSBtb2RlbC4gSG93ZXZlciwgYmUgY2FyZWZ1bCwganVzdCBiZWNhdXNlIHRoZSBpbnRlcmFjdGlvbiBtb2RlbCBpcyBiZXR0ZXIgYXQgZml0dGluZyB0aGUgZGF0YSBkb2VzbuKAmXQgbmVjZXNzYXJpbHkgbWVhbiB0aGF0IHRoZSBpbnRlcmFjdGlvbiBpcyBlaXRoZXIgbWVhbmluZ2Z1bCBvciByZWxpYWJsZS4NCg0KIyMjIyBNb2RlbCBhc3N1bXB0aW9ucyANCg0KTGluZSBpbiBhIGBsbWAsIHJoZSBgcmVzaWR1YWxzYCBhcmUgYXZhaWxhYmxlIGluIHlvdXIgYW5vdmEgb2JqZWN0LiBXZSBwcmV2aW91c2x5IHNhdyBob3cgdG8gZXhhbWluZSBncmFwaGljYWxseSB0aG9zZSByZXNpZHVhbHMgZm9yICoqbm9ybWFsaXR5KiogYW5kICoqaG9tb3NjZWRhc3RpY2l0eSoqLiBMZXQncyB0ZXN0IHRoZW0gaGVyZSBmcm9tIG91ciBhbm92YSBvYmplY3Q6DQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCnNoYXBpcm8udGVzdChjbGVhbmVyLnR5cGUuaW50LmFvdiRyZXNpZHVhbHMpICMgdGVzdCBvdXIgcmVzaWR1YWxzIHZzIGEgbm9ybWFsIGRpc3RyaWJ1dGlvbg0KYmFydGxldHQudGVzdChjbGVhbmVyLnR5cGUuaW50LmFvdiRyZXNpZHVhbHMgfiBpbnRlcmFjdGlvbihjbGVhbmVyLCB0eXBlKSwgZGF0YSA9IHBvb3BkZWNrKSAjIHRlc3QgdmFyaWFuY2Ugb2Ygb3VyIHJlc2lkdWFscyBpbiB0aGUgZGlmZmVyZW50IGdyb3Vwcy4NCmBgYA0KDQpUaGUgbnVsbCBoeXBvdGhlc2lzIG9mICoqbm9ybWFsIGRpc3RyaWJ1dGlvbioqIGFuZCAqKmhvbW9zY2VkYXN0aWNpdHkqKiBhcmUgYWNjZXB0ZWQ6IHRoZXJlIGlzIG5vIHNpZ25pZmljYW50IGRpZmZlcmVuY2UgKHAgPiAwLjA1KSBmcm9tIGEgbm9ybWFsIGRpc3RyaWJ1dGlvbiBhbmQgbm8gc2lnbmlmaWNhbnQgaGV0ZXJvZ2VuZWl0eQ0KDQojIyMjIFRyYW5zZm9ybWF0aW9ucw0KDQpSZW1lbWJlciwgY2hlY2tpbmcgdGhlIGFzc3VtcHRpb25zIG9mIHJlZ3Jlc3Npb24gbW9kZWxzIGlzIGNyaXRpY2FsIHRvIGxvb2sgYXQgcG9zc2libGUgaXNzdWVzIGluIG91ciBtb2RlbHMuIEhlcmUgYWxzbywgdGhlIHJlc3BvbnNlIHZhcmlhYmxlIGNhbiBiZSB0cmFuc2Zvcm1lZCBpbiBvcmRlciB0bzogDQoNCisgKipzdGFiaWxpemUqKiB0aGUgdmFyaWFuY2UgKGUuZy4gbG9nIHRyYW5zZm9ybWF0aW9uIHN1Y2ggYXMgYGxvZyhQZXRhbC5XaWR0aClgIGluIG91ciBgbG1gKSAtIGRhdGEgbm90IG5vcm1hbGx5IGRpc3RyaWJ1dGVkIGFyb3VuZCB0aGVpciBhdmVyYWdlDQoNCisgKiphY2NvbW9kYXRlKiogc3RyaWN0bHkgcG9zaXRpdmUgdmFyaWFibGUgc3VjaCBhcyBieSB1c2luZyBvdGhlciBCb3gtQ294IHRyYW5zZm9ybWF0aW9ucw0KDQoNCg0KQmVsb3cgaXMgYSBsaW5lYXIgbW9kZWwgZXF1YXRpb24gd2hlcmUgdGhlIG9yaWdpbmFsIGRlcGVuZGVudCB2YXJpYWJsZSAkeSQsIGhhcyBiZWVuIG5hdHVyYWwgbG9nIHRyYW5zZm9ybWVkLiBUaGF0IGlzLCB0aGUgbmF0dXJhbCBsb2cgaGFzIGJlZW4gdGFrZW4gb2YgZWFjaCBpbmRpdmlkdWFsIHZhbHVlIG9mICR5JCBhbmQgdGhhdCBpcyBiZWluZyB1c2VkIGFzIHRoZSBkZXBlbmRlbnQgdmFyaWFibGUuDQoNCiQkbG4oeV9pKSA9IFxiZXRhXzAgKyBcYmV0YV8xeF8xICsgXGJldGFfMXhfMSArIFxiZXRhXzJ4XzIgKyAuLi4gKyBcZXBzaWxvbl9pJCQgDQpUaGUgbGluZWFyIG1vZGVsIHdpdGggdGhlIGxvZyB0cmFuc2Zvcm1hdGlvbiBpcyBwcm92aWRpbmcgYW4gZXF1YXRpb24gZm9yIGFuIGluZGl2aWR1YWwgdmFsdWUgb2YgbG4oeSkuIFdlIGNvdWxkIGFsc28gd3JpdGUgaXQgYXMgZm9sbG93cywgd2hlcmUgd2UgYXJlIG1vZGVsaW5nIHRoZSBtZWFuIG9mICRsbih5KSQgKG5vdGUgdGhlIGVycm9yIHRlcm0gaXMgbm8gbG9uZ2VyIHByZXNlbnQpOg0KDQokJFxtdV97bG4oeSl9ID0gXGJldGFfMCArIFxiZXRhXzF4XzEgKyBcYmV0YV8xeF8xICsgXGJldGFfMnhfMiArIC4uLiAkJA0KVGhpcyBtYWtlcyB0aGUgZGlmZmVyZW5jZSBhIGJpdCBjbGVhcmVyLiBXaGVuIHdlIHRyYW5zZm9ybSB0aGUgZGF0YSBpbiBhIGxpbmVhciBtb2RlbCwgd2UgYXJlIG5vIGxvbmdlciBjbGFpbWluZyB0aGF0ICR5JCBpcyBub3JtYWxseSBkaXN0cmlidXRlZCBhcm91bmQgYSBtZWFuLCBnaXZlbiB0aGUgJHgkIHZhbHVlcyDigJQgd2UgYXJlIGNsYWltaW5nIHRoYXQgb3VyIG5ldyBvdXRjb21lIHZhcmlhYmxlLCAkbG4oeV9pKSQsIGlzIG5vcm1hbGx5IGRpc3RyaWJ1dGVkLg0KDQpUaGlzIHRvcGljIGlzIGV4dGVuc2l2ZWx5IGNvdmVyIGluIG9ubGluZSBkb2N1bWVudGF0aW9uIGluIG9yZGVyIGZvciB5b3VyIG1vZGVsIHRvIG1lZXQgdGhlIGFzc3VtcHRpb25zIG9mIG5vcm1hbGl0eSBhbmQgaG9tb3NjZWRhc3RpY2l0eS4gSW4gYWRkaXRpb24sICBhIHZpb2xhdGlvbiBvZiB0aGVzZSBhc3N1bXB0aW9uIG1heSBvcmlnaW5hdGUgYmVjYXVzZSB5b3VyIGRhdGEgc2ltcGx5IGRvZXMgbm90IGJlbG9uZyB0byBhIEdhdXNzaWFuIGZhbWlseQ0KDQojIERpc3RyaWJ1dGlvbg0KDQpIZXJlIGlzIGEgYnJpZWYgc3VtbWFyeSBvZiB0aGUgZGF0YSBkaXN0cmlidXRpb25zIHlvdSBtaWdodCBlbmNvdW50ZXIgbW9zdCBvZnRlbiAoZXNwZWNpYWxseSBpbiBlY29sb2d5KToNCg0KKyBHYXVzc2lhbiAtICoqQ29udGludW91cyoqIGRhdGEgKCoqbm9ybWFsKiogZGlzdHJpYnV0aW9uIGFuZCAqKmhvbW9zY2VkYXN0aWNpdHkqKiBhc3N1bWVkKQ0KDQorIFBvaXNzb24gLSAqKkNvdW50KiogYWJ1bmRhbmNlIGRhdGEgKGludGVnZXIgdmFsdWVzLCAqKnplcm8taW5mbGF0ZWQqKiBkYXRhLCAqKmxlZnQtc2tld2VkKiogZGF0YSkNCg0KKyBCaW5vbWlhbCAtICoqQmluYXJ5KiogdmFyaWFibGVzIChUUlVFL0ZBTFNFLCAwLzEsIHByZXNlbmNlL2Fic2VuY2UgZGF0YSkNCg0KQ2hvb3NpbmcgdGhlIHJpZ2h0ICoqZmFtaWx5KiogIGZvciB5b3VyIGFuYWx5c2lzIGlzIGltcG9ydGFudCBhbmQgc2hvdWxkIHlvdSBzaG91bGQgdGhpbmsgY2FyZWZ1bGx5IGFib3V0IGl0IGJlZm9yZSBidWlsZGluZyB5b3VyIG1vZGVsLiBJdCBjb3VsZCBiZSBmcnVzdHJhdGluZyB0byBzcGVuZCB0b25zIG9mIHRpbWUgcnVubmluZyBtb2RlbHMsIHBsb3R0aW5nIHRoZWlyIHJlc3VsdHMgYW5kIHdyaXRpbmcgdGhlbSB1cCBvbmx5IHRvIHJlYWxpemUgdGhhdCBhbGwgYWxvbmcgeW91IHNob3VsZCBoYXZlIHVzZWQgKmUuZy4qIGEgUG9pc3NvbiBkaXN0cmlidXRpb24gaW5zdGVhZCBvZiBhIEdhdXNzaWFuIG9uZS4NCg0KIVtdKEZpZ3VyZXMvZGlzdHJpYnV0aW9uLnBuZykNCg0KKipHZW5lcmFsaXplZCBsaW5lYXIgbW9kZWxzIChHTE0pKiogIOKAlCBhbmQgZ2VuZXJhbGl6ZWQgbGluZWFyIG1peGVkIG1vZGVscyDigJRhcmUgY2FsbGVkIGdlbmVyYWxpemVkIGxpbmVhciBiZWNhdXNlIHRoZXkgY29ubmVjdCBhIG1vZGVs4oCZcyBvdXRjb21lIHRvIGl0cyBwcmVkaWN0b3JzIGluIGEgbGluZWFyIHdheS4gVGhlIGZ1bmN0aW9uIHVzZWQgdG8gbWFrZSB0aGlzIGNvbm5lY3Rpb24gaXMgY2FsbGVkIGEgbGluayBmdW5jdGlvbi4gTGluayBmdW5jdGlvbnMgc291bmRzIGxpa2UgYW4gZXhvdGljIHRlcm0sIGJ1dCB0aGV54oCZcmUgYWN0dWFsbHkgbXVjaCBzaW1wbGVyIHRoYW4gdGhleSBzb3VuZC4NCg0KRm9yIGV4YW1wbGUsICoqUG9pc3NvbiByZWdyZXNzaW9uKiogKGNvbW1vbmx5IHVzZWQgZm9yIG91dGNvbWVzIHRoYXQgYXJlIGNvdW50cykgbWFrZXMgdXNlIG9mIGEgbmF0dXJhbCBsb2cgbGluayBmdW5jdGlvbiBhcyBmb2xsb3dzOg0KDQokJGxuKFxtdV95KSA9IFxiZXRhXzAgKyBcYmV0YV8xeF8xICsgXGJldGFfMXhfMSArIFxiZXRhXzJ4XzIgKyAuLi4kJCANCg0KQ2xlYXJseSwgdGhlcmUgaXMgbm90IGEgZGlyZWN0IGxpbmVhciByZWxhdGlvbnNoaXAgb2YgdGhlICR4JCB2YXJpYWJsZXMgdG8gdGhlIGF2ZXJhZ2UgY291bnQsIGJ1dCB0aGVyZSBpcyBhIOKAnHNvcnQgb2YgbGluZWFy4oCdIHJlbGF0aW9uc2hpcCBoYXBwZW5pbmc6IGEgZnVuY3Rpb24gb2YgdGhlIG1lYW4gb2YgJHkkIGlzIHJlbGF0ZWQgdG8gYSBsaW5lYXIgY29tYmluYXRpb24gb2YgJHgkIHZhcmlhYmxlcy4gSW4gb3RoZXIgd29yZHMsIHRoZSBsaW5lYXIgbW9kZWwgaGFzIG5vdyBiZWVuIGdlbmVyYWxpemVkIHRvIGEgYmlnZ2VyIHR5cGUgb2Ygc2l0dWF0aW9uLg0KDQpUaGlzIGNhbiBsZWFkIHRvIGNvbmZ1c2lvbiwgdGhvdWdoLCBiZWNhdXNlIG9uIHRoZSBzdXJmYWNlIGl0IGxvb2tzIHZlcnkgc2ltaWxhciB0byB3aGF0IGhhcHBlbnMgd2hlbiB3ZSB0cmFuc2Zvcm0gdGhlIGRlcGVuZGVudCB2YXJpYWJsZSBpbiBhIGxpbmVhciBtb2RlbCwgbGlrZSBhIGxpbmVhciByZWdyZXNzaW9uIGFzIHByZXZpb3VzbHkgbWVudGlvbmVkDQoNClRoZSBrZXkgdGhpbmcgdG8gdW5kZXJzdGFuZCBpcyB0aGF0IHRoZSAqKm5hdHVyYWwgbG9nIGxpbmsgZnVuY3Rpb24qKiBpcyBhIGZ1bmN0aW9uIG9mIHRoZSAqKm1lYW4gb2YgJHkkKiosIG5vdCB0aGUgKiokeSQgdmFsdWVzKiogdGhlbXNlbHZlcyBhcyBwcmV2aW91c2x5IG1lbnRpb25lZA0KDQoNCioqR2VuZXJhbCBsaW5lYXIgbW9kZWwqKiBtZXQgYWxsIHRoZSBhc3N1bXB0aW9uczogbm9ybWFsIGRpc3RyaWJ1dGlvbiwgaG9tb3NjZWRhc3RpY2l0eSwgZXRjLiBIb3dldmVyLCBxdWl0ZSBvZnRlbiBpbiBlY29sb2d5IGFuZCBlbnZpcm9ubWVudGFsIHNjaWVuY2UgdGhhdCBpcyBub3QgdGhlIGNhc2UgYW5kIHRoZW4gd2UgdXNlIGRpZmZlcmVudCBkYXRhIGRpc3RyaWJ1dGlvbnMuIEhlcmUgd2Ugd2lsbCB0YWxrIGFib3V0ICoqUG9pc3NvbioqIGFuZCAqKmJpbm9taWFsKiogZGlzdHJpYnV0aW9uLiBUbyB1c2UgdGhlbSwgd2UgbmVlZCB0byBydW4gKipnZW5lcmFsaXNlZCBsaW5lYXIgbW9kZWxzKiogdXNpbmcgdGhlIGZ1bmN0aW9uIGBnbG1gLg0KDQojIyBFeGFtcGxlDQoNCkltcG9ydCB0aGUgZGF0YSBzZXQgKipBV0FSRCoqOiAgbnVtYmVyIG9mIGF3YXJkcyBlYXJuZWQgYnkgc3R1ZGVudHMgYXQgb25lIGhpZ2ggc2Nob29sLiBQcmVkaWN0b3JzIG9mIHRoZSBudW1iZXIgb2YgYXdhcmRzIGVhcm5lZCBpbmNsdWRlIHRoZSB0eXBlIG9mIHByb2dyYW0gaW4gd2hpY2ggdGhlIHN0dWRlbnQgd2FzIGVucm9sbGVkIChlLmcuLCB2b2NhdGlvbmFsLCBnZW5lcmFsIG9yIGFjYWRlbWljKSBhbmQgdGhlIHNjb3JlIG9uIHRoZWlyIGZpbmFsIGV4YW0gaW4gbWF0aC4NCg0KSW4gdGhpcyBleGFtcGxlLCBgbnVtX2F3YXJkc2AgaXMgdGhlIG91dGNvbWUgdmFyaWFibGUgYW5kIGluZGljYXRlcyB0aGUgbnVtYmVyIG9mIGF3YXJkcyBlYXJuZWQgYnkgc3R1ZGVudHMgYXQgYSBoaWdoIHNjaG9vbCBpbiBhIHllYXIsIGBtYXRoYCBpcyBhIGNvbnRpbnVvdXMgcHJlZGljdG9yIHZhcmlhYmxlIGFuZCByZXByZXNlbnRzIHN0dWRlbnRz4oCZIHNjb3JlcyBvbiB0aGVpciBtYXRoIGZpbmFsIGV4YW0sIGFuZCBgcHJvZ2AgaXMgYSBjYXRlZ29yaWNhbCBwcmVkaWN0b3IgdmFyaWFibGUgd2l0aCB0aHJlZSBsZXZlbHMgaW5kaWNhdGluZyB0aGUgdHlwZSBvZiBwcm9ncmFtIGluIHdoaWNoIHRoZSBzdHVkZW50cyB3ZXJlIGVucm9sbGVkLiBJdCBpcyBjb2RlZCBhcyAxID0g4oCcR2VuZXJhbOKAnSwgMiA9IOKAnEFjYWRlbWlj4oCdIGFuZCAzID0g4oCcVm9jYXRpb25hbOKAnS4gTGV04oCZcyBzdGFydCB3aXRoIGxvYWRpbmcgdGhlIGRhdGEgYW5kIGxvb2tpbmcgYXQgc29tZSBkZXNjcmlwdGl2ZSBzdGF0aXN0aWNzLg0KDQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCkFXQVJEIDwtIHJlYWQuY3N2KCJodHRwczovL3N0YXRzLmlkcmUudWNsYS5lZHUvc3RhdC9kYXRhL3BvaXNzb25fc2ltLmNzdiIpDQpBV0FSRCA8LSB3aXRoaW4oQVdBUkQsew0KICBwcm9nIDwtIGZhY3Rvcihwcm9nLCBsZXZlbHM9MTozLCBsYWJlbHM9YygiR2VuZXJhbCIsICJBY2FkZW1pYyIsIlZvY2F0aW9uYWwiKSkNCiAgaWQgPC0gZmFjdG9yKGlkKQ0KfSkNCnN1bW1hcnkoQVdBUkQpDQpgYGANCg0KDQpBIGNvbmRpdGlvbmFsIGhpc3RvZ3JhbSBzZXBhcmF0ZWQgb3V0IGJ5IHByb2dyYW0gdHlwZSBpcyBwbG90dGVkIHRvIHNob3cgdGhlIGRpc3RyaWJ1dGlvbi4NCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KQVdBUkQuaGlzdCA8LSBnZ3Bsb3QoQVdBUkQsIGFlcyhudW1fYXdhcmRzLCBmaWxsPXByb2cpKSArDQogIGdlb21faGlzdG9ncmFtKGJpbndpZHRoID0gLjUsICBwb3NpdGlvbj0iZG9kZ2UiKSANCg0KQVdBUkQuaGlzdA0KYGBgDQoNCiMjIyBBbmFseXNpcyBtZXRob2RzIHlvdSBtaWdodCBjb25zaWRlcg0KDQoNCkJlbG93IGlzIGEgbGlzdCBvZiBzb21lIGFuYWx5c2lzIG1ldGhvZHMgeW91IG1heSBoYXZlIGVuY291bnRlcmVkLiBTb21lIG9mIHRoZSBtZXRob2RzIGxpc3RlZCBhcmUgcXVpdGUgcmVhc29uYWJsZSwgd2hpbGUgb3RoZXJzIGhhdmUgZWl0aGVyIGZhbGxlbiBvdXQgb2YgZmF2b3Igb3IgaGF2ZSBsaW1pdGF0aW9ucy4NCg0KKyAqKlBvaXNzb24gcmVncmVzc2lvbioqIOKAkyBQb2lzc29uIHJlZ3Jlc3Npb24gaXMgb2Z0ZW4gdXNlZCBmb3IgbW9kZWxpbmcgY291bnQgZGF0YS4gUG9pc3NvbiByZWdyZXNzaW9uIGhhcyBhIG51bWJlciBvZiBleHRlbnNpb25zIHVzZWZ1bCBmb3IgY291bnQgbW9kZWxzLg0KDQorICoqTmVnYXRpdmUgYmlub21pYWwgcmVncmVzc2lvbioqIOKAkyBOZWdhdGl2ZSBiaW5vbWlhbCByZWdyZXNzaW9uIGNhbiBiZSB1c2VkIGZvciBvdmVyLWRpc3BlcnNlZCBjb3VudCBkYXRhLCB0aGF0IGlzIHdoZW4gdGhlIGNvbmRpdGlvbmFsIHZhcmlhbmNlIGV4Y2VlZHMgdGhlIGNvbmRpdGlvbmFsIG1lYW4uIEl0IGNhbiBiZSBjb25zaWRlcmVkIGFzIGEgZ2VuZXJhbGl6YXRpb24gb2YgUG9pc3NvbiByZWdyZXNzaW9uIHNpbmNlIGl0IGhhcyB0aGUgc2FtZSBtZWFuIHN0cnVjdHVyZSBhcyBQb2lzc29uIHJlZ3Jlc3Npb24gYW5kIGl0IGhhcyBhbiBleHRyYSBwYXJhbWV0ZXIgdG8gbW9kZWwgdGhlIG92ZXItZGlzcGVyc2lvbi4gSWYgdGhlIGNvbmRpdGlvbmFsIGRpc3RyaWJ1dGlvbiBvZiB0aGUgb3V0Y29tZSB2YXJpYWJsZSBpcyBvdmVyLWRpc3BlcnNlZCwgdGhlIGNvbmZpZGVuY2UgaW50ZXJ2YWxzIGZvciBjb2VmZmljaWVudHMgaW4gTmVnYXRpdmUgYmlub21pYWwgcmVncmVzc2lvbiBhcmUgbGlrZWx5IHRvIGJlIHdpZGVyIGFzIGNvbXBhcmVkIHRvIHRob3NlIGZyb20gYSBQb2lzc29uIHJlZ3Jlc3Npb24uDQoNCisgKipaZXJvLWluZmxhdGVkIHJlZ3Jlc3Npb24gbW9kZWwqKiDigJMgWmVyby1pbmZsYXRlZCBtb2RlbHMgYXR0ZW1wdCB0byBhY2NvdW50IGZvciBleGNlc3MgemVyb3MuIEluIG90aGVyIHdvcmRzLCB0d28ga2luZHMgb2YgemVyb3MgYXJlIHRob3VnaHQgdG8gZXhpc3QgaW4gdGhlIGRhdGEsIOKAnHRydWUgemVyb3PigJ0gYW5kIOKAnGV4Y2VzcyB6ZXJvc+KAnS4gWmVyby1pbmZsYXRlZCBtb2RlbHMgZXN0aW1hdGUgdHdvIGVxdWF0aW9ucyBzaW11bHRhbmVvdXNseSwgb25lIGZvciB0aGUgY291bnQgbW9kZWwgYW5kIG9uZSBmb3IgdGhlIGV4Y2VzcyB6ZXJvcy4NCg0KKyAqKk9MUyByZWdyZXNzaW9uKiog4oCTIENvdW50IG91dGNvbWUgdmFyaWFibGVzIGFyZSBzb21ldGltZXMgbG9nLXRyYW5zZm9ybWVkIGFuZCBhbmFseXplZCB1c2luZyBPTFMgcmVncmVzc2lvbi4gTWFueSBpc3N1ZXMgYXJpc2Ugd2l0aCB0aGlzIGFwcHJvYWNoLCBpbmNsdWRpbmcgbG9zcyBvZiBkYXRhIGR1ZSB0byB1bmRlZmluZWQgdmFsdWVzIGdlbmVyYXRlZCBieSB0YWtpbmcgdGhlIGxvZyBvZiB6ZXJvICh3aGljaCBpcyB1bmRlZmluZWQpIGFuZCBiaWFzZWQgZXN0aW1hdGVzLg0KDQojIyMgUG9pc3NvbiByZWdyZXNzaW9uDQoNCkF0IHRoaXMgcG9pbnQsIHdlIGFyZSByZWFkeSB0byBwZXJmb3JtIG91ciBQb2lzc29uIG1vZGVsIGFuYWx5c2lzIHVzaW5nIHRoZSBnbG0gZnVuY3Rpb24uIFdlIGZpdCB0aGUgbW9kZWwgYW5kIHN0b3JlIGl0IGluIHRoZSBvYmplY3QgbTEgYW5kIGdldCBhIHN1bW1hcnkgb2YgdGhlIG1vZGVsIGF0IHRoZSBzYW1lIHRpbWUuDQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCnN1bW1hcnkobTEgPC0gZ2xtKG51bV9hd2FyZHMgfiBwcm9nICsgbWF0aCwgZmFtaWx5PSJwb2lzc29uIiwgZGF0YT1BV0FSRCkpDQpgYGANCg0KPiBDYW1lcm9uIGFuZCBUcml2ZWRpICgyMDA5KSByZWNvbW1lbmRlZCB1c2luZyByb2J1c3Qgc3RhbmRhcmQgZXJyb3JzIGZvciB0aGUgcGFyYW1ldGVyIGVzdGltYXRlcyB0byBjb250cm9sIGZvciBtaWxkIHZpb2xhdGlvbiBvZiB0aGUgZGlzdHJpYnV0aW9uIGFzc3VtcHRpb24gdGhhdCB0aGUgdmFyaWFuY2UgZXF1YWxzIHRoZSBtZWFuLiBXZSB1c2UgUiBwYWNrYWdlIHNhbmR3aWNoIGJlbG93IHRvIG9idGFpbiB0aGUgcm9idXN0IHN0YW5kYXJkIGVycm9ycyBhbmQgY2FsY3VsYXRlZCB0aGUgcC12YWx1ZXMgYWNjb3JkaW5nbHkuIFRvZ2V0aGVyIHdpdGggdGhlIHAtdmFsdWVzLCB3ZSBoYXZlIGFsc28gY2FsY3VsYXRlZCB0aGUgOTUlIGNvbmZpZGVuY2UgaW50ZXJ2YWwgdXNpbmcgdGhlIHBhcmFtZXRlciBlc3RpbWF0ZXMgYW5kIHRoZWlyIHJvYnVzdCBzdGFuZGFyZCBlcnJvcnMuDQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCmNvdi5tMSA8LSB2Y292SEMobTEsIHR5cGU9IkhDMCIpDQpzdGQuZXJyIDwtIHNxcnQoZGlhZyhjb3YubTEpKQ0Kci5lc3QgPC0gY2JpbmQoRXN0aW1hdGU9IGNvZWYobTEpLCAiUm9idXN0IFNFIiA9IHN0ZC5lcnIsDQoiUHIoPnx6fCkiID0gMiAqIHBub3JtKGFicyhjb2VmKG0xKS9zdGQuZXJyKSwgbG93ZXIudGFpbD1GQUxTRSksDQpMTCA9IGNvZWYobTEpIC0gMS45NiAqIHN0ZC5lcnIsDQpVTCA9IGNvZWYobTEpICsgMS45NiAqIHN0ZC5lcnIpDQpyLmVzdA0KYGBgDQoNCk5vdyBsZXTigJlzIGxvb2sgYXQgdGhlIG91dHB1dCBvZiBmdW5jdGlvbiBgZ2xtYCBtb3JlIGNsb3NlbHkuDQoNCisgVGhlIG91dHB1dCBiZWdpbnMgd2l0aCBlY2hvaW5nIHRoZSBmdW5jdGlvbiBjYWxsLiBUaGUgaW5mb3JtYXRpb24gb24gZGV2aWFuY2UgcmVzaWR1YWxzIGlzIGRpc3BsYXllZCBuZXh0LiBEZXZpYW5jZSByZXNpZHVhbHMgYXJlIGFwcHJveGltYXRlbHkgbm9ybWFsbHkgZGlzdHJpYnV0ZWQgaWYgdGhlIG1vZGVsIGlzIHNwZWNpZmllZCBjb3JyZWN0bHkuSW4gb3VyIGV4YW1wbGUsIGl0IHNob3dzIGEgbGl0dGxlIGJpdCBvZiBza2V3ZW5lc3Mgc2luY2UgbWVkaWFuIGlzIG5vdCBxdWl0ZSB6ZXJvLg0KDQorIE5leHQgY29tZSB0aGUgUG9pc3NvbiByZWdyZXNzaW9uIGNvZWZmaWNpZW50cyBmb3IgZWFjaCBvZiB0aGUgdmFyaWFibGVzIGFsb25nIHdpdGggdGhlIHN0YW5kYXJkIGVycm9ycywgei1zY29yZXMsIHAtdmFsdWVzIGFuZCA5NSUgY29uZmlkZW5jZSBpbnRlcnZhbHMgZm9yIHRoZSBjb2VmZmljaWVudHMuIFRoZSBjb2VmZmljaWVudCBmb3IgYG1hdGhgIGlzIC4wNy4gVGhpcyBtZWFucyB0aGF0IHRoZSBleHBlY3RlZCBsb2cgY291bnQgZm9yIGEgb25lLXVuaXQgaW5jcmVhc2UgaW4gYG1hdGhgIGlzIC4wNy4gVGhlIGluZGljYXRvciB2YXJpYWJsZSBgcHJvZ0FjYWRlbWljYCBjb21wYXJlcyBiZXR3ZWVuIGBwcm9nID0g4oCcQWNhZGVtaWPigJ1gIGFuZCBgcHJvZyA9IOKAnEdlbmVyYWzigJ1gLCB0aGUgZXhwZWN0ZWQgbG9nIGNvdW50IGZvciBwcm9nID0g4oCcQWNhZGVtaWPigJ0gaW5jcmVhc2VzIGJ5IGFib3V0IDEuMS4gVGhlIGluZGljYXRvciB2YXJpYWJsZSBwcm9nLlZvY2F0aW9uYWwgaXMgdGhlIGV4cGVjdGVkIGRpZmZlcmVuY2UgaW4gbG9nIGNvdW50ICgoYXBwcm94IC4zNykpIGJldHdlZW4gYHByb2cgPSDigJxWb2NhdGlvbmFs4oCdYCBhbmQgdGhlIHJlZmVyZW5jZSBncm91cCAoYHByb2cgPSDigJxHZW5lcmFs4oCdYCkuDQoNCisgVGhlIGluZm9ybWF0aW9uIG9uIGRldmlhbmNlIGlzIGFsc28gcHJvdmlkZWQuIFdlIGNhbiB1c2UgdGhlIHJlc2lkdWFsIGRldmlhbmNlIHRvIHBlcmZvcm0gYSBnb29kbmVzcyBvZiBmaXQgdGVzdCBmb3IgdGhlIG92ZXJhbGwgbW9kZWwuIFRoZSByZXNpZHVhbCBkZXZpYW5jZSBpcyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBkZXZpYW5jZSBvZiB0aGUgY3VycmVudCBtb2RlbCBhbmQgdGhlIG1heGltdW0gZGV2aWFuY2Ugb2YgdGhlIGlkZWFsIG1vZGVsIHdoZXJlIHRoZSBwcmVkaWN0ZWQgdmFsdWVzIGFyZSBpZGVudGljYWwgdG8gdGhlIG9ic2VydmVkLiBUaGVyZWZvcmUsIGlmIHRoZSByZXNpZHVhbCBkaWZmZXJlbmNlIGlzIHNtYWxsIGVub3VnaCwgdGhlIGdvb2RuZXNzIG9mIGZpdCB0ZXN0IHdpbGwgbm90IGJlIHNpZ25pZmljYW50LCBpbmRpY2F0aW5nIHRoYXQgdGhlIG1vZGVsIGZpdHMgdGhlIGRhdGEuIFdlIGNvbmNsdWRlIHRoYXQgdGhlIG1vZGVsIGZpdHMgcmVhc29uYWJseSB3ZWxsIGJlY2F1c2UgdGhlIGdvb2RuZXNzLW9mLWZpdCBjaGktc3F1YXJlZCB0ZXN0IGlzIG5vdCBzdGF0aXN0aWNhbGx5IHNpZ25pZmljYW50LiBJZiB0aGUgdGVzdCBoYWQgYmVlbiBzdGF0aXN0aWNhbGx5IHNpZ25pZmljYW50LCBpdCB3b3VsZCBpbmRpY2F0ZSB0aGF0IHRoZSBkYXRhIGRvIG5vdCBmaXQgdGhlIG1vZGVsIHdlbGwuIEluIHRoYXQgc2l0dWF0aW9uLCB3ZSBtYXkgdHJ5IHRvIGRldGVybWluZSBpZiB0aGVyZSBhcmUgb21pdHRlZCBwcmVkaWN0b3IgdmFyaWFibGVzLCBpZiBvdXIgbGluZWFyaXR5IGFzc3VtcHRpb24gaG9sZHMgYW5kL29yIGlmIHRoZXJlIGlzIGFuIGlzc3VlIG9mIG92ZXItZGlzcGVyc2lvbi4NCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0Kd2l0aChtMSwgY2JpbmQocmVzLmRldmlhbmNlID0gZGV2aWFuY2UsIGRmID0gZGYucmVzaWR1YWwsDQogIEFXQVJEID0gcGNoaXNxKGRldmlhbmNlLCBkZi5yZXNpZHVhbCwgbG93ZXIudGFpbD1GQUxTRSkpKQ0KYGBgDQoNCkV2ZW50dWFsbHksIFdlIGNhbiBhbHNvIGdyYXBoIHRoZSBwcmVkaWN0ZWQgbnVtYmVyIG9mIGV2ZW50cy4gVGhlIGdyYXBoIGluZGljYXRlcyB0aGF0IHRoZSBtb3N0IGF3YXJkcyBhcmUgcHJlZGljdGVkIGZvciB0aG9zZSBpbiB0aGUgYWNhZGVtaWMgcHJvZ3JhbSAocHJvZyA9IDIpLCBlc3BlY2lhbGx5IGlmIHRoZSBzdHVkZW50IGhhcyBhIGhpZ2ggbWF0aCBzY29yZS4gVGhlIGxvd2VzdCBudW1iZXIgb2YgcHJlZGljdGVkIGF3YXJkcyBpcyBmb3IgdGhvc2Ugc3R1ZGVudHMgaW4gdGhlIGdlbmVyYWwgcHJvZ3JhbSAocHJvZyA9IDEpLiBUaGUgZ3JhcGggb3ZlcmxheXMgdGhlIGxpbmVzIG9mIGV4cGVjdGVkIHZhbHVlcyBvbnRvIHRoZSBhY3R1YWwgcG9pbnRzLCBhbHRob3VnaCBhIHNtYWxsIGFtb3VudCBvZiByYW5kb20gbm9pc2Ugd2FzIGFkZGVkIHZlcnRpY2FsbHkgdG8gbGVzc2VuIG92ZXJwbG90dGluZy4NCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KIyMgY2FsY3VsYXRlIGFuZCBzdG9yZSBwcmVkaWN0ZWQgdmFsdWVzDQpBV0FSRCRwaGF0IDwtIHByZWRpY3QobTEsIHR5cGU9InJlc3BvbnNlIikNCg0KIyMgb3JkZXIgYnkgcHJvZ3JhbSBhbmQgdGhlbiBieSBtYXRoDQpBV0FSRCA8LSBBV0FSRFt3aXRoKEFXQVJELCBvcmRlcihwcm9nLCBtYXRoKSksIF0NCg0KIyMgY3JlYXRlIHRoZSBwbG90DQpnZ3Bsb3QoQVdBUkQsIGFlcyh4ID0gbWF0aCwgeSA9IHBoYXQsIGNvbG91ciA9IHByb2cpKSArDQogIGdlb21fcG9pbnQoYWVzKHkgPSBudW1fYXdhcmRzKSwgYWxwaGE9LjUsIHBvc2l0aW9uPXBvc2l0aW9uX2ppdHRlcihoPS4yKSkgKw0KICBnZW9tX2xpbmUoc2l6ZSA9IDEpICsNCiAgbGFicyh4ID0gIk1hdGggU2NvcmUiLCB5ID0gIkV4cGVjdGVkIG51bWJlciBvZiBhd2FyZHMiKQ0KYGBgDQoNCiMjIEJpbm9taWFsIGRpc3RyaWJ1dGlvbg0KDQpXZSB3aWxsIG5vdyB3b3JrIHRoaXMgdGhlIGBXZWV2aWxfZGFtYWdlYC4gV2UgY2FuIGV4YW1pbmUgaWYgZGFtYWdlIHRvIFNjb3TigJlzIHBpbmUgYnkgd2VldmlscyAoYSBiaW5hcnksIGBUUlVFYC9gRkFMU0VgIHZhcmlhYmxlKSB2YXJpZXMgYmFzZWQgb24gdGhlIGJsb2NrIGluIHdoaWNoIHRoZSB0cmVlcyBhcmUgbG9jYXRlZC4gWW91IGNhbiBpbWFnaW5lIHRoYXQgZGlmZmVyZW50IGJsb2NrcyByZXByZXNlbnQgZGlmZmVyZW50IFNjb3TigJlzIHBpbmUgcG9wdWxhdGlvbnMsIGFuZCBwZXJoYXBzIHNvbWUgb2YgdGhlbSB3aWxsIGJlIHBhcnRpY3VsYXJseSB2dWxuZXJhYmxlIHRvIHdlZXZpbHM/IEJlY2F1c2Ugb2YgdGhlIGJpbmFyeSBuYXR1cmUgb2YgdGhlIHJlc3BvbnNlIHZhcmlhYmxlICh0cnVlIG9yIGZhbHNlKSwgYSBiaW5vbWlhbCBtb2RlbCBpcyBhcHByb3ByaWF0ZSBoZXJlLg0KDQohW10oRmlndXJlcy93ZWV2aWxzLmpwZykNCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KV2VldmlsX2RhbWFnZSA8LSByZWFkLmNzdigiRGF0YS9XZWV2aWxfZGFtYWdlLmNzdiIpDQpXZWV2aWxfZGFtYWdlJGJsb2NrIDwtIGFzLmZhY3RvcihXZWV2aWxfZGFtYWdlJGJsb2NrKSAjIE1ha2luZyBibG9jayBhIGZhY3Rvcg0Kd2VldmlsLm0gPC0gZ2xtKGRhbWFnZV9UX0YgfiBibG9jaywgZmFtaWx5ID0gYmlub21pYWwsIGRhdGEgPSBXZWV2aWxfZGFtYWdlKQ0Kc3VtbWFyeSh3ZWV2aWwubSkNCmBgYA0KDQpUaGUgcHJvYmFiaWxpdHkgb2YgYSBwaW5lIHRyZWUgZW5kdXJpbmcgZGFtYWdlIGZyb20gd2VldmlscyBkb2VzIHZhcnkgc2lnbmlmaWNhbnRseSBiYXNlZCBvbiB0aGUgYmxvY2sgaW4gd2hpY2ggdGhlIHRyZWUgd2FzIGxvY2F0ZWQuIA0KDQpZb3Ugd29u4oCZdCBnZXQgYSBSIHNxdWFyZWQgdmFsdWUgdG8gYXNzZXNzIHRoZSBnb29kbmVzcyBvZiBmaXQgb2YgeW91ciBtb2RlbCwgYnV0IHlvdSBjYW4gZ2V0IGF0IHRoYXQgYnkgbG9va2luZyBhdCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBOdWxsIGRldmlhbmNlICh2YXJpYWJpbGl0eSBleHBsYWluZWQgYnkgYSBudWxsIG1vZGVsLCAqZS5nLiogYGdsbShkYW1hZ2VfVF9GIH4gMSwgZmFtaWx5ID0gYmlub21pYWwsIGRhdGEgPSBXZWV2aWxfZGFtYWdlKWAgYW5kIHRoZSBSZXNpZHVhbCBkZXZpYW5jZSBhcyBleHBsYWluZWQgYWJvdmUsICplLmcuKiB0aGUgYW1vdW50IG9mIHZhcmlhYmlsaXR5IHRoYXQgcmVtYWlucyBhZnRlciB5b3XigJl2ZSBleHBsYWluZWQgc29tZSBhd2F5IGJ5IHlvdXIgZXhwbGFuYXRvcnkgdmFyaWFibGUuIEluIHNob3J0LCB0aGUgYmlnZ2VyIHRoZSByZWR1Y3Rpb24gaW4gZGV2aWFuY2UsIHRoZSBiZXR0ZXIgYSBqb2IgeW91ciBtb2RlbCBpcyBkb2luZyBhdCBleHBsYWluaW5nIGEgcmVsYXRpb25zaGlwLg0KDQojIFJhbmRvbSBFZmZlY3RzDQoNCkEgKipyYW5kb20gZWZmZWN0KiogY2FuIGJlIHVzZWQgaW4gdGhlIGNhc2Ugb2YgKipwYWlyZWQgZGF0YSoqIG9yICoqcmVwZWF0ZWQgbWVhc3VyZXMqKi4gQXMgYW4gZXhhbXBsZSwgaWYgd2UgYXJlIG1lYXN1cmluZyB0aGUgKipsZW5ndGgqKiBvZiBzZXZlcmFsICoqaW5kaXZpZHVhbCoqIHBsYW50cywgdGhlIG1lYXN1cmVtZW50cyBhcmUgcGFpcmVkIHdpdGhpbiBlYWNoIGluZGl2aWR1YWwuICBUaGF0IGlzLCB3ZSB3YW50IHRvIHN0YXRpc3RpY2FsbHkgbWF0Y2ggdGhlIGxlbmd0aCBhdCBkaWZmZXJlbnQgZGF5cyBvZiBvbmUgaW5kaXZpZHVhbCwgc2luY2Ugd2Ugc3VwcG9zZWQgd2UgbWF5IGhhdmUgZGlmZmVyZW5jZSBpbiB0aGUgaW5pdGlhbCBsZW5ndGggYW5kIHRoZXJlZm9yZSBkaWZmZXJlbnQgZ3Jvd3RoLiBUaGVyZWZvcmUsIGluIHRoaXMgY2FzZSwgdGhlIHZhcmlhYmxlICdpbmRpdmlkdWFsJyBtdXN0IGJlIGluY2x1ZGUgaW4gdGhlIG1vZGVsIGFzIGEgcmFuZG9tIHZhcmlhYmxlLiBPZnRlbiwgd2Ugd2FudCB0byBkaXNyZWdhcmQgdGhlIGVmZmVjdCBvZiB0aGlzIHJhbmRvbSBmYWN0b3IgKGUuZy4gaW5kaXZpZHVhbCBkaWZmZXJlbmNlKSB0byBmb2N1cyBvbiBhbm90aGVyIG9uZSAoZS5nLiBncm93dGggaXRzZWxmKS4gRWFjaCBJbmRpdmlkdWFsIGNvdWxkIGJlIHRob3VnaHQgb2YgaGFzIGEgYmxvY2sgaW5jbHVkaW5nIGEgbWVhc3VyZW1lbnQgZm9yIHRoZSBsZW5ndGguDQoNClRoZSBjb25jZXB0IG9mIHJhbmRvbSB2YXJpYWJsZXMgaXMgbm90IGFsd2F5cyBlYXN5IHRvIGdldCwgc28gaXQgaXMgb2theSB0byBub3QgY29tcGxldGVseSB1bmRlcnN0YW5kIHRoZSBmdWxsIGNvbmNlcHQgYXQgdGhpcyBwb2ludCAoanVzdCB0aGluayBhdCBzb21ldGhpbmcgdGhhdCBjYW4gYmUgaW5mbHVlbnRpYWwgYnV0IHlvdSB3YW50IHRvIGlnbm9yZSkuICBXaGV0aGVyIGEgdmFyaWFibGUgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYSAqKmZpeGVkKiogb3IgKipyYW5kb20qKiB2YXJpYWJsZSB3aWxsIGFsc28gZGVwZW5kIG9uIHRoZSBpbnRlcnByZXRhdGlvbiBvZiB0aGUgcGVyc29uIGRvaW5nIHRoZSBhbmFseXNpcywgYWRkaW5nIHNvbWV0aW1lIG9uZSBsYXllciBvZiBzdWJqZWN0aXZpdHkuDQoNCioqTWl4ZWQgZWZmZWN0cyBtb2RlbHMqKg0KDQpXaGVuIGEgbW9kZWwgaW5jbHVkZXMgYm90aCBmaXhlZCBlZmZlY3RzIGFuZCByYW5kb20gZWZmZWN0cywgaXQgaXMgY2FsbGVkIGEgKm1peGVkIGVmZmVjdHMgbW9kZWwqLg0KDQpGb3IgbW9yZSBjb21wbGV4IG1vZGVscywgc3BlY2lmeWluZyByYW5kb20gZWZmZWN0cyBjYW4gYmVjb21lIGRpZmZpY3VsdC4gIFJhbmRvbSBlZmZlY3RzIGNhbiBiZSAqKmNyb3NzZWQqKiB3aXRoIG9uZSBhbm90aGVyIG9yIGNhbiBiZSAqKm5lc3RlZCoqIHdpdGhpbiBvbmUgYW5vdGhlci4gIEFsc28sICoqY29ycmVsYXRpb24gc3RydWN0dXJlcyoqIGZvciB0aGUgcmFuZG9tIGVmZmVjdHMgY2FuIGJlIHNwZWNpZmllZC4gIEhvd2V2ZXIsIGhlcmUsIHdlIHdpbGwganVzdCBrZWVwIGl0IHNpbXBsZSB1c2luZyBhbiBleGFtcGxlIHdpdGggb3VyIGByYWlydW9ob2AgZGF0YSBzZXQuDQoNCmBgYHtyLCAgZXZhbD1ULCB3YXJuaW5nPUYsIG1lc3NhZ2U9Rn0NCnJhaXJ1b2hvJElEPC1yb3duYW1lcyhyYWlydW9obykNCnJhaTwtcmFpcnVvaG8gJT4lIHBpdm90X2xvbmdlcihkYXkzOmRheTgsIG5hbWVzX3RvID0gImRheSIsIHZhbHVlc190byA9ICJsZW5ndGgiKQ0KcmFpJGRheTwtcGFyc2VfbnVtYmVyKHJhaSRkYXkpDQpyYWkNCg0KDQpnZ3Bsb3QocmFpLCBhZXMoeCA9IGRheSwgeSA9IGxlbmd0aCkpICsNCiAgZ2VvbV9wb2ludCgpICsNCiAgc2NhbGVfeF9jb250aW51b3VzKGJyZWFrcyA9IDA6OSkrDQogIGZhY2V0X3dyYXAofklEKQ0KYGBgDQoNCldlIHdhbnQgdG8gZXhhbWluZSB0aGUgbGVuZ3RoIG9mIHRoZSBwbGFudCAoJHkkKSBhcyBhIGZ1bmN0aW9uIG9mIHRoZSBkYXkgKCR4JCkuIEluIHRoaXMgY2FzZSwgdGhlIGluaXRpYWwgc2l6ZSBvZiB0aGUgcGxhbnQgdmFyaWVzLiBJdCBiZWNvbWUgb2J2aW91cyB0aGF0IHRoZSBncm93dGggb2YgZWFjaCBwYW50IHNob3VsZCBiZSBleGFtaW5lZCBpbmRpdmlkdWFsbHkuDQoNCg0KT25lIHdheSB0byBjb25zdHJ1Y3QgYSBtaXhlZCBlZmZlY3RzIG1vZGVsIGZvciBpbnRlcnZhbC9yYXRpbyBkYXRhIGlzIHdpdGggdGhlIGZ1bmN0aW9uIGBsbWVyYCBmcm9tIHRoZSBwYWNrYWdlIGBsbWU0YCBwYWNrYWdlLiBIb3dldmVyIHlvdSB3aWxsIG5vdCBnZXQgdGhlICoqcC12YWx1ZSoqIG9mIHRoZSBvdmVyYWxsIG1vZGVsLCBiZWNhdXNlIHlvdSBuZWVkIHRvIGNhcmVmdWxseSB0aGluayBvbiBob3cgdG8gZXh0cmFjdCB0aGlzIGluZm9ybWF0aW9uIGJlY2F1c2Ugb2YgdGhlIGNvbXBsZXhpdHkgb2YgdGhlIGlucHV0IHlvdSBjYW4gaGF2ZS4NCg0KTm90aWNlIHRoZSBncmFtbWFyIGluIHRoZSBbYGxtZXJgXShodHRwczovL3BzeXRlYWNoci5naXRodWIuaW8vc3RhdC1tb2RlbHMtdjEvaW50cm9kdWNpbmctbGluZWFyLW1peGVkLWVmZmVjdHMtbW9kZWxzLmh0bWwpIGZ1bmN0aW9uIHRoYXQgZGVmaW5lcyB0aGUgbW9kZWw6ICB0aGUgdGVybSBgKDF8SW5kaXZpZHVhbClgIGlzIGFkZGVkIHRvIHRoZSBtb2RlbCB0byBpbmRpY2F0ZSB0aGF0IGBJbmRpdmlkdWFsYCBpcyB0aGUgcmFuZG9tIHRlcm0uDQoNCkFzIGEgdGVjaG5pY2FsIG5vdGUsIHRoZSAxIGluZGljYXRlcyB0aGF0IGFuIGludGVyY2VwdCBpcyB0byBiZSBmaXR0ZWQgZm9yIGVhY2ggbGV2ZWwgb2YgdGhlIHJhbmRvbSB2YXJpYWJsZS4gQXMgYW5vdGhlciB0ZWNobmljYWwgbm90ZSwgYFJFTUxgIHN0YW5kcyBmb3IgcmVzdHJpY3RlZCBtYXhpbXVtIGxpa2VsaWhvb2QuICBJdCBpcyBhIG1ldGhvZCBvZiBmaXR0aW5nIHRoZSBtb2RlbCwgYW5kIGlzIG9mdGVuIGNvbnNpZGVyZWQgYmV0dGVyIHRoYW4gZml0dGluZyB3aXRoIGEgY29udmVudGlvbmFsIE1MIChtYXhpbXVtIGxpa2VsaWhvb2QpIG1ldGhvZC4NCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KbG1lci5yYWk8LWxtZXIobGVuZ3RoIH4gZGF5ICsgKDF8SUQpLCBkYXRhPXJhaSwgUkVNTD1UUlVFKSAjIFJFTUwgZGVmYXVsdA0Kc3VtbWFyeShsbWVyLnJhaSkNCg0KDQpuZXdkYXRhIDwtIGNyb3NzaW5nKElEID0gcmFpICU+JSBwdWxsKElEKSwNCiAgZGF5ID0gMzo4KQ0KDQpoZWFkKG5ld2RhdGEpDQoNCm5ld2RhdGEyIDwtIG5ld2RhdGEgJT4lDQogIG11dGF0ZShsZW5ndGggPSBwcmVkaWN0KGxtZXIucmFpLCBuZXdkYXRhKSkNCg0KIyBwbG90DQpnZ3Bsb3QocmFpLCBhZXMoeCA9IGRheSwgeSA9IGxlbmd0aCkpICsNCiAgZ2VvbV9saW5lKGRhdGEgPSBuZXdkYXRhMiwNCiAgICAgICAgICAgIGNvbG9yID0gJ2JsdWUnKSArDQogIGdlb21fcG9pbnQoKSArDQogIHNjYWxlX3hfY29udGludW91cyhicmVha3MgPSAwOjcpICsNCiAgZmFjZXRfd3JhcCh+SUQpICsNCiAgbGFicyh5ID0gIkxlbmd0aCIsIHggPSAiRGF5cyIpDQpgYGANCg0KT25lIHdheSB0byBleHRyYWN0IHRoZSBwLXZhbHVlIGlzIGJ5IHVzaW5nIHRoZSBgbG1lclRlc3RgIHBhY2thZ2UgdG8gcHJvZHVjZSBhbiBhbmFseXNpcyBvZiB2YXJpYW5jZSB3aXRoICpwKi12YWx1ZXMgZm9yIG1vZGVsIGVmZmVjdHMuDQoNCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KYW5vdmEobG1lci5yYWkpDQpgYGANCg0KVGhlIGByYW5kYCBmdW5jdGlvbiBmcm9tIHRoZSBgbG1lclRlc3RgIHBhY2thZ2Ugd2lsbCB0ZXN0IHRoZSByYW5kb20gZWZmZWN0cyBpbiB0aGUgbW9kZWwNCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KcmFuZChsbWVyLnJhaSkNCmBgYA0KDQpUaGUgYGxtZXJUZXN0YCBwYWNrYWdlIGlzIHVzZWQgdG8gcHJvZHVjZSBhbiBhbmFseXNpcyBvZiB2YXJpYW5jZSB3aXRoIHAtdmFsdWVzIGZvciBtb2RlbCBlZmZlY3RzLiBIb3dldmVyLCBpbiBvdXIgY2FzZSwgYSBzaW1wbGUgbGluZWFyIHJlZ3Jlc3Npb24gd2l0aCBhIHJhbmRvbSBmYWN0b3IsIHdlIGNhbiBhbHNvIHVzZSBhbm90aGVyIGZ1bmN0aW9uIHRvIGV4dHJhY3QgdGhlIHAtdmFsdWUgZnJvbSBvdXIgbW9kZWwgYW5kIGFmdGVyIHVzaW5nIGFub3RoZXIgZnVuY3Rpb24gZm9yIG1peGVkIG1vZGVsOiBgbG1lYCBmb3JtIHRoZSBwYWNrYWdlIGBubG1lYDoNCg0KYGBge3IsICBldmFsPVQsIHdhcm5pbmc9RiwgbWVzc2FnZT1GfQ0KbG1lLnJhaSA9IGxtZShsZW5ndGggfiBkYXksIHJhbmRvbT1+MXxJRCwgZGF0YT1yYWkpDQpzdW1tYXJ5KGxtZS5yYWkpDQpgYGANCg0KTm90aWNlIHRoZSBncmFtbWFyIGluIHRoZSBgbG1lYCBmdW5jdGlvbiB0aGF0IGRlZmluZXMgdGhlIG1vZGVsIGlzIHNsaWdodGx5IGRpZmZlcmVudCBmb3JtIHRoZSBwcmV2aW91cyBleGFtcGxlOiAgdGhlIG9wdGlvbiBgcmFuZG9tID0gfjF8SURgIGlzIGFkZGVkIHRvIHRoZSBtb2RlbCB0byBpbmRpY2F0ZSB0aGF0IGBJRGAgaXMgdGhlIHJhbmRvbSB0ZXJtLg0KDQpIZXJlLCB0aGUgcmFuZG9tIGVmZmVjdHMgaW4gdGhlIG1vZGVsIGNhbiBiZSB0ZXN0ZWQgYnkgY29tcGFyaW5nIHRoZSBtb2RlbCB0byBhIG1vZGVsIGZpdHRlZCB3aXRoIGp1c3QgdGhlIGZpeGVkIGVmZmVjdHMgYW5kIGV4Y2x1ZGluZyB0aGUgcmFuZG9tIGVmZmVjdHMuIA0KDQpgYGB7ciwgIGV2YWw9VCwgd2FybmluZz1GLCBtZXNzYWdlPUZ9DQpsbS5yYWk8LWxtKGxlbmd0aCB+IGRheSwgZGF0YT0gcmFpKQ0KYW5vdmEgKGxtZS5yYWksIGxtLnJhaSkNCmBgYA0KDQpDb21wYXJlIHdpdGggYHJhbmRgIG91dHB1dDogdGhhdCdzIHRoZSBzYW1lDQoNCioqUmFuZG9tIEludGVyY2VwdCBhbmQgc2xvcGUgbW9kZWwqKiANCg0KVGhlICJ+MSIgc3BlY2lmaWVzIHRoZSByYW5kb20gaW50ZXJjZXB0IGFuZCAiRGF5fElEIiB3b3VsZCBhbGxvdyB0aGUgc2xvcGUgdG8gdmFyeSBhbW9uZyAgaW5kaXZpZHVhbHMuIERlc3BpdGUgb3VyIG1vZGVsIHdvdWxkIHByb2JhYmx5IG5lZWQgaXQsIGl0IHN0YXJ0cyB0byBiZSBtdWNoIG1vcmUgYWR2YW5jZWQuIFlvdSBtYXkgZmluZCBlbnRpcmUgYm9vayBvbiBtaXhlZCBlZmZlY3QgbW9kZWwgaW4gUi4gIA0KDQo=" download="linear.Rmd">Download linear.Rmd</a>
</div>
<div class="layout-chunk" data-layout="l-body">
<a href="data:text/plain;base64,eGFyaW5nYW5FeHRyYTo6dXNlX2NsaXBib2FyZCgpDQoNCg0KDQoNCg0KDQoNCg0KDQpsaWJyYXJ5KEhtaXNjKQ0KbGlicmFyeShjb3JycGxvdCkNCmxpYnJhcnkoTUFTUykNCmxpYnJhcnkoY2FyKQ0KbGlicmFyeShpbnRlcmFjdGlvbnMpDQpsaWJyYXJ5KHlhcnJyKQ0KbGlicmFyeSh0aWR5cikNCmxpYnJhcnkocmVhZHIpDQpsaWJyYXJ5KGxtZTQpDQpsaWJyYXJ5IChsbWVyVGVzdCkNCmxpYnJhcnkobmxtZSkNCmxpYnJhcnkoZ2dwbG90MikNCmxpYnJhcnkoZ3ZsbWEpDQpsaWJyYXJ5KHNpbXBsZWJvb3QpDQpsaWJyYXJ5KERBQUcpDQpsaWJyYXJ5KGJvb3RzdHJhcCkNCmxpYnJhcnkoTUJFU1MpDQpsaWJyYXJ5KGxlYXBzKQ0KbGlicmFyeShzYW5kd2ljaCkNCmxpYnJhcnkoZHBseXIpDQoNCiMgY29ycmVsYXRpb24NCnJhaXJ1b2hvPC1yZWFkLnRhYmxlKCdodHRwczovL3d3dy5kaXBpbnRvdGhlcmVlZi5jb20vdXBsb2Fkcy8zLzcvMy81LzM3MzU5MjQ1L3JhaXJ1b2hvLnR4dCcsaGVhZGVyPVQsIHNlcD0iXHQiLCBkZWM9Ii4iKQ0KY29yLnRlc3QocmFpcnVvaG8kZGF5NiwgcmFpcnVvaG8kZGF5NykNCg0KY29ycjwtY29yKHJhaXJ1b2hvWywxOjZdKQ0KY29yciAjIGNvci50ZXN0IGRvZXMgbm90IHdvcmsgb24gTWF0cml4DQoNCnAudmFsPC1yY29ycihhcy5tYXRyaXgocmFpcnVvaG9bLDE6Nl0pKSRQDQpjb3JycGxvdChjb3JyLHR5cGU9J3VwcGVyJyxtZXRob2Q9J2NvbG9yJywgYWRkQ29lZi5jb2wgPSAiYmxhY2siLCBwLm1hdD1hcy5tYXRyaXgocC52YWwpLCBzaWcubGV2ZWwgPSAwLjA1LHRpdGxlID0gIkNvcnJlbGF0aW9uIE1hdHJpeCIsIG1hciA9IGMoMiwwLDIsMCksIGRpYWc9RikNCg0KcGxvdChyYWlydW9obyRkYXk2LCByYWlydW9obyRkYXk3KQ0KYWJsaW5lKGxtKHJhaXJ1b2hvJGRheTd+cmFpcnVvaG8kZGF5NiksIGNvbD0icmVkIiwgbHdkPTIpDQojIHJlbWVtYmVyIGBnZ3Bsb3RgDQojIGdncGxvdChyYWlydW9obywgYWVzKHggPSBkYXk2LCB5ID0gZGF5NykpICsgDQojICBnZW9tX3BvaW50KCkgKw0KIyAgc3RhdF9zbW9vdGgobWV0aG9kID0gImxtIiwgY29sID0gInJlZCIpDQoNCm1vZGVsMSA8LSBsbShQZXRhbC5XaWR0aCB+IFBldGFsLkxlbmd0aCwgZGF0YSA9IGlyaXMpDQptb2RlbDEkY29lZmZpY2llbnRzDQoNCmdncGxvdChpcmlzLCBhZXMoeCA9IFBldGFsLkxlbmd0aCwgeSA9IFBldGFsLldpZHRoKSkgKw0KICBnZW9tX3BvaW50KGFlcyhmaWxsPVNwZWNpZXMpLHNoYXBlID0gMjEsIHNpemU9NSkgKw0KICBzdGF0X3Ntb290aChtZXRob2QgPSAibG0iLCBjb2wgPSAiYmx1ZSIpDQoNCnN1bW1hcnkobW9kZWwxKQ0KDQpjb25maW50KG1vZGVsMSkNCg0Kc2lnbWEobW9kZWwxKSoxMDAvbWVhbihpcmlzJFBldGFsLldpZHRoKQ0KDQpmaXQxIDwtIGxtKFBldGFsLldpZHRoIH4gUGV0YWwuTGVuZ3RoICsgU2VwYWwuV2lkdGggKyBTZXBhbC5MZW5ndGgsIGRhdGEgPSBpcmlzKQ0Kc3VtbWFyeShmaXQxKQ0KDQojIE90aGVyIHVzZWZ1bCBmdW5jdGlvbnMNCmNvZWZmaWNpZW50cyhmaXQxKSAjIG1vZGVsIGNvZWZmaWNpZW50cw0KY29uZmludChmaXQxLCBsZXZlbD0wLjk1KSAjIENJcyBmb3IgbW9kZWwgcGFyYW1ldGVycw0KZml0dGVkKGZpdDEpICMgcHJlZGljdGVkIHZhbHVlcw0KcmVzaWR1YWxzKGZpdDEpICMgcmVzaWR1YWxzDQphbm92YShmaXQxKSAjIGFub3ZhIHRhYmxlDQp2Y292KGZpdDEpICMgY292YXJpYW5jZSBtYXRyaXggZm9yIG1vZGVsIHBhcmFtZXRlcnMNCmluZmx1ZW5jZShmaXQxKSAjIHJlZ3Jlc3Npb24gZGlhZ25vc3RpY3MNCg0KIyBkaWFnbm9zdGljIHBsb3RzDQpsYXlvdXQobWF0cml4KGMoMSwyLDMsNCksMiwyKSkgIyBvcHRpb25hbCA0IGdyYXBocy9wYWdlDQpwbG90KGZpdDEpDQoNCiMgQXNzZXNzaW5nIE91dGxpZXJzDQpvdXRsaWVyVGVzdChmaXQxKSAjIEJvbmZlcm9ubmkgcC12YWx1ZSBmb3IgbW9zdCBleHRyZW1lIG9icw0KcXFQbG90KGZpdDEsIG1haW49IlFRIFBsb3QiKSAjcXEgcGxvdCBmb3Igc3R1ZGVudGl6ZWQgcmVzaWQNCmxldmVyYWdlUGxvdHMoZml0MSkgIyBsZXZlcmFnZSBwbG90cw0KDQojIEluZmx1ZW50aWFsIE9ic2VydmF0aW9ucw0KIyBhZGRlZCB2YXJpYWJsZSBwbG90cw0KYXZQbG90cyhmaXQxKQ0KIyBDb29rJ3MgRCBwbG90DQojIGlkZW50aWZ5IEQgdmFsdWVzID4gNC8obi1rLTEpDQpjdXRvZmYgPC0gNC8oKG5yb3coaXJpcyktbGVuZ3RoKGZpdDEkY29lZmZpY2llbnRzKS0yKSkNCnBsb3QoZml0MSwgd2hpY2g9NCwgY29vay5sZXZlbHM9Y3V0b2ZmKQ0KIyBJbmZsdWVuY2UgUGxvdA0KaW5mbHVlbmNlUGxvdChmaXQxLCBpZC5tZXRob2Q9ImlkZW50aWZ5IiwgbWFpbj0iSW5mbHVlbmNlIFBsb3QiLCBzdWI9IkNpcmNsZSBzaXplIGlzIHByb3BvcnRpYWwgdG8gQ29vaydzIERpc3RhbmNlIiApDQoNCiMgTm9ybWFsaXR5IG9mIFJlc2lkdWFscw0KIyBxcSBwbG90IGZvciBzdHVkZW50aXplZCByZXNpZA0KcXFQbG90KGZpdDEsIG1haW49IlFRIFBsb3QiKQ0KIyBkaXN0cmlidXRpb24gb2Ygc3R1ZGVudGl6ZWQgcmVzaWR1YWxzDQpzcmVzaWQgPC0gc3R1ZHJlcyhmaXQxKQ0KaGlzdChzcmVzaWQsIGZyZXE9RkFMU0UsDQogICBtYWluPSJEaXN0cmlidXRpb24gb2YgU3R1ZGVudGl6ZWQgUmVzaWR1YWxzIikNCnhmaXQ8LXNlcShtaW4oc3Jlc2lkKSxtYXgoc3Jlc2lkKSxsZW5ndGg9NDApDQp5Zml0PC1kbm9ybSh4Zml0KQ0KbGluZXMoeGZpdCwgeWZpdCkNCg0KIyBFdmFsdWF0ZSBob21vc2NlZGFzdGljaXR5DQojIG5vbi1jb25zdGFudCBlcnJvciB2YXJpYW5jZSB0ZXN0DQpuY3ZUZXN0KGZpdDEpDQojIHBsb3Qgc3R1ZGVudGl6ZWQgcmVzaWR1YWxzIHZzLiBmaXR0ZWQgdmFsdWVzDQpzcHJlYWRMZXZlbFBsb3QoZml0MSkNCg0KY29ycjwtY29yKGlyaXNbLDE6M10pDQpwLnZhbDwtcmNvcnIoYXMubWF0cml4KGlyaXNbLDE6M10pKSRQDQpjb3JycGxvdChjb3JyLHR5cGU9J3VwcGVyJyxtZXRob2Q9J2NvbG9yJywgYWRkQ29lZi5jb2wgPSAiYmxhY2siLCAgcC5tYXQ9YXMubWF0cml4KHAudmFsKSwgc2lnLmxldmVsID0gMC4wNSxkaWFnPUYpDQoNCiMgRXZhbHVhdGUgQ29sbGluZWFyaXR5DQpjYXI6OnZpZihmaXQxKSAjIHZhcmlhbmNlIGluZmxhdGlvbiBmYWN0b3JzDQpzcXJ0KGNhcjo6dmlmKGZpdDEpKSA+IDIgIyBwcm9ibGVtPw0KDQojIEV2YWx1YXRlIE5vbmxpbmVhcml0eQ0KIyBjb21wb25lbnQgKyByZXNpZHVhbCBwbG90DQpjclBsb3RzKGZpdDEpDQojIENlcmVzIHBsb3RzDQpjZXJlc1Bsb3RzKGZpdDEpDQoNCiMgVGVzdCBmb3IgQXV0b2NvcnJlbGF0ZWQgRXJyb3JzDQpkdXJiaW5XYXRzb25UZXN0KGZpdDEpDQoNCmd2bW9kZWwgPC0gZ3ZsbWEoZml0MSkNCnN1bW1hcnkoZ3Ztb2RlbCkNCg0KYm94Y294Zml0IDwtIGJveGNveChmaXQxLHBsb3RpdD1UKQ0KIyBhbHNvIHNlZSBgYm94Q294YCBmcm9tICoqY2FyKioNCiMgYWxzbyBzZWUgYEJveENveFRyYW5zYCBmcm9tICoqY2FyZXQqKiBmb3IgaW5kaXZpZHVhbCB2YXJpYWJsZQ0KDQpsYW1iZGEgPC0gYm94Y294Zml0JHhbd2hpY2gubWF4KGJveGNveGZpdCR5KV0NCg0KI2ZpdCBuZXcgbGluZWFyIHJlZ3Jlc3Npb24gbW9kZWwgdXNpbmcgdGhlIEJveC1Db3ggdHJhbnNmb3JtYXRpb24NCm5ld19maXQgPC0gbG0oKChpcmlzJFBldGFsLldpZHRoXmxhbWJkYS0xKS9sYW1iZGEpIH4gUGV0YWwuTGVuZ3RoICsgU2VwYWwuV2lkdGggKyBTZXBhbC5MZW5ndGgsIGRhdGEgPSBpcmlzKQ0KDQpndmxtYShuZXdfZml0KQ0KIyBub3QgYmV0dGVyIGF0IGFsbA0KDQpzZXQuc2VlZCgyMDIxKQ0KbiA8LSAxMDAwDQp4IDwtIHJub3JtKG4pDQp5IDwtIHggKyBybm9ybShuKQ0KcG9wdWxhdGlvbi5kYXRhIDwtIGFzLmRhdGEuZnJhbWUoY2JpbmQoeCwgeSkpDQoNCnNhbXBsZS5kYXRhIDwtIHBvcHVsYXRpb24uZGF0YVtzYW1wbGUobnJvdyhwb3B1bGF0aW9uLmRhdGEpLCAyMCwgcmVwbGFjZSA9IFRSVUUpLF0NCg0KcG9wdWxhdGlvbi5tb2RlbCA8LSBsbSh5fngsIHBvcHVsYXRpb24uZGF0YSkNCnN1bW1hcnkgKHBvcHVsYXRpb24uZGF0YSkNCg0Kc2FtcGxlLm1vZGVsIDwtIGxtKHl+eCwgc2FtcGxlLmRhdGEpDQpzdW1tYXJ5IChzYW1wbGUubW9kZWwpDQoNCiNQbG90dGluZyB0aGUgbW9kZWxzDQpwbG90KHkgfiB4LCBjb2wgPSAiZ3JheSIsIG1haW4gPSAnUG9wdWxhdGlvbiBhbmQgU2FtcGxlIFJlZ3Jlc3Npb25zJykNCmFibGluZShjb2VmKHBvcHVsYXRpb24ubW9kZWwpWzFdLCBjb2VmKHBvcHVsYXRpb24ubW9kZWwpWzJdLCBjb2wgPSAicmVkIikNCmFibGluZShjb2VmKHNhbXBsZS5tb2RlbClbMV0sDQogICAgICAgY29lZihzYW1wbGUubW9kZWwpWzJdLA0KICAgICAgIGNvbCA9ICJibHVlIiwNCiAgICAgICBsdHkgPSAyKQ0KbGVnZW5kKA0KICAidG9wbGVmdCIsDQogIGxlZ2VuZCA9IGMoIlNhbXBsZSIsICJQb3B1bGF0aW9uIiksDQogIGNvbCA9IGMoInJlZCIsICJibHVlIiksDQogIGx0eSA9IDE6MiwNCiAgY2V4ID0gMC44KQ0KDQojIENvbnRhaW5lcnMgZm9yIHRoZSBjb2VmZmljaWVudHMNCnNhbXBsZV9jb2VmX2ludGVyY2VwdCA8LSBOVUxMDQpzYW1wbGVfY29lZl94MSA8LSBOVUxMDQoNCmZvciAoaSBpbiAxOjEwMDApIHsNCiAgI0NyZWF0aW5nIGEgcmVzYW1wbGVkIGRhdGFzZXQgZnJvbSB0aGUgc2FtcGxlIGRhdGENCiAgc2FtcGxlX2QgPSBzYW1wbGUuZGF0YVtzYW1wbGUoMTpucm93KHNhbXBsZS5kYXRhKSwgbnJvdyhzYW1wbGUuZGF0YSksIHJlcGxhY2UgPSBUUlVFKSwgXQ0KICANCiAgI1J1bm5pbmcgdGhlIHJlZ3Jlc3Npb24gb24gdGhlc2UgZGF0YQ0KICBtb2RlbF9ib290c3RyYXAgPC0gbG0oeSB+IHgsIGRhdGEgPSBzYW1wbGVfZCkNCiAgDQogICNTYXZpbmcgdGhlIGNvZWZmaWNpZW50cw0KICBzYW1wbGVfY29lZl9pbnRlcmNlcHQgPC0NCiAgICBjKHNhbXBsZV9jb2VmX2ludGVyY2VwdCwgbW9kZWxfYm9vdHN0cmFwJGNvZWZmaWNpZW50c1sxXSkNCiAgDQogIHNhbXBsZV9jb2VmX3gxIDwtDQogICAgYyhzYW1wbGVfY29lZl94MSwgbW9kZWxfYm9vdHN0cmFwJGNvZWZmaWNpZW50c1syXSkNCn0NCg0KY29lZnMgPC0gcmJpbmQoc2FtcGxlX2NvZWZfaW50ZXJjZXB0LCBzYW1wbGVfY29lZl94MSkNCg0KIyBDb21iaW5pbmcgdGhlIHJlc3VsdHMgaW4gYSB0YWJsZQ0KbWVhbnMuYm9vdCA9IGMobWVhbihzYW1wbGVfY29lZl9pbnRlcmNlcHQpLCBtZWFuKHNhbXBsZV9jb2VmX3gxKSkNCmtuaXRyOjprYWJsZShyb3VuZCgNCiAgY2JpbmQoDQogICAgcG9wdWxhdGlvbiA9IGNvZWYoc3VtbWFyeShwb3B1bGF0aW9uLm1vZGVsKSlbLCAxXSwNCiAgICBzYW1wbGUgPSBjb2VmKHN1bW1hcnkoc2FtcGxlLm1vZGVsKSlbLCAxXSwNCiAgICBib290c3RyYXAgPSBtZWFucy5ib290KSw0KSwgDQogICJzaW1wbGUiLCBjYXB0aW9uID0gIkNvZWZmaWNpZW50cyBpbiBkaWZmZXJlbnQgbW9kZWxzIikNCg0KYSA8LQ0KICBjYmluZCgNCiAgICBxdWFudGlsZShzYW1wbGVfY29lZl9pbnRlcmNlcHQsIHByb2IgPSAwLjAyNSksDQogICAgcXVhbnRpbGUoc2FtcGxlX2NvZWZfaW50ZXJjZXB0LCBwcm9iID0gMC45NzUpKQ0KYiA8LQ0KICBjYmluZChxdWFudGlsZShzYW1wbGVfY29lZl94MSwgcHJvYiA9IDAuMDI1KSwNCiAgICAgICAgcXVhbnRpbGUoc2FtcGxlX2NvZWZfeDEsIHByb2IgPSAwLjk3NSkpDQoNCmMgPC0NCiAgcm91bmQoY2JpbmQoDQogICAgcG9wdWxhdGlvbiA9IGNvbmZpbnQocG9wdWxhdGlvbi5tb2RlbCksDQogICAgc2FtcGxlID0gY29uZmludChzYW1wbGUubW9kZWwpLA0KICAgIGJvb3QgPSByYmluZChhLCBiKSksIDQpDQpjb2xuYW1lcyhjKSA8LSBjKCIyLjUgJSIsICI5Ny41ICUiLA0KICAgICAgICAgICAgICAgICAiMi41ICUiLCAiOTcuNSAlIiwNCiAgICAgICAgICAgICAgICAgIjIuNSAlIiwgIjk3LjUgJSIpDQprbml0cjo6a2FibGUocmJpbmQoDQogIGMoJ3BvcHVsYXRpb24nLA0KICAgICdwb3B1bGF0aW9uJywNCiAgICAnc2FtcGxlJywNCiAgICAnc2FtcGxlJywNCiAgICAnYm9vdHN0cmFwJywNCiAgICAnYm9vdHN0cmFwJyksYyksY2FwdGlvbiA9ICJQcmVjaXNpb24gb2YgdGhlIGNvbmZpZGVuY2UgaW50ZXJ2YWxzIikNCg0KDQojUHJlZGljdGluZyBvbiBuZXcgZGF0YQ0KbmV3LmRhdGEgPSBzZXEobWluKHgpLCBtYXgoeCksIGJ5ID0gMC4wNSkNCmNvbmZfaW50ZXJ2YWwgPC0NCiAgcHJlZGljdCgNCiAgICBzYW1wbGUubW9kZWwsDQogICAgbmV3ZGF0YSA9IGRhdGEuZnJhbWUoeCA9IG5ldy5kYXRhKSwNCiAgICBpbnRlcnZhbCA9ICJjb25maWRlbmNlIiwNCiAgICBsZXZlbCA9IDAuOTUpDQoNCiNQbG90dGluZyB0aGUgcmVzdWx0cyBvbiB0aGUgcHJvamVjdCBzdGVwLWJ5LXNwZXANCnBsb3QoDQogIHkgfiB4LA0KICBjb2wgPSAiZ3JheSIsDQogIHhsYWIgPSAieCIsDQogIHlsYWIgPSAieSIsDQogIG1haW4gPSAiQ29tcGFyZSByZWdyZXNzaW9ucyIpDQphcHBseShjb2VmcywgMiwgYWJsaW5lLCBjb2wgPSByZ2IoMSwgMCwgMCwgMC4wMykpDQoNCnBsb3QoDQogIHkgfiB4LA0KICBjb2wgPSAiZ3JheSIsDQogIHhsYWIgPSAieCIsDQogIHlsYWIgPSAieSIsDQogIG1haW4gPSAiQ29tcGFyZSByZWdyZXNzaW9ucyIpDQphcHBseShjb2VmcywgMiwgYWJsaW5lLCBjb2wgPSByZ2IoMSwgMCwgMCwgMC4wMykpDQphYmxpbmUoY29lZihwb3B1bGF0aW9uLm1vZGVsKVsxXSwgY29lZihwb3B1bGF0aW9uLm1vZGVsKVsyXSwgY29sID0gImJsdWUiKQ0KYWJsaW5lKGNvZWYoc2FtcGxlLm1vZGVsKVsxXSwNCiAgICAgICBjb2VmKHNhbXBsZS5tb2RlbClbMl0sDQogICAgICAgY29sID0gImJsYWNrIiwNCiAgICAgICBsdHkgPSAyLCBsd2Q9MykNCmFibGluZShtZWFuKHNhbXBsZV9jb2VmX2ludGVyY2VwdCksDQogICAgICAgbWVhbihzYW1wbGVfY29lZl94MSksDQogICAgICAgY29sID0gImdyZWVuIiwNCiAgICAgICBsdHkgPSA0LCBsd2Q9MykNCg0KcGxvdCgNCiAgeSB+IHgsDQogIGNvbCA9ICJncmF5IiwNCiAgeGxhYiA9ICJ4IiwNCiAgeWxhYiA9ICJ5IiwNCiAgbWFpbiA9ICJDb21wYXJlIHJlZ3Jlc3Npb25zIikNCmFwcGx5KGNvZWZzLCAyLCBhYmxpbmUsIGNvbCA9IHJnYigxLCAwLCAwLCAwLjAzKSkNCmFibGluZShjb2VmKHBvcHVsYXRpb24ubW9kZWwpWzFdLCBjb2VmKHBvcHVsYXRpb24ubW9kZWwpWzJdLCBjb2wgPSAiYmx1ZSIpDQphYmxpbmUoY29lZihzYW1wbGUubW9kZWwpWzFdLA0KICAgICAgIGNvZWYoc2FtcGxlLm1vZGVsKVsyXSwNCiAgICAgICBjb2wgPSAiYmxhY2siLA0KICAgICAgIGx0eSA9IDIsIGx3ZD0zKQ0KYWJsaW5lKG1lYW4oc2FtcGxlX2NvZWZfaW50ZXJjZXB0KSwNCiAgICAgICBtZWFuKHNhbXBsZV9jb2VmX3gxKSwNCiAgICAgICBjb2wgPSAiZ3JlZW4iLA0KICAgICAgIGx0eSA9IDQsIGx3ZD0zKQ0KbGluZXMobmV3LmRhdGEsIGNvbmZfaW50ZXJ2YWxbLCAyXSwgY29sID0gImJsYWNrIiwgbHR5ID0gMywgbHdkPTMpDQpsaW5lcyhuZXcuZGF0YSwgY29uZl9pbnRlcnZhbFssIDNdLCBjb2wgPSAiYmxhY2siLCBsdHkgPSAzLCBsd2Q9MykNCmxlZ2VuZCgidG9wbGVmdCIsDQogICAgICAgbGVnZW5kID0gYygiQm9vdHN0cmFwIiwgIlBvcHVsYXRpb24iLCAnU2FtcGxlJyksDQogICAgICAgY29sID0gYygicmVkIiwgImJsdWUiLCAnZ3JlZW4nKSwNCiAgICAgICBsdHkgPSAxOjMsDQogICAgICAgY2V4ID0gMC44KQ0KDQpmaXQxIDwtIGxtKFBldGFsLldpZHRoIH4gUGV0YWwuTGVuZ3RoICsgU2VwYWwuV2lkdGggKyBTZXBhbC5MZW5ndGgsIGRhdGEgPSBpcmlzKSAjIHNxcnQodmlmKGZpdDEpKSA+MiBub3QgZ29vZA0KZml0MiA8LSBsbShQZXRhbC5XaWR0aCB+IFNlcGFsLldpZHRoICsgU2VwYWwuTGVuZ3RoLCBkYXRhID0gaXJpcykNCnNxcnQoY2FyOjp2aWYoZml0MikpID4yICMgb2theQ0KZ3ZsbWEoZml0MikNCmJveGNveGZpdDIgPC0gYm94Y294KGZpdDIscGxvdGl0PVQpDQpsYW1iZGEyIDwtIGJveGNveGZpdDIkeFt3aGljaC5tYXgoYm94Y294Zml0MiR5KV0NCm5ld19maXQyIDwtIGxtKCgoaXJpcyRQZXRhbC5XaWR0aF5sYW1iZGEyLTEpL2xhbWJkYTIpIH4gIFNlcGFsLldpZHRoICsgU2VwYWwuTGVuZ3RoLCBkYXRhID0gaXJpcykNCmd2bG1hKG5ld19maXQyKQ0KDQpmaXQyLmJvb3Q8LWxtLmJvb3QoZml0MiwgUj0xMDAwKQ0Kc3VtbWFyeShmaXQyLmJvb3QpDQoNCiMgY2FuIHNwZWNpZnkgY2FzZXdpc2Ugb3IgcmVzaWR1YWwgc2FtcGxpbmcgd2l0aCB0aGUgbWV0aG9kIGFyZ3VtZW50DQpmaXQzLmJvb3QgPC0gQm9vdChmaXQyLCBmPWNvZWYsIFI9MTAwMCwgbWV0aG9kPWMoImNhc2UiKSkNCnN1bW1hcnkoZml0My5ib290LCBoaWdoLm1vbWVudHM9VCkNCg0KIyBLLWZvbGQgY3Jvc3MtdmFsaWRhdGlvbg0KY3YubG0oaXJpcywgZml0MiwgbT0zKSAjIDMgZm9sZCBjcm9zcy12YWxpZGF0aW9uDQoNCiMgQXNzZXNzaW5nIFIyIHNocmlua2FnZSB1c2luZyAxMC1Gb2xkIENyb3NzLVZhbGlkYXRpb24NCiMgZGVmaW5lIGZ1bmN0aW9ucw0KdGhldGEuZml0IDwtIGZ1bmN0aW9uKHgseSl7bHNmaXQoeCx5KX0NCnRoZXRhLnByZWRpY3QgPC0gZnVuY3Rpb24oZml0LHgpe2NiaW5kKDEseCklKiVmaXQkY29lZn0NCiMgbWF0cml4IG9mIHByZWRpY3RvcnMNClggPC0gYXMubWF0cml4KGlyaXNbYygiU2VwYWwuV2lkdGgiLCJTZXBhbC5MZW5ndGgiKV0pDQojIHZlY3RvciBvZiBwcmVkaWN0ZWQgdmFsdWVzDQp5IDwtIGFzLm1hdHJpeChpcmlzW2MoIlBldGFsLldpZHRoIildKQ0KcmVzdWx0cyA8LSBjcm9zc3ZhbChYLHksdGhldGEuZml0LHRoZXRhLnByZWRpY3Qsbmdyb3VwPTMpDQpjb3IoeSwgZml0MiRmaXR0ZWQudmFsdWVzKSoqMiAjIHJhdyBSMg0KY29yKHkscmVzdWx0cyRjdi5maXQpKioyICMgY3Jvc3MtdmFsaWRhdGVkIFIyDQoNCmRhdGEocHJvZi5zYWxhcnkpDQoNCmZpdC5wcm9mMSA8LSBsbShzYWxhcnl+cHViLCBkYXRhPXByb2Yuc2FsYXJ5KQ0KZml0LnByb2YyICA8LSBsbShzYWxhcnl+Y2l0YXRpb24sIGRhdGE9cHJvZi5zYWxhcnkpDQpmaXQucHJvZjMgPC0gbG0oc2FsYXJ5fnB1YitjaXRhdGlvbiwgZGF0YT1wcm9mLnNhbGFyeSkNCmZpdC5wcm9mNCAgPC0gbG0oc2FsYXJ5fmNpdGF0aW9uK3B1YiwgZGF0YT1wcm9mLnNhbGFyeSkNCg0KIyBjb21wYXJlIG1vZGVsIDMgdG8gbW9kZWwgMSAtIHN0ZXBwaW5nIGFwcHJvYWNoLCBldmFsdWF0aW5nIGEgbmV3IHZhcmlhYmxlIChjaXRzKQ0KYW5vdmEoZml0LnByb2YxLGZpdC5wcm9mMykjIG5vdGUgdGhpcyBpcyBhbm92YSwgbm90IEFub3ZhDQoNCiMgY29tcGFyZSBtb2RlbCAzIHRvIG1vZGVsIDIgLSBzdGVwcGluZyBhcHByb2FjaCwgZXZhbHVhdGluZyBhIG5ldyB2YXJpYWJsZSAocHVicykNCmFub3ZhKGZpdC5wcm9mMixmaXQucHJvZjMpIyBub3RlIHRoaXMgaXMgYW5vdmEsIG5vdCBBbm92YQ0KDQpCSUMoZml0LnByb2YxKTsgQklDKGZpdC5wcm9mMik7QklDKGZpdC5wcm9mMykNCkFJQyhmaXQucHJvZjEpOyBBSUMoZml0LnByb2YyKTtBSUMoZml0LnByb2YzKQ0KDQojIFN0ZXB3aXNlIFNlbGVjdGlvbiBiYXNlZCBvbiBBSUMNCmZpdC5wcm9mNSAgPC0gbG0oc2FsYXJ5fmNpdGF0aW9uK3B1Yit0aW1lLCBkYXRhPXByb2Yuc2FsYXJ5KQ0Kc3RlcDEgPC0gc3RlcEFJQyhmaXQucHJvZjUsIGRpcmVjdGlvbj0iYm90aCIpDQpzdGVwMSRhbm92YSAjIGRpc3BsYXkgcmVzdWx0cw0KDQoNCiNTdGVwd2lzZSBTZWxlY3Rpb24gd2l0aCBCSUMNCm48LWRpbShwcm9mLnNhbGFyeSlbMV0NCnN0ZXAyIDwtIHN0ZXBBSUMoZml0LnByb2Y1LCBrPWxvZyhuKSwgZGlyZWN0aW9uPSJib3RoIikNCnN0ZXAyJGFub3ZhICMgZGlzcGxheSByZXN1bHRzDQoNCiMgQWxsIFN1YnNldHMgUmVncmVzc2lvbg0KbGVhcHM8LXJlZ3N1YnNldHMoc2FsYXJ5fmNpdGF0aW9uK3B1Yit0aW1lLCBkYXRhPXByb2Yuc2FsYXJ5LG5iZXN0PTEwKQ0KIyB2aWV3IHJlc3VsdHMNCnN1bW1hcnkobGVhcHMpDQojIHBsb3QgYSB0YWJsZSBvZiBtb2RlbHMgc2hvd2luZyB2YXJpYWJsZXMgaW4gZWFjaCBtb2RlbC4NCiMgbW9kZWxzIGFyZSBvcmRlcmVkIGJ5IHRoZSBzZWxlY3Rpb24gc3RhdGlzdGljLg0KcGxvdChsZWFwcyxzY2FsZT0icjIiKQ0KIyBwbG90IHN0YXRpc3RpYyBieSBzdWJzZXQgc2l6ZQ0KIyBzdWJzZXRzKGxlYXBzLCBzdGF0aXN0aWM9InJzcSIpDQoNCmZpdC5wcm9mNiAgPC0gbG0oc2FsYXJ5fmNpdGF0aW9uK3RpbWUsIGRhdGE9cHJvZi5zYWxhcnkpDQojIGd2bG1hKGZpdC5wcm9mNikNCnN1bW1hcnkoZml0LnByb2Y2KQ0KDQpzdW1tYXJ5KGZpdC5wcm9mNikkY29lZmZpY2llbnQNCg0KY29uZmludChmaXQucHJvZjYpDQoNCnNpZ21hKGZpdC5wcm9mNikvbWVhbihwcm9mLnNhbGFyeSRzYWxhcnkpDQoNCm1vZGVsLmZ1bGwgPC0gbG0oc2FsYXJ5IH4uLCBkYXRhID0gcHJvZi5zYWxhcnkpDQoNCm1vZGVsLnBhcnRpYWwxIDwtIGxtKHNhbGFyeSB+LiAtc2V4LCBkYXRhID0gcHJvZi5zYWxhcnkpDQoNCm1vZGVsLnBhcnRpYWwyIDwtICB1cGRhdGUobW9kZWwuZnVsbCwgIH4uIC1zZXgpDQoNCnN0dWRlbnRzPC1yZWFkLnRhYmxlKCdodHRwczovL3d3dy5kaXBpbnRvdGhlcmVlZi5jb20vdXBsb2Fkcy8zLzcvMy81LzM3MzU5MjQ1L3N0dWRlbnRzLnR4dCcsaGVhZGVyPVQsIHNlcD0iXHQiLCBkZWM9Jy4nKSANCmxtLmNhdDwtbG0oc2hvZXNpemV+Z2VuZGVyLCBkYXRhPXN0dWRlbnRzKQ0KYW5vdmEobG0uY2F0KQ0KDQppcmlzLmxtPC1sbShQZXRhbC5XaWR0aCB+IFNwZWNpZXMsIGRhdGE9aXJpcykNCnN1bW1hcnkoaXJpcy5sbSkNCmFub3ZhKGlyaXMubG0pDQoNCnBpcmF0ZXBsb3QoZm9ybXVsYSA9IHRpbWUgfiBjbGVhbmVyICsgdHlwZSwNCiAgICAgICAgICAgZGF0YSA9IHBvb3BkZWNrLA0KICAgICAgICAgICB5bGltID0gYygwLCAxNTApLA0KICAgICAgICAgICB4bGFiID0gIkNsZWFuZXIiLA0KICAgICAgICAgICB5bGFiID0gIkNsZWFuaW5nIFRpbWUgKG1pbnV0ZXMpIiwNCiAgICAgICAgICAgbWFpbiA9ICJwb29wZGVjayBkYXRhIiwNCiAgICAgICAgICAgYmFjay5jb2wgPSBncmF5KC45NyksIA0KICAgICAgICAgICBjYXAuYmVhbnMgPSBUUlVFLCANCiAgICAgICAgICAgdGhlbWUgPSAyKQ0KDQojIFN0ZXAgMTogQ3JlYXRlIGFuIGFvdiBvYmplY3QNCm1vZC5hb3YgPC0gYW92KGZvcm11bGEgPSB5IH4geDEgKyB4MiArIC4uLiwgZGF0YSA9IGRhdGEpDQoNCiMgU3RlcCAyOiBMb29rIGF0IGEgc3VtbWFyeSBvZiB0aGUgYW92IG9iamVjdA0Kc3VtbWFyeShtb2QuYW92KQ0KDQojIFN0ZXAgMzogQ2FsY3VsYXRlIHBvc3QtaG9jIHRlc3RzDQpUdWtleUhTRChtb2QuYW92KQ0KDQojIFN0ZXAgNDogTG9vayBhdCBjb2VmZmljaWVudHMNCm1vZC5sbSA8LSBsbShmb3JtdWxhID0geSB+IHgxICsgeDIgKyAuLi4sIGRhdGEgPSBkYXRhKQ0Kc3VtbWFyeShtb2QubG0pDQoNCnBpcmF0ZXBsb3QodGltZSB+IGNsZWFuZXIsIA0KICAgICAgICAgICAgICAgICAgZGF0YSA9IHBvb3BkZWNrLCANCiAgICAgICAgICAgICAgICAgIHRoZW1lID0gMiwgDQogICAgICAgICAgICAgICAgICBjYXAuYmVhbnMgPSBUUlVFLA0KICAgICAgICAgICAgICAgICAgbWFpbiA9ICJmb3JtdWxhID0gdGltZSB+IGNsZWFuZXIiKQ0KDQojIFN0ZXAgMTogYW92IG9iamVjdCB3aXRoIHRpbWUgYXMgRFYgYW5kIGNsZWFuZXIgYXMgSVYNCmNsZWFuZXIuYW92IDwtIGFvdihmb3JtdWxhID0gdGltZSB+IGNsZWFuZXIsIGRhdGEgPSBwb29wZGVjaykNCg0KIyBTdGVwIDI6IExvb2sgYXQgdGhlIHN1bW1hcnkgb2YgdGhlIGFub3ZhIG9iamVjdA0Kc3VtbWFyeShjbGVhbmVyLmFvdikNCg0KIyBTdGVwIDM6IENvbmR1Y3QgcG9zdC1ob2MgdGVzdHMNClR1a2V5SFNEKGNsZWFuZXIuYW92KQ0KDQojIFN0ZXAgNDogQ3JlYXRlIGEgcmVncmVzc2lvbiBvYmplY3QNCmNsZWFuZXIubG0gPC0gbG0oZm9ybXVsYSA9IHRpbWUgfiBjbGVhbmVyLCBkYXRhID0gcG9vcGRlY2spDQpzdW1tYXJ5KGNsZWFuZXIubG0pDQoNCiMgU3RlcCAxOiBhb3Ygb2JqZWN0IHdpdGggdGltZSBhcyBEViBhbmQgY2xlYW5lciBhbmQgdHlwZSBhcyBJVg0KY2xlYW5lci50eXBlLmFvdiA8LSBhb3YoZm9ybXVsYSA9IHRpbWUgfiBjbGVhbmVyICsgdHlwZSwgZGF0YSA9IHBvb3BkZWNrKQ0KDQojIFN0ZXAgMjogR2V0IEFOT1ZBIHRhYmxlIHdpdGggc3VtbWFyeSgpDQpzdW1tYXJ5KGNsZWFuZXIudHlwZS5hb3YpDQoNCiMgU3RlcCAzOiBDb25kdWN0IHBvc3QtaG9jIHRlc3RzDQpUdWtleUhTRChjbGVhbmVyLnR5cGUuYW92KQ0KDQojIFN0ZXAgNDogTG9vayBhdCByZWdyZXNzaW9uIGNvZWZmaWNpZW50cw0KY2xlYW5lci50eXBlLmxtIDwtIGxtKGZvcm11bGEgPSB0aW1lIH4gY2xlYW5lciArIHR5cGUsIGRhdGEgPSBwb29wZGVjaykNCnN1bW1hcnkoY2xlYW5lci50eXBlLmxtKQ0KDQojIFN0ZXAgMTogQ3JlYXRlIEFOT1ZBIG9iamVjdCB3aXRoIGludGVyYWN0aW9ucw0KY2xlYW5lci50eXBlLmludC5hb3YgPC0gYW92KGZvcm11bGEgPSB0aW1lIH4gY2xlYW5lciAqIHR5cGUsIGRhdGEgPSBwb29wZGVjaykNCiMgU3RlcCAyOiBMb29rIGF0IHN1bW1hcnkgdGFibGUNCnN1bW1hcnkoY2xlYW5lci50eXBlLmludC5hb3YpDQoNCiMgU3RlcCA0OiBDYWxjdWxhdGUgcmVncmVzc2lvbiBjb2VmZmljaWVudHMNCmNsZWFuZXIudHlwZS5pbnQubG0gPC0gbG0oZm9ybXVsYSA9IHRpbWUgfiBjbGVhbmVyICogdHlwZSwgZGF0YSA9IHBvb3BkZWNrKQ0Kc3VtbWFyeShjbGVhbmVyLnR5cGUuaW50LmxtKQ0KDQpjYXRfcGxvdChjbGVhbmVyLnR5cGUuaW50LmxtLCBwcmVkID0gY2xlYW5lciwgbW9keCA9IHR5cGUsIGludGVydmFsID0gVFJVRSkNCg0KIyBTdGVwIDE6IENhbGN1bGF0ZSByZWdyZXNzaW9uIG9iamVjdCB3aXRoIGxtKCkNCnRpbWUubG0gPC0gbG0oZm9ybXVsYSA9IHRpbWUgfiB0eXBlICsgY2xlYW5lciwgZGF0YSA9IHBvb3BkZWNrKQ0KDQojIFR5cGUgSSBBTk9WQSAtIGFvdigpDQp0aW1lLkkuYW92IDwtIGFvdih0aW1lLmxtKQ0KIyBvciBhbm92YSh0aW1lLmxtKQ0KDQojIFR5cGUgSUkgQU5PVkEgLSBBbm92YSh0eXBlID0gMikNCnRpbWUuSUkuYW92IDwtIGNhcjo6QW5vdmEodGltZS5sbSwgdHlwZSA9IDIpDQoNCiMgVHlwZSBJSUkgQU5PVkEgLSBBbm92YSh0eXBlID0gMykNCnRpbWUuSUlJLmFvdiA8LSBjYXI6OkFub3ZhKHRpbWUubG0sIHR5cGUgPSAzKQ0KDQojIEFyZSBvYnNlcnZhdGlvbnMgaW4gdGhlIHBvb3BkZWNrIGRhdGEgYmFsYW5jZWQ/DQp3aXRoKHBvb3BkZWNrLCB0YWJsZShjbGVhbmVyLCB0eXBlKSkgDQoNCm5hbWVzKGNsZWFuZXIudHlwZS5pbnQuYW92KQ0KDQpwb29wZGVjayRpbnQuZml0IDwtIGNsZWFuZXIudHlwZS5pbnQuYW92JGZpdHRlZC52YWx1ZXMNCnBvb3BkZWNrJG1lLmZpdCA8LSBjbGVhbmVyLnR5cGUuYW92JGZpdHRlZC52YWx1ZXMNCg0KbWVhbihhYnMocG9vcGRlY2skaW50LmZpdCAtIHBvb3BkZWNrJHRpbWUpKQ0KbWVhbihhYnMocG9vcGRlY2skbWUuZml0IC0gcG9vcGRlY2skdGltZSkpDQoNCnNoYXBpcm8udGVzdChjbGVhbmVyLnR5cGUuaW50LmFvdiRyZXNpZHVhbHMpICMgdGVzdCBvdXIgcmVzaWR1YWxzIHZzIGEgbm9ybWFsIGRpc3RyaWJ1dGlvbg0KYmFydGxldHQudGVzdChjbGVhbmVyLnR5cGUuaW50LmFvdiRyZXNpZHVhbHMgfiBpbnRlcmFjdGlvbihjbGVhbmVyLCB0eXBlKSwgZGF0YSA9IHBvb3BkZWNrKSAjIHRlc3QgdmFyaWFuY2Ugb2Ygb3VyIHJlc2lkdWFscyBpbiB0aGUgZGlmZmVyZW50IGdyb3Vwcy4NCg0KQVdBUkQgPC0gcmVhZC5jc3YoImh0dHBzOi8vc3RhdHMuaWRyZS51Y2xhLmVkdS9zdGF0L2RhdGEvcG9pc3Nvbl9zaW0uY3N2IikNCkFXQVJEIDwtIHdpdGhpbihBV0FSRCx7DQogIHByb2cgPC0gZmFjdG9yKHByb2csIGxldmVscz0xOjMsIGxhYmVscz1jKCJHZW5lcmFsIiwgIkFjYWRlbWljIiwiVm9jYXRpb25hbCIpKQ0KICBpZCA8LSBmYWN0b3IoaWQpDQp9KQ0Kc3VtbWFyeShBV0FSRCkNCg0KQVdBUkQuaGlzdCA8LSBnZ3Bsb3QoQVdBUkQsIGFlcyhudW1fYXdhcmRzLCBmaWxsPXByb2cpKSArDQogIGdlb21faGlzdG9ncmFtKGJpbndpZHRoID0gLjUsICBwb3NpdGlvbj0iZG9kZ2UiKSANCg0KQVdBUkQuaGlzdA0KDQpzdW1tYXJ5KG0xIDwtIGdsbShudW1fYXdhcmRzIH4gcHJvZyArIG1hdGgsIGZhbWlseT0icG9pc3NvbiIsIGRhdGE9QVdBUkQpKQ0KDQpjb3YubTEgPC0gdmNvdkhDKG0xLCB0eXBlPSJIQzAiKQ0Kc3RkLmVyciA8LSBzcXJ0KGRpYWcoY292Lm0xKSkNCnIuZXN0IDwtIGNiaW5kKEVzdGltYXRlPSBjb2VmKG0xKSwgIlJvYnVzdCBTRSIgPSBzdGQuZXJyLA0KIlByKD58enwpIiA9IDIgKiBwbm9ybShhYnMoY29lZihtMSkvc3RkLmVyciksIGxvd2VyLnRhaWw9RkFMU0UpLA0KTEwgPSBjb2VmKG0xKSAtIDEuOTYgKiBzdGQuZXJyLA0KVUwgPSBjb2VmKG0xKSArIDEuOTYgKiBzdGQuZXJyKQ0Kci5lc3QNCg0Kd2l0aChtMSwgY2JpbmQocmVzLmRldmlhbmNlID0gZGV2aWFuY2UsIGRmID0gZGYucmVzaWR1YWwsDQogIEFXQVJEID0gcGNoaXNxKGRldmlhbmNlLCBkZi5yZXNpZHVhbCwgbG93ZXIudGFpbD1GQUxTRSkpKQ0KDQojIyBjYWxjdWxhdGUgYW5kIHN0b3JlIHByZWRpY3RlZCB2YWx1ZXMNCkFXQVJEJHBoYXQgPC0gcHJlZGljdChtMSwgdHlwZT0icmVzcG9uc2UiKQ0KDQojIyBvcmRlciBieSBwcm9ncmFtIGFuZCB0aGVuIGJ5IG1hdGgNCkFXQVJEIDwtIEFXQVJEW3dpdGgoQVdBUkQsIG9yZGVyKHByb2csIG1hdGgpKSwgXQ0KDQojIyBjcmVhdGUgdGhlIHBsb3QNCmdncGxvdChBV0FSRCwgYWVzKHggPSBtYXRoLCB5ID0gcGhhdCwgY29sb3VyID0gcHJvZykpICsNCiAgZ2VvbV9wb2ludChhZXMoeSA9IG51bV9hd2FyZHMpLCBhbHBoYT0uNSwgcG9zaXRpb249cG9zaXRpb25faml0dGVyKGg9LjIpKSArDQogIGdlb21fbGluZShzaXplID0gMSkgKw0KICBsYWJzKHggPSAiTWF0aCBTY29yZSIsIHkgPSAiRXhwZWN0ZWQgbnVtYmVyIG9mIGF3YXJkcyIpDQoNCldlZXZpbF9kYW1hZ2UgPC0gcmVhZC5jc3YoIkRhdGEvV2VldmlsX2RhbWFnZS5jc3YiKQ0KV2VldmlsX2RhbWFnZSRibG9jayA8LSBhcy5mYWN0b3IoV2VldmlsX2RhbWFnZSRibG9jaykgIyBNYWtpbmcgYmxvY2sgYSBmYWN0b3INCndlZXZpbC5tIDwtIGdsbShkYW1hZ2VfVF9GIH4gYmxvY2ssIGZhbWlseSA9IGJpbm9taWFsLCBkYXRhID0gV2VldmlsX2RhbWFnZSkNCnN1bW1hcnkod2VldmlsLm0pDQoNCnJhaXJ1b2hvJElEPC1yb3duYW1lcyhyYWlydW9obykNCnJhaTwtcmFpcnVvaG8gJT4lIHBpdm90X2xvbmdlcihkYXkzOmRheTgsIG5hbWVzX3RvID0gImRheSIsIHZhbHVlc190byA9ICJsZW5ndGgiKQ0KcmFpJGRheTwtcGFyc2VfbnVtYmVyKHJhaSRkYXkpDQpyYWkNCg0KDQpnZ3Bsb3QocmFpLCBhZXMoeCA9IGRheSwgeSA9IGxlbmd0aCkpICsNCiAgZ2VvbV9wb2ludCgpICsNCiAgc2NhbGVfeF9jb250aW51b3VzKGJyZWFrcyA9IDA6OSkrDQogIGZhY2V0X3dyYXAofklEKQ0KDQpsbWVyLnJhaTwtbG1lcihsZW5ndGggfiBkYXkgKyAoMXxJRCksIGRhdGE9cmFpLCBSRU1MPVRSVUUpICMgUkVNTCBkZWZhdWx0DQpzdW1tYXJ5KGxtZXIucmFpKQ0KDQoNCm5ld2RhdGEgPC0gY3Jvc3NpbmcoSUQgPSByYWkgJT4lIHB1bGwoSUQpLA0KICBkYXkgPSAzOjgpDQoNCmhlYWQobmV3ZGF0YSkNCg0KbmV3ZGF0YTIgPC0gbmV3ZGF0YSAlPiUNCiAgbXV0YXRlKGxlbmd0aCA9IHByZWRpY3QobG1lci5yYWksIG5ld2RhdGEpKQ0KDQojIHBsb3QNCmdncGxvdChyYWksIGFlcyh4ID0gZGF5LCB5ID0gbGVuZ3RoKSkgKw0KICBnZW9tX2xpbmUoZGF0YSA9IG5ld2RhdGEyLA0KICAgICAgICAgICAgY29sb3IgPSAnYmx1ZScpICsNCiAgZ2VvbV9wb2ludCgpICsNCiAgc2NhbGVfeF9jb250aW51b3VzKGJyZWFrcyA9IDA6NykgKw0KICBmYWNldF93cmFwKH5JRCkgKw0KICBsYWJzKHkgPSAiTGVuZ3RoIiwgeCA9ICJEYXlzIikNCg0KYW5vdmEobG1lci5yYWkpDQoNCnJhbmQobG1lci5yYWkpDQoNCmxtZS5yYWkgPSBsbWUobGVuZ3RoIH4gZGF5LCByYW5kb209fjF8SUQsIGRhdGE9cmFpKQ0Kc3VtbWFyeShsbWUucmFpKQ0KDQpsbS5yYWk8LWxtKGxlbmd0aCB+IGRheSwgZGF0YT0gcmFpKQ0KYW5vdmEgKGxtZS5yYWksIGxtLnJhaSkNCmBgYHsuciAuZGlzdGlsbC1mb3JjZS1oaWdobGlnaHRpbmctY3NzfQ0KYGBgDQo=" download="linear.R">Download linear.R</a>
</div>
<div class="layout-chunk" data-layout="l-body">
<a href="data:text/csv;base64,Q29tbW9uIE5hbWUseWVhcixwb3ANCkV1cm9wZWFuIHNoYWcsMTk3MywxMTAwDQpFdXJvcGVhbiBzaGFnLDE5NzQsODUwDQpFdXJvcGVhbiBzaGFnLDE5NzUsNjUwDQpFdXJvcGVhbiBzaGFnLDE5NzYsNTAwDQpFdXJvcGVhbiBzaGFnLDE5NzcsODUwDQpFdXJvcGVhbiBzaGFnLDE5NzgsNzAwDQpFdXJvcGVhbiBzaGFnLDE5NzksOTUwDQpFdXJvcGVhbiBzaGFnLDE5ODAsMTA1MA0KRXVyb3BlYW4gc2hhZywxOTgxLDEyMDANCkV1cm9wZWFuIHNoYWcsMTk4MiwxNDAwDQpFdXJvcGVhbiBzaGFnLDE5ODMsMTYwMA0KRXVyb3BlYW4gc2hhZywxOTg0LDE2NTANCkV1cm9wZWFuIHNoYWcsMTk4NSwxMzAwDQpFdXJvcGVhbiBzaGFnLDE5ODYsMTMwMA0KRXVyb3BlYW4gc2hhZywxOTg2LDEzNTANCkV1cm9wZWFuIHNoYWcsMTk4NywxOTAwDQpFdXJvcGVhbiBzaGFnLDE5ODcsMTkwMA0KRXVyb3BlYW4gc2hhZywxOTg4LDEyNTANCkV1cm9wZWFuIHNoYWcsMTk4OCwxMzAwDQpFdXJvcGVhbiBzaGFnLDE5ODksMTY1MA0KRXVyb3BlYW4gc2hhZywxOTg5LDE3NTANCkV1cm9wZWFuIHNoYWcsMTk5MCwxNDAwDQpFdXJvcGVhbiBzaGFnLDE5OTAsMTgwMA0KRXVyb3BlYW4gc2hhZywxOTkxLDE1MDANCkV1cm9wZWFuIHNoYWcsMTk5MSwxNTAwDQpFdXJvcGVhbiBzaGFnLDE5OTIsMTU1MA0KRXVyb3BlYW4gc2hhZywxOTkyLDE1NTANCkV1cm9wZWFuIHNoYWcsMTk5Myw3MDANCkV1cm9wZWFuIHNoYWcsMTk5Myw3NTANCkV1cm9wZWFuIHNoYWcsMTk5NCw0MDANCkV1cm9wZWFuIHNoYWcsMTk5NCw0MDANCkV1cm9wZWFuIHNoYWcsMTk5NSw0NTANCkV1cm9wZWFuIHNoYWcsMTk5NSw1MDANCkV1cm9wZWFuIHNoYWcsMTk5Niw1MDANCkV1cm9wZWFuIHNoYWcsMTk5Niw1NTANCkV1cm9wZWFuIHNoYWcsMTk5Nyw0NTANCkV1cm9wZWFuIHNoYWcsMTk5Nyw1MDANCkV1cm9wZWFuIHNoYWcsMTk5OCw2NTANCkV1cm9wZWFuIHNoYWcsMTk5OCw2NTANCkV1cm9wZWFuIHNoYWcsMTk5OSwyNTANCkV1cm9wZWFuIHNoYWcsMjAwMCw1NTANCkV1cm9wZWFuIHNoYWcsMjAwMSw3MDANCkV1cm9wZWFuIHNoYWcsMjAwMiw2NTANCkV1cm9wZWFuIHNoYWcsMjAwMyw5NTANCkV1cm9wZWFuIHNoYWcsMjAwNCw2NTANCkV1cm9wZWFuIHNoYWcsMjAwNSwyNTANCkV1cm9wZWFuIHNoYWcsMjAwNiw1MDANCg==" download="shagLPI.csv">Download shagLPI.csv</a>
</div>
<div class="layout-chunk" data-layout="l-body">
<a href="data:text/csv;base64,cG9wdWxhdGlvbixmYW1pbHksaW5kaXZpZHVhbCxpbmRpdmlkdWFsX2NvZGUsbG9jYXRpb25fY29kZSx4X2Nvb3JkLHlfY29vcmQsYmxvY2sscHJldmlvdXNfZGFtYWdlLGN1cnJlbnRfZGFtYWdlLHRvdGFsX2RhbWFnZSxkYW1hZ2VfVF9GLA0KQSxlLDMwLEFfZV8zMCwxLDEsMSwxLDAsMCwwLEZBTFNFLA0KQixpLDQsQl9pXzQsMiwxLDIsMSw0LDYsMTAsVFJVRSwNCkMsZCwxMixDX2RfMTIsMywxLDMsMSwyLDAsMixUUlVFLA0KRCxnLDE5LERfZ18xOSw0LDEsNCwxLDEsMCwxLFRSVUUsDQpFLGIsMTEsRV9iXzExLDUsMSw1LDEsMCwwLDAsRkFMU0UsDQpGLGosMjcsRl9qXzI3LDYsMSw2LDEsMCwwLDAsRkFMU0UsDQpHLGgsMzAsR19oXzMwLDcsMSw3LDEsMywwLDMsVFJVRSwNCkgsaCwyMyxIX2hfMjMsOCwxLDgsMSw2LDAsNixUUlVFLA0KTSxoLDIwLE1faF8yMCw5LDEsMSwyLDEsMCwxLFRSVUUsDQpRLGcsMSxRX2dfMSwxMCwxLDIsMiwwLDUsNSxUUlVFLA0KSSxnLDIwLElfZ18yMCwxMSwxLDMsMiwxLDIsMyxUUlVFLA0KRixqLDMwLEZfal8zMCwxMiwxLDQsMiwwLDAsMCxGQUxTRSwNCkMsaSw0LENfaV80LDEzLDEsNSwyLDEsMCwxLFRSVUUsDQpKLGYsMTEsSl9mXzExLDE0LDEsNiwyLDEsMCwxLFRSVUUsDQpSLGUsMSxSX2VfMSwxNSwxLDcsMiw2LDAsNixUUlVFLA0KRyxpLDIwLEdfaV8yMCwxNiwxLDgsMiw1LDAsNSxUUlVFLA0KSyxhLDMwLEtfYV8zMCwxNywxLDEsMyw4LDAsOCxUUlVFLA0KUixkLDEyLFJfZF8xMiwxOCwxLDIsMywxLDAsMSxUUlVFLA0KQyxnLDEsQ19nXzEsMTksMSwzLDMsMCwwLDAsRkFMU0UsDQpTLGosNCxTX2pfNCwyMCwxLDQsMywxMiwwLDEyLFRSVUUsDQpRLGEsMjcsUV9hXzI3LDIxLDEsNSwzLDksMCw5LFRSVUUsDQpPLGQsMTIsT19kXzEyLDIyLDEsNiwzLDI0LDAsMjQsVFJVRSwNClUsZiwxOCxVX2ZfMTgsMjMsMSw3LDMsMCw5LDksVFJVRSwNCkUsaiwyNyxFX2pfMjcsMjQsMSw4LDMsMTQsMCwxNCxUUlVFLA0KTCxiLDE4LExfYl8xOCwyNSwxLDEsNCwwLDAsMCxGQUxTRSwNCkMsYSwyNyxDX2FfMjcsMjYsMSwyLDQsMCwzOSwzOSxUUlVFLA0KUixnLDEsUl9nXzEsMjcsMSwzLDQsNSw0LDksVFJVRSwNCk4sZywyMyxOX2dfMjMsMjgsMSw0LDQsMCwzLDMsVFJVRSwNCk4sZCwxMixOX2RfMTIsMjksMSw1LDQsMTIsMTgsMzAsVFJVRSwNClEsaiwyMyxRX2pfMjMsMzAsMSw2LDQsNSw0LDksVFJVRSwNCkQsZiwxMSxEX2ZfMTEsMzEsMSw3LDQsNCwxLDUsVFJVRSwNClAsZywxMSxQX2dfMTEsMzIsMSw4LDQsMiwxMywxNSxUUlVFLA0KQyxoLDE4LENfaF8xOCwzMywyLDEsMSwzNCwyLDM2LFRSVUUsDQpLLGQsMTIsS19kXzEyLDM0LDIsMiwxLDAsMiwyLFRSVUUsDQpMLGYsMTEsTF9mXzExLDM1LDIsMywxLDAsNCw0LFRSVUUsDQpLLGksNCxLX2lfNCwzNiwyLDQsMSwwLDAsMCxGQUxTRSwNCkosaCwyMCxKX2hfMjAsMzcsMiw1LDEsMSwwLDEsVFJVRSwNCkksYSwyNyxJX2FfMjcsMzgsMiw2LDEsMywwLDMsVFJVRSwNCkcsYiwxMixHX2JfMTIsMzksMiw3LDEsMywwLDMsVFJVRSwNCkIsZiwxOCxCX2ZfMTgsNDAsMiw4LDEsMCwwLDAsRkFMU0UsDQpRLGUsMSxRX2VfMSw0MSwyLDEsMiwwLDAsMCxGQUxTRSwNClMsaSw0LFNfaV80LDQyLDIsMiwyLDcsMCw3LFRSVUUsDQpJLGosMTksSV9qXzE5LDQzLDIsMywyLDEsOSwxMCxUUlVFLA0KUSxkLDQsUV9kXzQsNDQsMiw0LDIsMCwwLDAsRkFMU0UsDQpMLGgsMzAsTF9oXzMwLDQ1LDIsNSwyLDAsMCwwLEZBTFNFLA0KVSxkLDEyLFVfZF8xMiw0NiwyLDYsMiw1LDAsNSxUUlVFLA0KSCxoLDE4LEhfaF8xOCw0NywyLDcsMiwyLDAsMixUUlVFLA0KUyxnLDEsU19nXzEsNDgsMiw4LDIsNTIsMCw1MixUUlVFLA0KUCxiLDE4LFBfYl8xOCw0OSwyLDEsMywwLDAsMCxGQUxTRSwNClAsYSwyNyxQX2FfMjcsNTAsMiwyLDMsNCwwLDQsVFJVRSwNCkssaCwyMyxLX2hfMjMsNTEsMiwzLDMsMjMsMCwyMyxUUlVFLA0KTyxqLDE5LE9fal8xOSw1MiwyLDQsMywwLDMsMyxUUlVFLA0KQixpLDExLEJfaV8xMSw1MywyLDUsMywwLDAsMCxGQUxTRSwNCkYsaSwxMSxGX2lfMTEsNTQsMiw2LDMsMjEsNCwyNSxUUlVFLA0KRyxiLDExLEdfYl8xMSw1NSwyLDcsMywwLDcsNyxUUlVFLA0KUixlLDI3LFJfZV8yNyw1NiwyLDgsMywyLDAsMixUUlVFLA0KRixlLDQsRl9lXzQsNTcsMiwxLDQsMCwwLDAsRkFMU0UsDQpMLGksNCxMX2lfNCw1OCwyLDIsNCwwLDAsMCxGQUxTRSwNCkcsaSw0LEdfaV80LDU5LDIsMyw0LDEsMiwzLFRSVUUsDQpPLGEsMjAsT19hXzIwLDYwLDIsNCw0LDMsMiw1LFRSVUUsDQpPLGYsMTgsT19mXzE4LDYxLDIsNSw0LDAsOCw4LFRSVUUsDQpSLGEsMjAsUl9hXzIwLDYyLDIsNiw0LDAsMSwxLFRSVUUsDQpRLGcsMTksUV9nXzE5LDYzLDIsNyw0LDUsMSw2LFRSVUUsDQpCLGgsMTEsQl9oXzExLDY0LDIsOCw0LDQyLDEsNDMsVFJVRSwNCkQsZiwxMixEX2ZfMTIsNjUsMywxLDEsMCwwLDAsRkFMU0UsDQpNLGksNCxNX2lfNCw2NiwzLDIsMSwwLDMsMyxUUlVFLA0KTixmLDEyLE5fZl8xMiw2NywzLDMsMSwxLDAsMSxUUlVFLA0KSSxqLDMwLElfal8zMCw2OCwzLDQsMSwzLDAsMyxUUlVFLA0KQyxiLDEyLENfYl8xMiw2OSwzLDUsMSwxLDAsMSxUUlVFLA0KQixkLDEyLEJfZF8xMiw3MCwzLDYsMSwyLDAsMixUUlVFLA0KRSxmLDEyLEVfZl8xMiw3MSwzLDcsMSwwLDAsMCxGQUxTRSwNCkosYiwxOCxKX2JfMTgsNzIsMyw4LDEsMCwwLDAsRkFMU0UsDQpPLGcsMSxPX2dfMSw3MywzLDEsMiw5LDAsOSxUUlVFLA0KSyxoLDIwLEtfaF8yMCw3NCwzLDIsMiwxLDAsMSxUUlVFLA0KVCxhLDMwLFRfYV8zMCw3NSwzLDMsMiwwLDAsMCxGQUxTRSwNClIsZiwxMixSX2ZfMTIsNzYsMyw0LDIsMSwwLDEsVFJVRSwNCkssYSwxMixLX2FfMTIsNzcsMyw1LDIsMiwwLDIsVFJVRSwNCkEsYiwxOCxBX2JfMTgsNzgsMyw2LDIsMCwwLDAsRkFMU0UsDQpPLGMsMSxPX2NfMSw3OSwzLDcsMiwwLDAsMCxGQUxTRSwNClEsYywyNyxRX2NfMjcsODAsMyw4LDIsMywwLDMsVFJVRSwNCk4sYSwyNyxOX2FfMjcsODEsMywxLDMsMywxLDQsVFJVRSwNClQsYywyNyxUX2NfMjcsODIsMywyLDMsNSwxMiwxNyxUUlVFLA0KTixkLDI3LE5fZF8yNyw4MywzLDMsMywwLDAsMCxGQUxTRSwNCkosaCwxOCxKX2hfMTgsODQsMyw0LDMsMTgsNCwyMixUUlVFLA0KQSxhLDI3LEFfYV8yNyw4NSwzLDUsMywxMywwLDEzLFRSVUUsDQpHLGksMzAsR19pXzMwLDg2LDMsNiwzLDUwLDAsNTAsVFJVRSwNCkIsYSwzMCxCX2FfMzAsODcsMyw3LDMsMywxLDQsVFJVRSwNClQsaiwyNyxUX2pfMjcsODgsMyw4LDMsMjgsMCwyOCxUUlVFLA0KQSxlLDI3LEFfZV8yNyw4OSwzLDEsNCwxMSwwLDExLFRSVUUsDQpULGgsMjMsVF9oXzIzLDkwLDMsMiw0LDIsMCwyLFRSVUUsDQpPLGMsMTksT19jXzE5LDkxLDMsMyw0LDEsMSwyLFRSVUUsDQpFLGMsMSxFX2NfMSw5MiwzLDQsNCwwLDAsMCxGQUxTRSwNCkwsZCwxMixMX2RfMTIsOTMsMyw1LDQsNSwyLDcsVFJVRSwNClQsaiwxLFRfal8xLDk0LDMsNiw0LDIsMyw1LFRSVUUsDQpILGIsMTksSF9iXzE5LDk1LDMsNyw0LDQsMCw0LFRSVUUsDQpULGYsMTIsVF9mXzEyLDk2LDMsOCw0LDMsMSw0LFRSVUUsDQpKLGQsMTIsSl9kXzEyLDk3LDQsMSwxLDE2LDIsMTgsVFJVRSwNCkssZiwxMixLX2ZfMTIsOTgsNCwyLDEsMCwwLDAsRkFMU0UsDQpQLGksNCxQX2lfNCw5OSw0LDMsMSwyLDAsMixUUlVFLA0KQSxpLDQsQV9pXzQsMTAwLDQsNCwxLDAsMywzLFRSVUUsDQpMLGMsMjcsTF9jXzI3LDEwMSw0LDUsMSw0LDAsNCxUUlVFLA0KTyxqLDI3LE9fal8yNywxMDIsNCw2LDEsMiwwLDIsVFJVRSwNCkssaiw0LEtfal80LDEwMyw0LDcsMSwyLDMsNSxUUlVFLA0KSSxnLDE4LElfZ18xOCwxMDQsNCw4LDEsMSwxLDIsVFJVRSwNCkMsaCw0LENfaF80LDEwNSw0LDEsMiwwLDAsMCxGQUxTRSwNClEsaSw0LFFfaV80LDEwNiw0LDIsMiw0LDAsNCxUUlVFLA0KTSxlLDE4LE1fZV8xOCwxMDcsNCwzLDIsMCwwLDAsRkFMU0UsDQpLLGksMTEsS19pXzExLDEwOCw0LDQsMiwwLDAsMCxGQUxTRSwNClUsYSwyNyxVX2FfMjcsMTA5LDQsNSwyLDAsNyw3LFRSVUUsDQpMLGksMTEsTF9pXzExLDExMCw0LDYsMiwyLDEsMyxUUlVFLA0KTixnLE5BLE5fZ19OQSwxMTEsNCw3LDIsMCwwLDAsRkFMU0UsDQpCLGEsMjMsQl9hXzIzLDExMiw0LDgsMiwwLDAsMCxGQUxTRSwNCkssZSwxLEtfZV8xLDExMyw0LDEsMyw3LDAsNyxUUlVFLA0KSCxmLDEsSF9mXzEsMTE0LDQsMiwzLDcsMCw3LFRSVUUsDQpELGMsMSxEX2NfMSwxMTUsNCwzLDMsMTUsMCwxNSxUUlVFLA0KTyxnLDE5LE9fZ18xOSwxMTYsNCw0LDMsMCwyNywyNyxUUlVFLA0KUSxqLDE5LFFfal8xOSwxMTcsNCw1LDMsMyw4LDExLFRSVUUsDQpOLGYsMjcsTl9mXzI3LDExOCw0LDYsMyw2LDAsNixUUlVFLA0KVSxlLDQsVV9lXzQsMTE5LDQsNywzLDAsMCwwLEZBTFNFLA0KRCxmLDEsRF9mXzEsMTIwLDQsOCwzLDUsMTAsMTUsVFJVRSwNCkEsaiwzMCxBX2pfMzAsMTIxLDQsMSw0LDUsMSw2LFRSVUUsDQpGLGYsMTIsRl9mXzEyLDEyMiw0LDIsNCwzLDEsNCxUUlVFLA0KTyxoLDMwLE9faF8zMCwxMjMsNCwzLDQsMiwxLDMsVFJVRSwNCkssZCwzMCxLX2RfMzAsMTI0LDQsNCw0LDExLDIyLDMzLFRSVUUsDQpELGUsMzAsRF9lXzMwLDEyNSw0LDUsNCwwLDEsMSxUUlVFLA0KRyxjLDE5LEdfY18xOSwxMjYsNCw2LDQsMSwwLDEsVFJVRSwNCkssYywyNyxLX2NfMjcsMTI3LDQsNyw0LDAsMCwwLEZBTFNFLA0KQSxhLDE5LEFfYV8xOSwxMjgsNCw4LDQsMSwwLDEsVFJVRSwNCk0sZCw0LE1fZF80LDEyOSw1LDEsMSwzLDksMTIsVFJVRSwNClEsZywyMyxRX2dfMjMsMTMwLDUsMiwxLDM0LDE4LDUyLFRSVUUsDQpSLGcsMTksUl9nXzE5LDEzMSw1LDMsMSw2LDAsNixUUlVFLA0KQyxlLDEsQ19lXzEsMTMyLDUsNCwxLDAsMCwwLEZBTFNFLA0KUyxjLDIzLFNfY18yMywxMzMsNSw1LDEsMywwLDMsVFJVRSwNCk4sZywxMixOX2dfMTIsMTM0LDUsNiwxLDAsMiwyLFRSVUUsDQpILGQsMzAsSF9kXzMwLDEzNSw1LDcsMSwwLDEsMSxUUlVFLA0KQSxiLDQsQV9iXzQsMTM2LDUsOCwxLDQsMCw0LFRSVUUsDQpJLGQsMzAsSV9kXzMwLDEzNyw1LDEsMiwwLDAsMCxGQUxTRSwNCkEsaiw0LEFfal80LDEzOCw1LDIsMiwzLDAsMyxUUlVFLA0KSixlLDQsSl9lXzQsMTM5LDUsMywyLDAsMCwwLEZBTFNFLA0KTixlLDQsTl9lXzQsMTQwLDUsNCwyLDAsMCwwLEZBTFNFLA0KQyxiLDExLENfYl8xMSwxNDEsNSw1LDIsMCwwLDAsRkFMU0UsDQpQLGksMTEsUF9pXzExLDE0Miw1LDYsMiwwLDAsMCxGQUxTRSwNCkgsZCwyNyxIX2RfMjcsMTQzLDUsNywyLDEsMCwxLFRSVUUsDQpJLGgsMjAsSV9oXzIwLDE0NCw1LDgsMiwzLDAsMyxUUlVFLA0KRCxhLDMwLERfYV8zMCwxNDUsNSwxLDMsMSwwLDEsVFJVRSwNCkMsZSwxOSxDX2VfMTksMTQ2LDUsMiwzLDEsMSwyLFRSVUUsDQpJLGEsMjMsSV9hXzIzLDE0Nyw1LDMsMyw3LDAsNyxUUlVFLA0KSixiLDExLEpfYl8xMSwxNDgsNSw0LDMsMCwwLDAsRkFMU0UsDQpOLGksMTIsTl9pXzEyLDE0OSw1LDUsMywxLDAsMSxUUlVFLA0KTSxpLDExLE1faV8xMSwxNTAsNSw2LDMsMTIsMCwxMixUUlVFLA0KUixjLDI3LFJfY18yNywxNTEsNSw3LDMsNCwyLDYsVFJVRSwNCkssaiwxLEtfal8xLDE1Miw1LDgsMywyOCwwLDI4LFRSVUUsDQpDLGksMTIsQ19pXzEyLDE1Myw1LDEsNCw1LDYsMTEsVFJVRSwNCkgsZywyMCxIX2dfMjAsMTU0LDUsMiw0LDUsMCw1LFRSVUUsDQpFLGYsMjAsRV9mXzIwLDE1NSw1LDMsNCwzLDEsNCxUUlVFLA0KQyxjLDI3LENfY18yNywxNTYsNSw0LDQsMSwwLDEsVFJVRSwNCkYsaSwzMCxGX2lfMzAsMTU3LDUsNSw0LDAsMSwxLFRSVUUsDQpGLGgsMTgsRl9oXzE4LDE1OCw1LDYsNCwwLDAsMCxGQUxTRSwNClUsZiwxMSxVX2ZfMTEsMTU5LDUsNyw0LDMsMCwzLFRSVUUsDQpKLGIsNCxKX2JfNCwxNjAsNSw4LDQsOSwwLDksVFJVRSwNClUsaiw0LFVfal80LDE2MSw2LDEsMSwxMiwxLDEzLFRSVUUsDQpQLGMsMjcsUF9jXzI3LDE2Miw2LDIsMSw3LDcsMTQsVFJVRSwNCkssaCwxMSxLX2hfMTEsMTYzLDYsMywxLDMsMCwzLFRSVUUsDQpLLGEsMTksS19hXzE5LDE2NCw2LDQsMSwxLDE0LDE1LFRSVUUsDQpTLGUsMTgsU19lXzE4LDE2NSw2LDUsMSwwLDAsMCxGQUxTRSwNCkUsZCwzMCxFX2RfMzAsMTY2LDYsNiwxLDMsMCwzLFRSVUUsDQpTLGosMzAsU19qXzMwLDE2Nyw2LDcsMSw4LDAsOCxUUlVFLA0KVCxhLDIzLFRfYV8yMywxNjgsNiw4LDEsMjcsMCwyNyxUUlVFLA0KUixqLDIzLFJfal8yMywxNjksNiwxLDIsMCwyLDIsVFJVRSwNClUsZiwyMCxVX2ZfMjAsMTcwLDYsMiwyLDAsMCwwLEZBTFNFLA0KRyxlLDMwLEdfZV8zMCwxNzEsNiwzLDIsMCwwLDAsRkFMU0UsDQpSLGcsMTgsUl9nXzE4LDE3Miw2LDQsMiwwLDAsMCxGQUxTRSwNCkwsZiwxMixMX2ZfMTIsMTczLDYsNSwyLDAsMCwwLEZBTFNFLA0KUCxoLDIwLFBfaF8yMCwxNzQsNiw2LDIsNywwLDcsVFJVRSwNCkUsYywxOSxFX2NfMTksMTc1LDYsNywyLDEsMSwyLFRSVUUsDQpPLGosMTEsT19qXzExLDE3Niw2LDgsMiwxNCwwLDE0LFRSVUUsDQpOLGosNCxOX2pfNCwxNzcsNiwxLDMsMCwwLDAsRkFMU0UsDQpBLGUsMjMsQV9lXzIzLDE3OCw2LDIsMywyLDQsNixUUlVFLA0KQyxhLDMwLENfYV8zMCwxNzksNiwzLDMsNywxLDgsVFJVRSwNCkgsYiwxMixIX2JfMTIsMTgwLDYsNCwzLDI3LDUsMzIsVFJVRSwNCkcsZywyMCxHX2dfMjAsMTgxLDYsNSwzLDIsMzAsMzIsVFJVRSwNCk0sZCwyMyxNX2RfMjMsMTgyLDYsNiwzLDEsMCwxLFRSVUUsDQpILGcsMTgsSF9nXzE4LDE4Myw2LDcsMyw1LDAsNSxUUlVFLA0KUCxoLDE4LFBfaF8xOCwxODQsNiw4LDMsMSw0LDUsVFJVRSwNClUsZSwxOCxVX2VfMTgsMTg1LDYsMSw0LDMyLDAsMzIsVFJVRSwNCkIsZiwxMSxCX2ZfMTEsMTg2LDYsMiw0LDYsNSwxMSxUUlVFLA0KSSxmLDI3LElfZl8yNywxODcsNiwzLDQsMCwwLDAsRkFMU0UsDQpOLGEsMjAsTl9hXzIwLDE4OCw2LDQsNCwyNSwwLDI1LFRSVUUsDQpOLGosMjcsTl9qXzI3LDE4OSw2LDUsNCwxLDEsMixUUlVFLA0KUyxjLDE5LFNfY18xOSwxOTAsNiw2LDQsMSwwLDEsVFJVRSwNCkYsaiwxMSxGX2pfMTEsMTkxLDYsNyw0LDAsMSwxLFRSVUUsDQpTLGcsMjAsU19nXzIwLDE5Miw2LDgsNCwwLDAsMCxGQUxTRSwNCkosYSwyMCxKX2FfMjAsMTkzLDcsMSwxLDEsMCwxLFRSVUUsDQpPLGYsMjcsT19mXzI3LDE5NCw3LDIsMSwxLDAsMSxUUlVFLA0KTixhLDE5LE5fYV8xOSwxOTUsNywzLDEsNiwyLDgsVFJVRSwNCkUsZSwxOCxFX2VfMTgsMTk2LDcsNCwxLDQsMCw0LFRSVUUsDQpKLGcsMTksSl9nXzE5LDE5Nyw3LDUsMSwxLDAsMSxUUlVFLA0KTyxiLDEyLE9fYl8xMiwxOTgsNyw2LDEsNCwwLDQsVFJVRSwNClQsaSwxMSxUX2lfMTEsMTk5LDcsNywxLDE5LDQsMjMsVFJVRSwNCk0sYiwxOSxNX2JfMTksMjAwLDcsOCwxLDE4LDAsMTgsVFJVRSwNCkUsZiwzMCxFX2ZfMzAsMjAxLDcsMSwyLDEsOCw5LFRSVUUsDQpELGosMjMsRF9qXzIzLDIwMiw3LDIsMiwwLDAsMCxGQUxTRSwNCkQsZiwyNyxEX2ZfMjcsMjAzLDcsMywyLDMsMiw1LFRSVUUsDQpTLGosMTEsU19qXzExLDIwNCw3LDQsMiw0LDAsNCxUUlVFLA0KQixmLDI3LEJfZl8yNywyMDUsNyw1LDIsMywwLDMsVFJVRSwNCk8sYiw0LE9fYl80LDIwNiw3LDYsMiwyMywwLDIzLFRSVUUsDQpCLGMsMSxCX2NfMSwyMDcsNyw3LDIsMCwwLDAsRkFMU0UsDQpKLGIsMjcsSl9iXzI3LDIwOCw3LDgsMiw0LDEsNSxUUlVFLA0KVCxpLDEyLFRfaV8xMiwyMDksNywxLDMsMSwwLDEsVFJVRSwNCk0sYiwxOCxNX2JfMTgsMjEwLDcsMiwzLDE4LDAsMTgsVFJVRSwNCkgsZCw0LEhfZF80LDIxMSw3LDMsMywwLDE0LDE0LFRSVUUsDQpOLGcsMSxOX2dfMSwyMTIsNyw0LDMsMSwwLDEsVFJVRSwNCkIsZiwyMCxCX2ZfMjAsMjEzLDcsNSwzLDQwLDAsNDAsVFJVRSwNCkUsYywxMixFX2NfMTIsMjE0LDcsNiwzLDI0LDAsMjQsVFJVRSwNClEsZCwyMyxRX2RfMjMsMjE1LDcsNywzLDIsMTEsMTMsVFJVRSwNCkQsZywxOCxEX2dfMTgsMjE2LDcsOCwzLDUsMyw4LFRSVUUsDQpKLGEsMzAsSl9hXzMwLDIxNyw3LDEsNCw3LDAsNyxUUlVFLA0KSixkLDMwLEpfZF8zMCwyMTgsNywyLDQsNjIsMSw2MyxUUlVFLA0KUyxpLDMwLFNfaV8zMCwyMTksNywzLDQsNSwwLDUsVFJVRSwNCk0sZyxOQSxNX2dfTkEsMjIwLDcsNCw0LDAsMCwwLEZBTFNFLA0KSixlLDEsSl9lXzEsMjIxLDcsNSw0LDE0LDAsMTQsVFJVRSwNClMsaCwxOCxTX2hfMTgsMjIyLDcsNiw0LDEsMCwxLFRSVUUsDQpFLGQsMTEsRV9kXzExLDIyMyw3LDcsNCwwLDEsMSxUUlVFLA0KRyxnLDE4LEdfZ18xOCwyMjQsNyw4LDQsNiwzLDksVFJVRSwNCkcsaSwxOCxHX2lfMTgsMjI1LDgsMSwxLDUsMSw2LFRSVUUsDQpTLGcsMTgsU19nXzE4LDIyNiw4LDIsMSw0LDExLDE1LFRSVUUsDQpHLGcsMjMsR19nXzIzLDIyNyw4LDMsMSw3LDAsNyxUUlVFLA0KTCxpLDEyLExfaV8xMiwyMjgsOCw0LDEsMSwwLDEsVFJVRSwNClQsaCwyMCxUX2hfMjAsMjI5LDgsNSwxLDEsMCwxLFRSVUUsDQpQLGEsMjMsUF9hXzIzLDIzMCw4LDYsMSwzNCwyLDM2LFRSVUUsDQpGLGIsMTksRl9iXzE5LDIzMSw4LDcsMSwyMSwwLDIxLFRSVUUsDQpHLGEsMjcsR19hXzI3LDIzMiw4LDgsMSw2LDAsNixUUlVFLA0KUyxoLDExLFNfaF8xMSwyMzMsOCwxLDIsMiwwLDIsVFJVRSwNClQsZywxLFRfZ18xLDIzNCw4LDIsMiwwLDAsMCxGQUxTRSwNCkUsZSwxOSxFX2VfMTksMjM1LDgsMywyLDcsMCw3LFRSVUUsDQpNLGEsMzAsTV9hXzMwLDIzNiw4LDQsMiwwLDIsMixUUlVFLA0KQyxjLDIzLENfY18yMywyMzcsOCw1LDIsMywwLDMsVFJVRSwNCkcsYSwyMyxHX2FfMjMsMjM4LDgsNiwyLDEyLDAsMTIsVFJVRSwNCkksZiwyMCxJX2ZfMjAsMjM5LDgsNywyLDksMCw5LFRSVUUsDQpVLGIsMTksVV9iXzE5LDI0MCw4LDgsMiwyLDAsMixUUlVFLA0KQyxoLDE5LENfaF8xOSwyNDEsOCwxLDMsMSwwLDEsVFJVRSwNCkIsaCw0LEJfaF80LDI0Miw4LDIsMywzLDAsMyxUUlVFLA0KRixlLDE4LEZfZV8xOCwyNDMsOCwzLDMsNCwwLDQsVFJVRSwNCkosYSwxOSxKX2FfMTksMjQ0LDgsNCwzLDMsMCwzLFRSVUUsDQpDLGMsMjAsQ19jXzIwLDI0NSw4LDUsMywyLDEsMyxUUlVFLA0KRSxkLDIwLEVfZF8yMCwyNDYsOCw2LDMsNiw3LDEzLFRSVUUsDQpOLGIsMTksTl9iXzE5LDI0Nyw4LDcsMywzLDEsNCxUUlVFLA0KSSxnLDEyLElfZ18xMiwyNDgsOCw4LDMsNSw1LDEwLFRSVUUsDQpELGcsMjMsRF9nXzIzLDI0OSw4LDEsNCwwLDAsMCxGQUxTRSwNClQsaSwxLFRfaV8xLDI1MCw4LDIsNCwxMiwwLDEyLFRSVUUsDQpLLGUsMTksS19lXzE5LDI1MSw4LDMsNCwwLDAsMCxGQUxTRSwNCk8sZywxOCxPX2dfMTgsMjUyLDgsNCw0LDExLDAsMTEsVFJVRSwNCk0sZSwxLE1fZV8xLDI1Myw4LDUsNCwxMTIsMSwxMTMsVFJVRSwNCk0saCwxMSxNX2hfMTEsMjU0LDgsNiw0LDMzLDEsMzQsVFJVRSwNClMsaiwxMixTX2pfMTIsMjU1LDgsNyw0LDAsMCwwLEZBTFNFLA0KVSxiLDE4LFVfYl8xOCwyNTYsOCw4LDQsMTAsMCwxMCxUUlVFLA0KUSxkLDExLFFfZF8xMSwyNTcsOSwxLDEsMCwwLDAsRkFMU0UsDQpFLGcsMSxFX2dfMSwyNTgsOSwyLDEsMSwwLDEsVFJVRSwNCkQsaSwxMSxEX2lfMTEsMjU5LDksMywxLDMsMTAsMTMsVFJVRSwNCk8sZCwzMCxPX2RfMzAsMjYwLDksNCwxLDAsMCwwLEZBTFNFLA0KTCxiLDExLExfYl8xMSwyNjEsOSw1LDEsMzksMSw0MCxUUlVFLA0KTixqLDMwLE5fal8zMCwyNjIsOSw2LDEsMzksMCwzOSxUUlVFLA0KRixjLDEsRl9jXzEsMjYzLDksNywxLDQ3LDAsNDcsVFJVRSwNCkksYiwxOCxJX2JfMTgsMjY0LDksOCwxLDMsMyw2LFRSVUUsDQpJLGEsMTIsSV9hXzEyLDI2NSw5LDEsMiwxNiwxNCwzMCxUUlVFLA0KVCxmLDEsVF9mXzEsMjY2LDksMiwyLDAsMCwwLEZBTFNFLA0KQyxkLDMwLENfZF8zMCwyNjcsOSwzLDIsMCwwLDAsRkFMU0UsDQpHLGcsMTIsR19nXzEyLDI2OCw5LDQsMiwwLDIsMixUUlVFLA0KTixkLDIzLE5fZF8yMywyNjksOSw1LDIsMCwwLDAsRkFMU0UsDQpULGosMzAsVF9qXzMwLDI3MCw5LDYsMiwyLDAsMixUUlVFLA0KUyxhLDI3LFNfYV8yNywyNzEsOSw3LDIsMSw0LDUsVFJVRSwNCkIsaSwxMixCX2lfMTIsMjcyLDksOCwyLDAsMCwwLEZBTFNFLA0KTCxpLDE4LExfaV8xOCwyNzMsOSwxLDMsMiwwLDIsVFJVRSwNClIsYiwxOSxSX2JfMTksMjc0LDksMiwzLDE4LDAsMTgsVFJVRSwNCkEsaSwxMixBX2lfMTIsMjc1LDksMywzLDE0LDAsMTQsVFJVRSwNCkEsYiwxLEFfYl8xLDI3Niw5LDQsMywxLDIsMyxUUlVFLA0KUSxmLDEyLFFfZl8xMiwyNzcsOSw1LDMsOSwwLDksVFJVRSwNClEsZSwxOSxRX2VfMTksMjc4LDksNiwzLDE1LDAsMTUsVFJVRSwNClEsaSwxMSxRX2lfMTEsMjc5LDksNywzLDUsNSwxMCxUUlVFLA0KUyxlLDMwLFNfZV8zMCwyODAsOSw4LDMsMTIsMywxNSxUUlVFLA0KUSxpLDEyLFFfaV8xMiwyODEsOSwxLDQsMSw0LDUsVFJVRSwNCkYsYiwxMixGX2JfMTIsMjgyLDksMiw0LDAsMCwwLEZBTFNFLA0KVCxlLDQsVF9lXzQsMjgzLDksMyw0LDAsMCwwLEZBTFNFLA0KTCxmLDI3LExfZl8yNywyODQsOSw0LDQsMCwwLDAsRkFMU0UsDQpELGksMTIsRF9pXzEyLDI4NSw5LDUsNCwwLDAsMCxGQUxTRSwNClIsaiw0LFJfal80LDI4Niw5LDYsNCwwLDAsMCxGQUxTRSwNCkssYSwxMSxLX2FfMTEsMjg3LDksNyw0LDAsMCwwLEZBTFNFLA0KTSxpLDMwLE1faV8zMCwyODgsOSw4LDQsMCwwLDAsRkFMU0UsDQpNLGcsMTEsTV9nXzExLDI4OSwxMCwxLDEsNywwLDcsVFJVRSwNCkIsYywyNyxCX2NfMjcsMjkwLDEwLDIsMSw3LDIsOSxUUlVFLA0KUCxiLDExLFBfYl8xMSwyOTEsMTAsMywxLDMsMCwzLFRSVUUsDQpBLGMsMjcsQV9jXzI3LDI5MiwxMCw0LDEsMiwxNSwxNyxUUlVFLA0KVSxhLDMwLFVfYV8zMCwyOTMsMTAsNSwxLDQ2LDAsNDYsVFJVRSwNCkEsYSwxOCxBX2FfMTgsMjk0LDEwLDYsMSwyNCwwLDI0LFRSVUUsDQpTLGIsMTksU19iXzE5LDI5NSwxMCw3LDEsOCwwLDgsVFJVRSwNCkYsaSwxOCxGX2lfMTgsMjk2LDEwLDgsMSwxLDAsMSxUUlVFLA0KTSxiLDI3LE1fYl8yNywyOTcsMTAsMSwyLDEsMCwxLFRSVUUsDQpILGksNCxIX2lfNCwyOTgsMTAsMiwyLDAsMCwwLEZBTFNFLA0KTixqLDEyLE5fal8xMiwyOTksMTAsMywyLDAsMCwwLEZBTFNFLA0KUixhLDMwLFJfYV8zMCwzMDAsMTAsNCwyLDEsMTAsMTEsVFJVRSwNCkYsZSwzMCxGX2VfMzAsMzAxLDEwLDUsMiwyLDAsMixUUlVFLA0KTyxhLDE5LE9fYV8xOSwzMDIsMTAsNiwyLDMsMCwzLFRSVUUsDQpRLGosMSxRX2pfMSwzMDMsMTAsNywyLDAsMTgsMTgsVFJVRSwNClEsYSwyMCxRX2FfMjAsMzA0LDEwLDgsMiwxLDAsMSxUUlVFLA0KSyxjLDIzLEtfY18yMywzMDUsMTAsMSwzLDAsMCwwLEZBTFNFLA0KVSxpLDQsVV9pXzQsMzA2LDEwLDIsMywxLDEsMixUUlVFLA0KRSxlLDI3LEVfZV8yNywzMDcsMTAsMywzLDQsMTMsMTcsVFJVRSwNClIsYSwxMixSX2FfMTIsMzA4LDEwLDQsMywyLDI4LDMwLFRSVUUsDQpNLGUsMTksTV9lXzE5LDMwOSwxMCw1LDMsMCw0LDQsVFJVRSwNCkssZiwyMCxLX2ZfMjAsMzEwLDEwLDYsMywwLDExLDExLFRSVUUsDQpNLGcsMTIsTV9nXzEyLDMxMSwxMCw3LDMsOCwxLDksVFJVRSwNCkIsYywxMixCX2NfMTIsMzEyLDEwLDgsMywyOSwwLDI5LFRSVUUsDQpJLGIsNCxJX2JfNCwzMTMsMTAsMSw0LDEsMSwyLFRSVUUsDQpQLGYsMTgsUF9mXzE4LDMxNCwxMCwyLDQsNCwwLDQsVFJVRSwNClQsYywyMyxUX2NfMjMsMzE1LDEwLDMsNCw4LDAsOCxUUlVFLA0KRyxoLDE4LEdfaF8xOCwzMTYsMTAsNCw0LDMsMCwzLFRSVUUsDQpDLGgsMSxDX2hfMSwzMTcsMTAsNSw0LDAsMCwwLEZBTFNFLA0KSyxmLDMwLEtfZl8zMCwzMTgsMTAsNiw0LDEsMCwxLFRSVUUsDQpFLGUsMjMsRV9lXzIzLDMxOSwxMCw3LDQsMCwwLDAsRkFMU0UsDQpILGksMTIsSF9pXzEyLDMyMCwxMCw4LDQsMCwwLDAsRkFMU0UsDQpGLGYsMjcsRl9mXzI3LDMyMSwxMSwxLDEsMCwwLDAsRkFMU0UsDQpRLGUsMjcsUV9lXzI3LDMyMiwxMSwyLDEsNSwzLDgsVFJVRSwNCkwsZCw0LExfZF80LDMyMywxMSwzLDEsMTksMCwxOSxUUlVFLA0KRCxqLDE5LERfal8xOSwzMjQsMTEsNCwxLDQsMCw0LFRSVUUsDQpPLGcsMTIsT19nXzEyLDMyNSwxMSw1LDEsMiwwLDIsVFJVRSwNCkcsZSwxOSxHX2VfMTksMzI2LDExLDYsMSw2LDAsNixUUlVFLA0KRSxpLDQsRV9pXzQsMzI3LDExLDcsMSwzLDAsMyxUUlVFLA0KSSxoLDE4LElfaF8xOCwzMjgsMTEsOCwxLDAsMCwwLEZBTFNFLA0KUCxhLDEyLFBfYV8xMiwzMjksMTEsMSwyLDYsMCw2LFRSVUUsDQpSLGQsMzAsUl9kXzMwLDMzMCwxMSwyLDIsMCwxLDEsVFJVRSwNClAsZiwxMSxQX2ZfMTEsMzMxLDExLDMsMiwxLDAsMSxUUlVFLA0KUyxlLDE5LFNfZV8xOSwzMzIsMTEsNCwyLDAsMCwwLEZBTFNFLA0KQixoLDE5LEJfaF8xOSwzMzMsMTEsNSwyLDcsMCw3LFRSVUUsDQpDLGUsMjcsQ19lXzI3LDMzNCwxMSw2LDIsMCwwLDAsRkFMU0UsDQpILGYsMjAsSF9mXzIwLDMzNSwxMSw3LDIsMSwwLDEsVFJVRSwNClAsZSwxLFBfZV8xLDMzNiwxMSw4LDIsMywxLDQsVFJVRSwNCkcsaCw0LEdfaF80LDMzNywxMSwxLDMsMiwwLDIsVFJVRSwNCkgsYywxLEhfY18xLDMzOCwxMSwyLDMsNDIsMiw0NCxUUlVFLA0KRSxpLDE4LEVfaV8xOCwzMzksMTEsMywzLDQ0LDAsNDQsVFJVRSwNCkksaCwxMSxJX2hfMTEsMzQwLDExLDQsMywzLDAsMyxUUlVFLA0KTSxoLDE5LE1faF8xOSwzNDEsMTEsNSwzLDM3LDEzLDUwLFRSVUUsDQpULGYsMjcsVF9mXzI3LDM0MiwxMSw2LDMsNCwxMCwxNCxUUlVFLA0KTCxkLDIzLExfZF8yMywzNDMsMTEsNywzLDE1LDI3LDQyLFRSVUUsDQpKLGYsMjAsSl9mXzIwLDM0NCwxMSw4LDMsMCwwLDAsRkFMU0UsDQpGLGcsMTEsRl9nXzExLDM0NSwxMSwxLDQsMywwLDMsVFJVRSwNClAsaSwzMCxQX2lfMzAsMzQ2LDExLDIsNCwwLDAsMCxGQUxTRSwNCkksaSwxMixJX2lfMTIsMzQ3LDExLDMsNCwxLDYsNyxUUlVFLA0KSCxqLDI3LEhfal8yNywzNDgsMTEsNCw0LDEsMCwxLFRSVUUsDQpNLGYsMTgsTV9mXzE4LDM0OSwxMSw1LDQsMCwwLDAsRkFMU0UsDQpVLGMsMSxVX2NfMSwzNTAsMTEsNiw0LDAsMCwwLEZBTFNFLA0KUCxhLDE4LFBfYV8xOCwzNTEsMTEsNyw0LDEsMCwxLFRSVUUsDQpELGosMSxEX2pfMSwzNTIsMTEsOCw0LDIsMCwyLFRSVUUsDQpULGMsMjAsVF9jXzIwLDM1MywxMiwxLDEsNSwzLDgsVFJVRSwNClEsaSwzMCxRX2lfMzAsMzU0LDEyLDIsMSwwLDAsMCxGQUxTRSwNCkQsZSwxOSxEX2VfMTksMzU1LDEyLDMsMSwwLDAsMCxGQUxTRSwNCk4saSwzMCxOX2lfMzAsMzU2LDEyLDQsMSwyLDEsMyxUUlVFLA0KTCxqLDI3LExfal8yNywzNTcsMTIsNSwxLDAsMSwxLFRSVUUsDQpELGQsNCxEX2RfNCwzNTgsMTIsNiwxLDIsMCwyLFRSVUUsDQpTLGgsMTksU19oXzE5LDM1OSwxMiw3LDEsNywwLDcsVFJVRSwNCkMsaSwzMCxDX2lfMzAsMzYwLDEyLDgsMSw1LDAsNSxUUlVFLA0KTyxoLDQsT19oXzQsMzYxLDEyLDEsMiwxLDEsMixUUlVFLA0KTCxiLDEsTF9iXzEsMzYyLDEyLDIsMiwwLDQsNCxUUlVFLA0KRSxnLDIzLEVfZ18yMywzNjMsMTIsMywyLDgsNywxNSxUUlVFLA0KRSxkLDE5LEVfZF8xOSwzNjQsMTIsNCwyLDQsMCw0LFRSVUUsDQpFLGosMSxFX2pfMSwzNjUsMTIsNSwyLDAsMCwwLEZBTFNFLA0KTCxnLDIwLExfZ18yMCwzNjYsMTIsNiwyLDAsMCwwLEZBTFNFLA0KQSxoLDE4LEFfaF8xOCwzNjcsMTIsNywyLDMsMCwzLFRSVUUsDQpBLGEsMTEsQV9hXzExLDM2OCwxMiw4LDIsNyw4LDE1LFRSVUUsDQpJLGosMTEsSV9qXzExLDM2OSwxMiwxLDMsMCwwLDAsRkFMU0UsDQpTLGEsMjMsU19hXzIzLDM3MCwxMiwyLDMsMCwxNSwxNSxUUlVFLA0KSSxmLDMwLElfZl8zMCwzNzEsMTIsMywzLDAsMCwwLEZBTFNFLA0KRCxpLDE4LERfaV8xOCwzNzIsMTIsNCwzLDIsMjEsMjMsVFJVRSwNCk8sZiwyMCxPX2ZfMjAsMzczLDEyLDUsMywwLDQsNCxUUlVFLA0KUCxjLDEyLFBfY18xMiwzNzQsMTIsNiwzLDEwLDAsMTAsVFJVRSwNCk8saCwxOSxPX2hfMTksMzc1LDEyLDcsMyw2NCwwLDY0LFRSVUUsDQpKLGMsMSxKX2NfMSwzNzYsMTIsOCwzLDQ1LDQzLDg4LFRSVUUsDQpBLGgsMTEsQV9oXzExLDM3NywxMiwxLDQsMSwwLDEsVFJVRSwNCkMsZywyMCxDX2dfMjAsMzc4LDEyLDIsNCwwLDAsMCxGQUxTRSwNCkssaCwxLEtfaF8xLDM3OSwxMiwzLDQsMCwzLDMsVFJVRSwNCkEsYywxMixBX2NfMTIsMzgwLDEyLDQsNCwwLDAsMCxGQUxTRSwNCkssaiwzMCxLX2pfMzAsMzgxLDEyLDUsNCwwLDAsMCxGQUxTRSwNCkosYywyNyxKX2NfMjcsMzgyLDEyLDYsNCwwLDAsMCxGQUxTRSwNCkIsYiwxOSxCX2JfMTksMzgzLDEyLDcsNCwwLDAsMCxGQUxTRSwNCk0sYSwyMyxNX2FfMjMsMzg0LDEyLDgsNCwxLDAsMSxUUlVFLA0KSCxiLDEsSF9iXzEsMzg1LDEzLDEsMSwyLDEsMyxUUlVFLA0KTixiLDQsTl9iXzQsMzg2LDEzLDIsMSwxLDMsNCxUUlVFLA0KRyxkLDEyLEdfZF8xMiwzODcsMTMsMywxLDEzLDQsMTcsVFJVRSwNClEsaiwxMixRX2pfMTIsMzg4LDEzLDQsMSwxMSwwLDExLFRSVUUsDQpILGksMTgsSF9pXzE4LDM4OSwxMyw1LDEsMCwyLDIsVFJVRSwNClIsZiwyNyxSX2ZfMjcsMzkwLDEzLDYsMSwwLDEsMSxUUlVFLA0KRCxhLDEyLERfYV8xMiwzOTEsMTMsNywxLDAsMCwwLEZBTFNFLA0KUCxlLDE5LFBfZV8xOSwzOTIsMTMsOCwxLDAsMiwyLFRSVUUsDQpOLGYsMjAsTl9mXzIwLDM5MywxMywxLDIsNywwLDcsVFJVRSwNCkQsZywxMixEX2dfMTIsMzk0LDEzLDIsMiwwLDEsMSxUUlVFLA0KVCxlLDMwLFRfZV8zMCwzOTUsMTMsMywyLDIsMCwyLFRSVUUsDQpMLGosMSxMX2pfMSwzOTYsMTMsNCwyLDAsMCwwLEZBTFNFLA0KSSxpLDMwLElfaV8zMCwzOTcsMTMsNSwyLDMsMCwzLFRSVUUsDQpVLGMsMjMsVV9jXzIzLDM5OCwxMyw2LDIsNiwwLDYsVFJVRSwNCkcsYywyMCxHX2NfMjAsMzk5LDEzLDcsMiwwLDAsMCxGQUxTRSwNCkEsZiwxMixBX2ZfMTIsNDAwLDEzLDgsMiw0LDQsOCxUUlVFLA0KQyxpLDI3LENfaV8yNyw0MDEsMTMsMSwzLDksMCw5LFRSVUUsDQpELGosMzAsRF9qXzMwLDQwMiwxMywyLDMsMCwwLDAsRkFMU0UsDQpTLGksMTgsU19pXzE4LDQwMywxMywzLDMsMCwwLDAsRkFMU0UsDQpRLGMsMjAsUV9jXzIwLDQwNCwxMyw0LDMsMTIsMjksNDEsVFJVRSwNCk8sYSwxOCxPX2FfMTgsNDA1LDEzLDUsMywwLDcsNyxUUlVFLA0KSixkLDIzLEpfZF8yMyw0MDYsMTMsNiwzLDAsMCwwLEZBTFNFLA0KTSxhLDEyLE1fYV8xMiw0MDcsMTMsNywzLDE0LDAsMTQsVFJVRSwNCk4sZSwxOCxOX2VfMTgsNDA4LDEzLDgsMywxNSwwLDE1LFRSVUUsDQpHLGEsMTksR19hXzE5LDQwOSwxMywxLDQsMywwLDMsVFJVRSwNClUsaiwyNyxVX2pfMjcsNDEwLDEzLDIsNCwwLDAsMCxGQUxTRSwNCkQsZCwyMyxEX2RfMjMsNDExLDEzLDMsNCw1LDAsNSxUUlVFLA0KRyxlLDI3LEdfZV8yNyw0MTIsMTMsNCw0LDAsMSwxLFRSVUUsDQpHLGQsMzAsR19kXzMwLDQxMywxMyw1LDQsMiwwLDIsVFJVRSwNCkksaCwxLElfaF8xLDQxNCwxMyw2LDQsNSwwLDUsVFJVRSwNCkIsYyw0LEJfY180LDQxNSwxMyw3LDQsMCwwLDAsRkFMU0UsDQpSLGQsNCxSX2RfNCw0MTYsMTMsOCw0LDUsMCw1LFRSVUUsDQpDLGEsMTIsQ19hXzEyLDQxNywxNCwxLDEsMywwLDMsVFJVRSwNCkYsZywyMCxGX2dfMjAsNDE4LDE0LDIsMSwzLDAsMyxUUlVFLA0KRSxqLDExLEVfal8xMSw0MTksMTQsMywxLDEsMCwxLFRSVUUsDQpNLGgsMSxNX2hfMSw0MjAsMTQsNCwxLDIwLDAsMjAsVFJVRSwNCkssZSwyNyxLX2VfMjcsNDIxLDE0LDUsMSw5LDAsOSxUUlVFLA0KUSxmLDIwLFFfZl8yMCw0MjIsMTQsNiwxLDEsNiw3LFRSVUUsDQpCLGcsMSxCX2dfMSw0MjMsMTQsNywxLDQsNSw5LFRSVUUsDQpHLGMsTkEsR19jX05BLDQyNCwxNCw4LDEsMCwwLDAsRkFMU0UsDQpKLGQsMTEsSl9kXzExLDQyNSwxNCwxLDIsMCwwLDAsRkFMU0UsDQpGLGMsMjcsRl9jXzI3LDQyNiwxNCwyLDIsMCwwLDAsRkFMU0UsDQpCLGcsMjAsQl9nXzIwLDQyNywxNCwzLDIsMCwwLDAsRkFMU0UsDQpMLGQsMTEsTF9kXzExLDQyOCwxNCw0LDIsMSwzLDQsVFJVRSwNCkwsYywyMCxMX2NfMjAsNDI5LDE0LDUsMiwwLDAsMCxGQUxTRSwNCkosYSwxOCxKX2FfMTgsNDMwLDE0LDYsMiwwLDAsMCxGQUxTRSwNCkgsaiwxLEhfal8xLDQzMSwxNCw3LDIsMSwxLDIsVFJVRSwNClUsaSwxMSxVX2lfMTEsNDMyLDE0LDgsMiwxNiwwLDE2LFRSVUUsDQpVLGosMSxVX2pfMSw0MzMsMTQsMSwzLDEwLDEzLDIzLFRSVUUsDQpKLGcsMTgsSl9nXzE4LDQzNCwxNCwyLDMsNywxLDgsVFJVRSwNCkIsZCw0LEJfZF80LDQzNSwxNCwzLDMsMzksMCwzOSxUUlVFLA0KRCxkLDIwLERfZF8yMCw0MzYsMTQsNCwzLDEsNyw4LFRSVUUsDQpFLGcsMTIsRV9nXzEyLDQzNywxNCw1LDMsNywzLDEwLFRSVUUsDQpVLGQsNCxVX2RfNCw0MzgsMTQsNiwzLDAsMjQsMjQsVFJVRSwNClAsZywxOSxQX2dfMTksNDM5LDE0LDcsMyw3LDUsMTIsVFJVRSwNCkssZCwyMyxLX2RfMjMsNDQwLDE0LDgsMywyMyw4LDMxLFRSVUUsDQpILGgsMTEsSF9oXzExLDQ0MSwxNCwxLDQsMiwwLDIsVFJVRSwNCk0sZCwxMSxNX2RfMTEsNDQyLDE0LDIsNCwwLDAsMCxGQUxTRSwNCkEsZiwyNyxBX2ZfMjcsNDQzLDE0LDMsNCwzLDAsMyxUUlVFLA0KVCxhLDEyLFRfYV8xMiw0NDQsMTQsNCw0LDAsMCwwLEZBTFNFLA0KSCxjLDI3LEhfY18yNyw0NDUsMTQsNSw0LDMsMSw0LFRSVUUsDQpVLGQsMTEsVV9kXzExLDQ0NiwxNCw2LDQsMywwLDMsVFJVRSwNCkwsYyw0LExfY180LDQ0NywxNCw3LDQsMCwwLDAsRkFMU0UsDQpRLGEsMzAsUV9hXzMwLDQ0OCwxNCw4LDQsNSwxLDYsVFJVRSwNClQsZywyMCxUX2dfMjAsNDQ5LDE1LDEsMSwxLDUsNixUUlVFLA0KVSxjLDQsVV9jXzQsNDUwLDE1LDIsMSw0LDIsNixUUlVFLA0KVSxiLDExLFVfYl8xMSw0NTEsMTUsMywxLDgsMSw5LFRSVUUsDQpULGYsMjMsVF9mXzIzLDQ1MiwxNSw0LDEsOSwwLDksVFJVRSwNClAsaCwxOSxQX2hfMTksNDUzLDE1LDUsMSwzLDAsMyxUUlVFLA0KUixqLDI3LFJfal8yNyw0NTQsMTUsNiwxLDAsMCwwLEZBTFNFLA0KQyxnLDIzLENfZ18yMyw0NTUsMTUsNywxLDEsMCwxLFRSVUUsDQpNLGUsMjAsTV9lXzIwLDQ1NiwxNSw4LDEsNSw0LDksVFJVRSwNCkEsZSwyMCxBX2VfMjAsNDU3LDE1LDEsMiw2LDAsNixUUlVFLA0KVSxqLDEyLFVfal8xMiw0NTgsMTUsMiwyLDAsMCwwLEZBTFNFLA0KTixhLDExLE5fYV8xMSw0NTksMTUsMywyLDEsMSwyLFRSVUUsDQpLLGosMTIsS19qXzEyLDQ2MCwxNSw0LDIsMCwxNSwxNSxUUlVFLA0KRCxpLDI3LERfaV8yNyw0NjEsMTUsNSwyLDAsMCwwLEZBTFNFLA0KRixoLDExLEZfaF8xMSw0NjIsMTUsNiwyLDUsMCw1LFRSVUUsDQpGLGcsMTgsRl9nXzE4LDQ2MywxNSw3LDIsMywxLDQsVFJVRSwNClAsYiw0LFBfYl80LDQ2NCwxNSw4LDIsMiwxLDMsVFJVRSwNCkksaSwxOCxJX2lfMTgsNDY1LDE1LDEsMywxLDMsNCxUUlVFLA0KUyxiLDE4LFNfYl8xOCw0NjYsMTUsMiwzLDAsNDMsNDMsVFJVRSwNCkUsYiwxLEVfYl8xLDQ2NywxNSwzLDMsNDIsMCw0MixUUlVFLA0KUixqLDEyLFJfal8xMiw0NjgsMTUsNCwzLDIsOSwxMSxUUlVFLA0KSCxpLDI3LEhfaV8yNyw0NjksMTUsNSwzLDEyLDAsMTIsVFJVRSwNClMsaCwxLFNfaF8xLDQ3MCwxNSw2LDMsNCwwLDQsVFJVRSwNClMsYyw0LFNfY180LDQ3MSwxNSw3LDMsMTAzLDAsMTAzLFRSVUUsDQpILGgsMSxIX2hfMSw0NzIsMTUsOCwzLDUsMSw2LFRSVUUsDQpPLGosMTIsT19qXzEyLDQ3MywxNSwxLDQsMiwwLDIsVFJVRSwNClAsYiwzMCxQX2JfMzAsNDc0LDE1LDIsNCw2LDAsNixUUlVFLA0KUixjLDIzLFJfY18yMyw0NzUsMTUsMyw0LDAsMCwwLEZBTFNFLA0KUSxlLDIzLFFfZV8yMyw0NzYsMTUsNCw0LDQsMCw0LFRSVUUsDQpLLGksMTgsS19pXzE4LDQ3NywxNSw1LDQsMSwwLDEsVFJVRSwNClMsZSwyMyxTX2VfMjMsNDc4LDE1LDYsNCwwLDAsMCxGQUxTRSwNClIsZSwyMyxSX2VfMjMsNDc5LDE1LDcsNCw0LDAsNCxUUlVFLA0KQixpLDEsQl9pXzEsNDgwLDE1LDgsNCw2LDAsNixUUlVFLA0KSyxjLDE5LEtfY18xOSw0ODEsMTYsMSwxLDAsMCwwLEZBTFNFLA0KTSxhLDExLE1fYV8xMSw0ODIsMTYsMiwxLDIsOSwxMSxUUlVFLA0KQixiLDE4LEJfYl8xOCw0ODMsMTYsMywxLDAsMCwwLEZBTFNFLA0KSSxkLDI3LElfZF8yNyw0ODQsMTYsNCwxLDcsMCw3LFRSVUUsDQpULGosMTIsVF9qXzEyLDQ4NSwxNiw1LDEsNywwLDcsVFJVRSwNCk0sZiwyNyxNX2ZfMjcsNDg2LDE2LDYsMSw5LDAsOSxUUlVFLA0KRixoLDE5LEZfaF8xOSw0ODcsMTYsNywxLDAsMCwwLEZBTFNFLA0KTixkLDExLE5fZF8xMSw0ODgsMTYsOCwxLDQsMCw0LFRSVUUsDQpNLGcsMjMsTV9nXzIzLDQ4OSwxNiwxLDIsMCwwLDAsRkFMU0UsDQpHLGgsMSxHX2hfMSw0OTAsMTYsMiwyLDMsMSw0LFRSVUUsDQpULGMsMTgsVF9jXzE4LDQ5MSwxNiwzLDIsNCwwLDQsVFJVRSwNCkgsYiwyNyxIX2JfMjcsNDkyLDE2LDQsMiwwLDAsMCxGQUxTRSwNCk8sZCwyNyxPX2RfMjcsNDkzLDE2LDUsMiwwLDYsNixUUlVFLA0KRSxiLDI3LEVfYl8yNyw0OTQsMTYsNiwyLDAsMCwwLEZBTFNFLA0KTyxmLDIzLE9fZl8yMyw0OTUsMTYsNywyLDIsMCwyLFRSVUUsDQpNLGQsMTksTV9kXzE5LDQ5NiwxNiw4LDIsMjEsMiwyMyxUUlVFLA0KSCxqLDMwLEhfal8zMCw0OTcsMTYsMSwzLDEsMSwyLFRSVUUsDQpBLGMsNCxBX2NfNCw0OTgsMTYsMiwzLDEsMSwyLFRSVUUsDQpGLGgsMSxGX2hfMSw0OTksMTYsMywzLDExLDkzLDEwNCxUUlVFLA0KQyxiLDEsQ19iXzEsNTAwLDE2LDQsMyw2LDE0LDIwLFRSVUUsDQpBLGgsNCxBX2hfNCw1MDEsMTYsNSwzLDIsNCw2LFRSVUUsDQpPLGMsMTIsT19jXzEyLDUwMiwxNiw2LDMsMjIsMCwyMixUUlVFLA0KUCxlLDIzLFBfZV8yMyw1MDMsMTYsNywzLDAsMSwxLFRSVUUsDQpHLGEsMTgsR19hXzE4LDUwNCwxNiw4LDMsMCwyLDIsVFJVRSwNClAsZSwyMCxQX2VfMjAsNTA1LDE2LDEsNCwwLDAsMCxGQUxTRSwNCkwsZywxOCxMX2dfMTgsNTA2LDE2LDIsNCw0LDAsNCxUUlVFLA0KQSxiLDMwLEFfYl8zMCw1MDcsMTYsMyw0LDEsMCwxLFRSVUUsDQpQLGMsNCxQX2NfNCw1MDgsMTYsNCw0LDAsMCwwLEZBTFNFLA0KQyxlLDIzLENfZV8yMyw1MDksMTYsNSw0LDIsMSwzLFRSVUUsDQpDLGIsMzAsQ19iXzMwLDUxMCwxNiw2LDQsMCwwLDAsRkFMU0UsDQpOLGUsMSxOX2VfMSw1MTEsMTYsNyw0LDAsMCwwLEZBTFNFLA0KVSxpLDE4LFVfaV8xOCw1MTIsMTYsOCw0LDAsMCwwLEZBTFNFLA0KUixjLDEyLFJfY18xMiw1MTMsMTcsMSwxLDAsMCwwLEZBTFNFLA0KQyxjLDQsQ19jXzQsNTE0LDE3LDIsMSwyMywxLDI0LFRSVUUsDQpKLGMsMjAsSl9jXzIwLDUxNSwxNywzLDEsNDcsMCw0NyxUUlVFLA0KVSxlLDE5LFVfZV8xOSw1MTYsMTcsNCwxLDIxLDAsMjEsVFJVRSwNClAsZiwxLFBfZl8xLDUxNywxNyw1LDEsMTksMCwxOSxUUlVFLA0KTixlLDI3LE5fZV8yNyw1MTgsMTcsNiwxLDEsMCwxLFRSVUUsDQpILGYsMzAsSF9mXzMwLDUxOSwxNyw3LDEsMCwwLDAsRkFMU0UsDQpRLGMsMTIsUV9jXzEyLDUyMCwxNyw4LDEsMiwwLDIsVFJVRSwNClMsYywxOCxTX2NfMTgsNTIxLDE3LDEsMiwwLDAsMCxGQUxTRSwNCkosaCw0LEpfaF80LDUyMiwxNywyLDIsMSwwLDEsVFJVRSwNCkQsYSwxOSxEX2FfMTksNTIzLDE3LDMsMiw3LDAsNyxUUlVFLA0KSSxiLDEsSV9iXzEsNTI0LDE3LDQsMiwwLDAsMCxGQUxTRSwNCkEsYywxOCxBX2NfMTgsNTI1LDE3LDUsMiwwLDAsMCxGQUxTRSwNCk0saSwxOCxNX2lfMTgsNTI2LDE3LDYsMiw0LDIsNixUUlVFLA0KUSxmLDMwLFFfZl8zMCw1MjcsMTcsNywyLDMsMCwzLFRSVUUsDQpTLGIsMTEsU19iXzExLDUyOCwxNyw4LDIsNDcsMSw0OCxUUlVFLA0KRyxkLDQsR19kXzQsNTI5LDE3LDEsMyw4LDMsMTEsVFJVRSwNCkIsYiwxMSxCX2JfMTEsNTMwLDE3LDIsMyw0LDE1LDE5LFRSVUUsDQpULGcsMjMsVF9nXzIzLDUzMSwxNywzLDMsNCwyLDYsVFJVRSwNCkEsZiwyMCxBX2ZfMjAsNTMyLDE3LDQsMyw2LDUsMTEsVFJVRSwNClMsZywxMixTX2dfMTIsNTMzLDE3LDUsMywyNSwwLDI1LFRSVUUsDQpMLGosMzAsTF9qXzMwLDUzNCwxNyw2LDMsMTcsMCwxNyxUUlVFLA0KRixmLDIwLEZfZl8yMCw1MzUsMTcsNywzLDM3LDAsMzcsVFJVRSwNClUsYywxOCxVX2NfMTgsNTM2LDE3LDgsMywxMCwxMCwyMCxUUlVFLA0KQSxpLDMwLEFfaV8zMCw1MzcsMTcsMSw0LDAsMCwwLEZBTFNFLA0KRCxjLDI3LERfY18yNyw1MzgsMTcsMiw0LDAsMCwwLEZBTFNFLA0KVCxnLDEyLFRfZ18xMiw1MzksMTcsMyw0LDUsMCw1LFRSVUUsDQpMLGgsMjMsTF9oXzIzLDU0MCwxNyw0LDQsNCwwLDQsVFJVRSwNClAsaCwxLFBfaF8xLDU0MSwxNyw1LDQsMSwwLDEsVFJVRSwNCkcsYiw0LEdfYl80LDU0MiwxNyw2LDQsMiwyLDQsVFJVRSwNClEsZCwyMCxRX2RfMjAsNTQzLDE3LDcsNCwwLDEsMSxUUlVFLA0KSixoLDE5LEpfaF8xOSw1NDQsMTcsOCw0LDAsMCwwLEZBTFNFLA0KQSxmLDMwLEFfZl8zMCw1NDUsMTgsMSwxLDMsMCwzLFRSVUUsDQpJLGksMSxJX2lfMSw1NDYsMTgsMiwxLDQsMSw1LFRSVUUsDQpSLGIsMTIsUl9iXzEyLDU0NywxOCwzLDEsMTAsMiwxMixUUlVFLA0KUyxpLDI3LFNfaV8yNyw1NDgsMTgsNCwxLDUyLDAsNTIsVFJVRSwNCkgsaiwxMixIX2pfMTIsNTQ5LDE4LDUsMSwxMSwwLDExLFRSVUUsDQpULGUsMTksVF9lXzE5LDU1MCwxOCw2LDEsMSwwLDEsVFJVRSwNCkosZiwzMCxKX2ZfMzAsNTUxLDE4LDcsMSwxNCwxLDE1LFRSVUUsDQpSLGUsMjAsUl9lXzIwLDU1MiwxOCw4LDEsMTEsMSwxMixUUlVFLA0KTixiLDEsTl9iXzEsNTUzLDE4LDEsMiwyLDAsMixUUlVFLA0KSyxkLDExLEtfZF8xMSw1NTQsMTgsMiwyLDEsMCwxLFRSVUUsDQpCLGIsMSxCX2JfMSw1NTUsMTgsMywyLDAsMCwwLEZBTFNFLA0KRSxpLDEsRV9pXzEsNTU2LDE4LDQsMiwwLDAsMCxGQUxTRSwNClQsaCwxOSxUX2hfMTksNTU3LDE4LDUsMiwzLDEsNCxUUlVFLA0KTixpLDEsTl9pXzEsNTU4LDE4LDYsMiwxLDAsMSxUUlVFLA0KRixiLDEsRl9iXzEsNTU5LDE4LDcsMiw2LDAsNixUUlVFLA0KSyxmLDIzLEtfZl8yMyw1NjAsMTgsOCwyLDIwLDAsMjAsVFJVRSwNClUsYSwyMyxVX2FfMjMsNTYxLDE4LDEsMywwLDAsMCxGQUxTRSwNClQsYSwxMSxUX2FfMTEsNTYyLDE4LDIsMywyLDIsNCxUUlVFLA0KUixmLDIwLFJfZl8yMCw1NjMsMTgsMywzLDEwLDQsMTQsVFJVRSwNClQsZSwyMyxUX2VfMjMsNTY0LDE4LDQsMywyOCwxLDI5LFRSVUUsDQpULGgsMSxUX2hfMSw1NjUsMTgsNSwzLDI5LDE0LDQzLFRSVUUsDQpSLGcsMTIsUl9nXzEyLDU2NiwxOCw2LDMsNzIsMjAsOTIsVFJVRSwNCkwsZiwyMCxMX2ZfMjAsNTY3LDE4LDcsMyw1NSwyNiw4MSxUUlVFLA0KSSxkLDIwLElfZF8yMCw1NjgsMTgsOCwzLDMwLDAsMzAsVFJVRSwNClUsYSwxOSxVX2FfMTksNTY5LDE4LDEsNCwwLDAsMCxGQUxTRSwNCk4sZiwyMyxOX2ZfMjMsNTcwLDE4LDIsNCw0LDAsNCxUUlVFLA0KTyxkLDIzLE9fZF8yMyw1NzEsMTgsMyw0LDAsMSwxLFRSVUUsDQpJLGQsMTksSV9kXzE5LDU3MiwxOCw0LDQsMCwwLDAsRkFMU0UsDQpNLGIsMzAsTV9iXzMwLDU3MywxOCw1LDQsMCwxLDEsVFJVRSwNCkosZywyMyxKX2dfMjMsNTc0LDE4LDYsNCwzLDAsMyxUUlVFLA0KQixnLDE4LEJfZ18xOCw1NzUsMTgsNyw0LDAsMywzLFRSVUUsDQpJLGcsNCxJX2dfNCw1NzYsMTgsOCw0LDEsMCwxLFRSVUUsDQpVLGYsMzAsVV9mXzMwLDU3NywxOSwxLDEsOSwwLDksVFJVRSwNCkUsYywxOCxFX2NfMTgsNTc4LDE5LDIsMSwyNiwwLDI2LFRSVUUsDQpVLGksMSxVX2lfMSw1NzksMTksMywxLDAsMCwwLEZBTFNFLA0KUixkLDIwLFJfZF8yMCw1ODAsMTksNCwxLDE4LDEsMTksVFJVRSwNCkwsZywxMixMX2dfMTIsNTgxLDE5LDUsMSwxNSwzLDE4LFRSVUUsDQpBLGgsMTksQV9oXzE5LDU4MiwxOSw2LDEsMzYsMiwzOCxUUlVFLA0KVSxkLDE5LFVfZF8xOSw1ODMsMTksNywxLDE5LDAsMTksVFJVRSwNCkksZiwyMyxJX2ZfMjMsNTg0LDE5LDgsMSwxNiwwLDE2LFRSVUUsDQpDLGcsMTIsQ19nXzEyLDU4NSwxOSwxLDIsMCwwLDAsRkFMU0UsDQpELGUsMjcsRF9lXzI3LDU4NiwxOSwyLDIsMCwxLDEsVFJVRSwNCkcsZCwxMSxHX2RfMTEsNTg3LDE5LDMsMiwzLDAsMyxUUlVFLA0KUixiLDEsUl9iXzEsNTg4LDE5LDQsMiwxNSwyLDE3LFRSVUUsDQpBLGksMjcsQV9pXzI3LDU4OSwxOSw1LDIsMiwwLDIsVFJVRSwNCkcsYiwxLEdfYl8xLDU5MCwxOSw2LDIsMCwxLDEsVFJVRSwNClAsYywxOCxQX2NfMTgsNTkxLDE5LDcsMiwxLDAsMSxUUlVFLA0KUCxnLDIwLFBfZ18yMCw1OTIsMTksOCwyLDEyLDAsMTIsVFJVRSwNCkwsZyw0LExfZ180LDU5MywxOSwxLDMsMCw3LDcsVFJVRSwNCkwsYywxOCxMX2NfMTgsNTk0LDE5LDIsMywwLDYsNixUUlVFLA0KTSxmLDMwLE1fZl8zMCw1OTUsMTksMywzLDYsMSw3LFRSVUUsDQpELGUsMjMsRF9lXzIzLDU5NiwxOSw0LDMsMTIsMCwxMixUUlVFLA0KRixjLDIwLEZfY18yMCw1OTcsMTksNSwzLDE2LDAsMTYsVFJVRSwNClEsZywxMixRX2dfMTIsNTk4LDE5LDYsMywyOCwwLDI4LFRSVUUsDQpFLGYsMjMsRV9mXzIzLDU5OSwxOSw3LDMsODEsMiw4MyxUUlVFLA0KRyxlLDIzLEdfZV8yMyw2MDAsMTksOCwzLDI3LDAsMjcsVFJVRSwNCkYsYywxMixGX2NfMTIsNjAxLDE5LDEsNCwwLDAsMCxGQUxTRSwNClMsYiwzMCxTX2JfMzAsNjAyLDE5LDIsNCwxLDAsMSxUUlVFLA0KUyxhLDEyLFNfYV8xMiw2MDMsMTksMyw0LDAsMCwwLEZBTFNFLA0KRSxnLDQsRV9nXzQsNjA0LDE5LDQsNCw0LDAsNCxUUlVFLA0KSSxhLDE5LElfYV8xOSw2MDUsMTksNSw0LDIsMCwyLFRSVUUsDQpRLGMsNCxRX2NfNCw2MDYsMTksNiw0LDMsMSw0LFRSVUUsDQpDLGQsMjcsQ19kXzI3LDYwNywxOSw3LDQsMCwwLDAsRkFMU0UsDQpSLGYsMjMsUl9mXzIzLDYwOCwxOSw4LDQsMSwwLDEsVFJVRSwNCkQsYywxOSxEX2NfMTksNjA5LDIwLDEsMSwyLDUsNyxUUlVFLA0KUixhLDE5LFJfYV8xOSw2MTAsMjAsMiwxLDEsMCwxLFRSVUUsDQpQLGcsMTIsUF9nXzEyLDYxMSwyMCwzLDEsMzEsMCwzMSxUUlVFLA0KUyxhLDE5LFNfYV8xOSw2MTIsMjAsNCwxLDI5LDAsMjksVFJVRSwNCk8saCwxLE9faF8xLDYxMywyMCw1LDEsMjMsMCwyMyxUUlVFLA0KUSxhLDE4LFFfYV8xOCw2MTQsMjAsNiwxLDIsMCwyLFRSVUUsDQpBLGosMTEsQV9qXzExLDYxNSwyMCw3LDEsMCwwLDAsRkFMU0UsDQpKLGUsMzAsSl9lXzMwLDYxNiwyMCw4LDEsMCwwLDAsRkFMU0UsDQpLLGMsMTIsS19jXzEyLDYxNywyMCwxLDIsMCwwLDAsRkFMU0UsDQpNLGYsMjMsTV9mXzIzLDYxOCwyMCwyLDIsMCwxLDEsVFJVRSwNCkgsYywyMCxIX2NfMjAsNjE5LDIwLDMsMiwxLDAsMSxUUlVFLA0KRCxkLDE5LERfZF8xOSw2MjAsMjAsNCwyLDUsMCw1LFRSVUUsDQpVLGUsMjcsVV9lXzI3LDYyMSwyMCw1LDIsMSwwLDEsVFJVRSwNCkYsaSwxLEZfaV8xLDYyMiwyMCw2LDIsMTQsMCwxNCxUUlVFLA0KRCxjLDIwLERfY18yMCw2MjMsMjAsNywyLDksMCw5LFRSVUUsDQpGLGYsMzAsRl9mXzMwLDYyNCwyMCw4LDIsMiw0LDYsVFJVRSwNCk8sYiwxLE9fYl8xLDYyNSwyMCwxLDMsMiwxLDMsVFJVRSwNClAsZiwyNyxQX2ZfMjcsNjI2LDIwLDIsMyw0LDMsNyxUUlVFLA0KQSxqLE5BLEFfal9OQSw2MjcsMjAsMywzLDAsMCwwLEZBTFNFLA0KTCxiLDMwLExfYl8zMCw2MjgsMjAsNCwzLDQyLDAsNDIsVFJVRSwNCkksYiwyNyxJX2JfMjcsNjI5LDIwLDUsMywxMCwxLDExLFRSVUUsDQpKLGUsMjcsSl9lXzI3LDYzMCwyMCw2LDMsMjUsMCwyNSxUUlVFLA0KTCxoLDExLExfaF8xMSw2MzEsMjAsNywzLDEzLDAsMTMsVFJVRSwNCkssaSwxLEtfaV8xLDYzMiwyMCw4LDMsNzQsMCw3NCxUUlVFLA0KTCxqLDExLExfal8xMSw2MzMsMjAsMSw0LDAsMCwwLEZBTFNFLA0KUSxmLDIzLFFfZl8yMyw2MzQsMjAsMiw0LDIsMCwyLFRSVUUsDQpSLGIsMjcsUl9iXzI3LDYzNSwyMCwzLDQsNCwwLDQsVFJVRSwNCk4saSwyNyxOX2lfMjcsNjM2LDIwLDQsNCwyLDAsMixUUlVFLA0KSSxqLDEyLElfal8xMiw2MzcsMjAsNSw0LDAsMCwwLEZBTFNFLA0KQixhLDE5LEJfYV8xOSw2MzgsMjAsNiw0LDEsMCwxLFRSVUUsDQpFLGosMTIsRV9qXzEyLDYzOSwyMCw3LDQsOCwwLDgsVFJVRSwNCkUsaSwyNyxFX2lfMjcsNjQwLDIwLDgsNCw4LDAsOCxUUlVFLA0KTyxhLDExLE9fYV8xMSw2NDEsMjEsMSwxLDAsMCwwLEZBTFNFLA0KSCxjLDEyLEhfY18xMiw2NDIsMjEsMiwxLDMsMCwzLFRSVUUsDQpPLGMsMTgsT19jXzE4LDY0MywyMSwzLDEsMSw0LDUsVFJVRSwNCkwsaCw0LExfaF80LDY0NCwyMSw0LDEsMCwxLDEsVFJVRSwNCkIsaCwxLEJfaF8xLDY0NSwyMSw1LDEsMSwwLDEsVFJVRSwNCkYsZSwxOSxGX2VfMTksNjQ2LDIxLDYsMSw5LDAsOSxUUlVFLA0KQixhLDExLEJfYV8xMSw2NDcsMjEsNywxLDMsMCwzLFRSVUUsDQpILGcsMjMsSF9nXzIzLDY0OCwyMSw4LDEsNywwLDcsVFJVRSwNClQsaSwyNyxUX2lfMjcsNjQ5LDIxLDEsMiw1LDIsNyxUUlVFLA0KQixkLDExLEJfZF8xMSw2NTAsMjEsMiwyLDAsMCwwLEZBTFNFLA0KSixjLDQsSl9jXzQsNjUxLDIxLDMsMiwyLDIsNCxUUlVFLA0KSCxnLDQsSF9nXzQsNjUyLDIxLDQsMiwxMiwxLDEzLFRSVUUsDQpSLGMsMTgsUl9jXzE4LDY1MywyMSw1LDIsMCwwLDAsRkFMU0UsDQpDLGEsMTksQ19hXzE5LDY1NCwyMSw2LDIsNSwxLDYsVFJVRSwNCkosZywxMixKX2dfMTIsNjU1LDIxLDcsMiwzLDAsMyxUUlVFLA0KSyxlLDIzLEtfZV8yMyw2NTYsMjEsOCwyLDI4LDAsMjgsVFJVRSwNCkcsYywxMixHX2NfMTIsNjU3LDIxLDEsMywxLDgsOSxUUlVFLA0KQixnLDQsQl9nXzQsNjU4LDIxLDIsMywwLDE0LDE0LFRSVUUsDQpVLGIsNCxVX2JfNCw2NTksMjEsMywzLDcsMTksMjYsVFJVRSwNClAsaSwyNyxQX2lfMjcsNjYwLDIxLDQsMyw1NCwyMiw3NixUUlVFLA0KRixnLDIzLEZfZ18yMyw2NjEsMjEsNSwzLDEyLDYsMTgsVFJVRSwNCkYsaiwxMixGX2pfMTIsNjYyLDIxLDYsMywyOSwwLDI5LFRSVUUsDQpDLGQsMjMsQ19kXzIzLDY2MywyMSw3LDMsMywwLDMsVFJVRSwNCkYsYiwzMCxGX2JfMzAsNjY0LDIxLDgsMyw0OSwxNSw2NCxUUlVFLA0KRCxhLDExLERfYV8xMSw2NjUsMjEsMSw0LDMsMCwzLFRSVUUsDQpOLGIsMjcsTl9iXzI3LDY2NiwyMSwyLDQsMSwxLDIsVFJVRSwNCkUsYiwzMCxFX2JfMzAsNjY3LDIxLDMsNCwxLDAsMSxUUlVFLA0KTyxiLDI3LE9fYl8yNyw2NjgsMjEsNCw0LDAsMCwwLEZBTFNFLA0KSCxmLDIzLEhfZl8yMyw2NjksMjEsNSw0LDE2LDAsMTYsVFJVRSwNCkosZiwyMyxKX2ZfMjMsNjcwLDIxLDYsNCwwLDAsMCxGQUxTRSwNCkgsZCwxOSxIX2RfMTksNjcxLDIxLDcsNCwwLDAsMCxGQUxTRSwNCkIsZCwyMCxCX2RfMjAsNjcyLDIxLDgsNCwwLDAsMCxGQUxTRSwNCg==" download="Weevil_damage.csv">Download Weevil_damage.csv</a>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://hbiostat.org/R/Hmisc/'>Hmisc</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/taiyun/corrplot'>corrplot</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://www.stats.ox.ac.uk/pub/MASS4/'>MASS</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://r-forge.r-project.org/projects/car/'>car</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://interactions.jacob-long.com'>interactions</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>yarrr</span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyr.tidyverse.org'>tidyr</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://readr.tidyverse.org'>readr</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/lme4/lme4/'>lme4</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span> <span class='op'>(</span><span class='va'><a href='https://github.com/runehaubo/lmerTestR'>lmerTest</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://svn.r-project.org/R-packages/trunk/nlme/'>nlme</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggplot2.tidyverse.org'>ggplot2</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>gvlma</span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/rdpeng/simpleboot'>simpleboot</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://gitlab.com/daagur'>DAAG</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://gitlab.com/scottkosty/bootstrap'>bootstrap</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://www3.nd.edu/~kkelley/site/MBESS.html'>MBESS</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>leaps</span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://sandwich.R-Forge.R-project.org/'>sandwich</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>In the coming two weeks, we will take some time on basic concepts behind some simple linear models.</p>
<h1 id="linear-regression">Linear regression</h1>
<h2 id="definition">Definition</h2>
<p>Let’s start with a a simple correlation among two variables:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># correlation</span></span>
<span><span class='va'>rairuoho</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></span><span class='op'>(</span><span class='st'>'https://www.dipintothereef.com/uploads/3/7/3/5/37359245/rairuoho.txt'</span>,header<span class='op'>=</span><span class='cn'>T</span>, sep<span class='op'>=</span><span class='st'>"\t"</span>, dec<span class='op'>=</span><span class='st'>"."</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/stats/cor.test.html'>cor.test</a></span><span class='op'>(</span><span class='va'>rairuoho</span><span class='op'>$</span><span class='va'>day6</span>, <span class='va'>rairuoho</span><span class='op'>$</span><span class='va'>day7</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>
    Pearson&#39;s product-moment correlation

data:  rairuoho$day6 and rairuoho$day7
t = 9.562, df = 46, p-value = 1.658e-12
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 0.6918585 0.8928613
sample estimates:
      cor 
0.8156516 </code></pre>
</div>
<p>We can repeat it for all days by building a Pearson coefficient matrix:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>corr</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/stats/cor.html'>cor</a></span><span class='op'>(</span><span class='va'>rairuoho</span><span class='op'>[</span>,<span class='fl'>1</span><span class='op'>:</span><span class='fl'>6</span><span class='op'>]</span><span class='op'>)</span></span>
<span><span class='va'>corr</span> <span class='co'># cor.test does not work on Matrix</span></span></code></pre>
</div>
<pre><code>          day3      day4      day5      day6      day7      day8
day3 1.0000000 0.7669682 0.5994600 0.5464308 0.3558050 0.2255945
day4 0.7669682 1.0000000 0.7692091 0.7943134 0.6027304 0.4544520
day5 0.5994600 0.7692091 1.0000000 0.7524457 0.5541184 0.4053586
day6 0.5464308 0.7943134 0.7524457 1.0000000 0.8156516 0.6754468
day7 0.3558050 0.6027304 0.5541184 0.8156516 1.0000000 0.8398937
day8 0.2255945 0.4544520 0.4053586 0.6754468 0.8398937 1.0000000</code></pre>
</div>
<p>Which however doesn’t give us the p-values of those correlations. Many packages offer a better visualization of this matrix, such as <code>corrplot</code>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>p.val</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/pkg/Hmisc/man/rcorr.html'>rcorr</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>rairuoho</span><span class='op'>[</span>,<span class='fl'>1</span><span class='op'>:</span><span class='fl'>6</span><span class='op'>]</span><span class='op'>)</span><span class='op'>)</span><span class='op'>$</span><span class='va'>P</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/corrplot/man/corrplot.html'>corrplot</a></span><span class='op'>(</span><span class='va'>corr</span>,type<span class='op'>=</span><span class='st'>'upper'</span>,method<span class='op'>=</span><span class='st'>'color'</span>, addCoef.col <span class='op'>=</span> <span class='st'>"black"</span>, p.mat<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>p.val</span><span class='op'>)</span>, sig.level <span class='op'>=</span> <span class='fl'>0.05</span>,title <span class='op'>=</span> <span class='st'>"Correlation Matrix"</span>, mar <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>,<span class='fl'>0</span>,<span class='fl'>2</span>,<span class='fl'>0</span><span class='op'>)</span>, diag<span class='op'>=</span><span class='cn'>F</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="linear_files/figure-html5/unnamed-chunk-10-1.png" width="624" /></p>
</div>
<p>Previously, we saw that this type of ‘relationship’ (a linear model <code>lm</code>) between two variables can be added to a scatterplot using the function <code>abline</code></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>rairuoho</span><span class='op'>$</span><span class='va'>day6</span>, <span class='va'>rairuoho</span><span class='op'>$</span><span class='va'>day7</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/graphics/abline.html'>abline</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>rairuoho</span><span class='op'>$</span><span class='va'>day7</span><span class='op'>~</span><span class='va'>rairuoho</span><span class='op'>$</span><span class='va'>day6</span><span class='op'>)</span>, col<span class='op'>=</span><span class='st'>"red"</span>, lwd<span class='op'>=</span><span class='fl'>2</span><span class='op'>)</span></span></code></pre>
</div>
<img src="linear_files/figure-html5/unnamed-chunk-11-1.png" width="624" />
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># remember `ggplot`</span></span>
<span><span class='co'># ggplot(rairuoho, aes(x = day6, y = day7)) + </span></span>
<span><span class='co'>#  geom_point() +</span></span>
<span><span class='co'>#  stat_smooth(method = "lm", col = "red")</span></span></code></pre>
</div>
</div>
<p>Indeed our correlation derived from a simple <strong>linear regression</strong>. In <strong>Model I regression</strong> (indeed we have Model II when two variable in the regression equation are random , i.e. no controlled by the researcher), it is used to predict a quantitative outcome of a dependent variable <span class="math inline">\(y\)</span> on the basis of one single independent predictor variable <span class="math inline">\(x\)</span>. The goal is to build a mathematical model (or formula) that defines <span class="math inline">\(y\)</span> as a function of the <span class="math inline">\(x\)</span> variable.</p>
<p>Once, we built a statistically significant model, it’s possible to use it for predicting future outcome on the basis of new <span class="math inline">\(x\)</span> values.</p>
<h2 id="formula-and-basics">Formula and basics</h2>
<p>The formula of linear regression can be written as follows: <span class="math display">\[ y = \beta_0 + \beta_1*x + \epsilon \]</span></p>
<p>where:</p>
<ul>
<li><p><span class="math inline">\(\beta_0\)</span> and <span class="math inline">\(\beta_1\)</span> are known as the regression <strong>beta coefficients</strong> or <strong>parameters</strong>:</p>
<ul>
<li><span class="math inline">\(\beta_0\)</span> is the <strong>intercept</strong> of the regression line; that is the predicted value when <em>x = 0</em>.</li>
<li><span class="math inline">\(\beta1\)</span> is the <strong>slope</strong> of the regression line.</li>
</ul></li>
<li><p><span class="math inline">\(\epsilon\)</span> is the <strong>error term</strong> (also known as the <strong>residual errors</strong>)</p></li>
</ul>
<p>The figure below illustrates the linear regression model, where:</p>
<ul>
<li>the best-fit regression line is in blue</li>
<li>the intercept (<span class="math inline">\(\beta_0\)</span>) and the slope (<span class="math inline">\(\beta_1\)</span>) are shown in green</li>
<li>the error terms (<span class="math inline">\(\epsilon\)</span>) are represented by vertical red lines</li>
</ul>
<center>
<img src="Figures/linear-regression.png" style="width:50.0%" />
</center>
<p>From the figure above, it can be seen that not all the data points fall exactly on the fitted regression line. Some of the points are above the blue curve and some are below it; overall, the residual errors (<span class="math inline">\(\epsilon\)</span>) have approximately mean zero.</p>
<p><strong>TERMINOLOGY ALERT</strong></p>
<p>The sum of the squares of the residual errors are called the <strong>Residual Sum of Squares</strong> or <strong>RSS</strong>.</p>
<p>The average variation of points around the fitted regression line is called the <strong>Residual Standard Error (RSE)</strong>. This is one the metrics used to evaluate the overall quality of the fitted regression model. The lower the RSE, the better it is.</p>
<p>Since the mean error term is zero, the outcome variable y can be approximately estimated as follow:</p>
<p><span class="math display">\[y= \beta_0+\beta_1*x\]</span></p>
<p>Mathematically, the beta coefficients (<span class="math inline">\(\beta_0\)</span> and <span class="math inline">\(\beta_1\)</span>) are determined so that the <strong>RSS</strong> is as minimal as possible. This method of determining the beta coefficients is technically called <strong>least squares</strong> regression or <strong>ordinary least squares</strong> (OLS) regression.</p>
<p>Once, the beta coefficients are calculated, a <em>t</em>-test is performed to check whether or not these coefficients are significantly different from zero. A non-zero beta coefficients means that there is a significant relationship between the predictors (<span class="math inline">\(x\)</span>) and the outcome variable (<span class="math inline">\(y\)</span>).</p>
<h2 id="computation">Computation</h2>
<p>Finally! The simple linear regression tries to find the best line to predict <span class="math inline">\(y\)</span> on the basis of <span class="math inline">\(x\)</span>.</p>
<p>In the <code>iris</code> data set, a linear model equation can be written as follow:</p>
<p><span class="math inline">\(Petal.Width = \beta_0 + \beta_1 * Petal.Length\)</span></p>
<p>In R language, it is translated using the function <code>lm</code> and in order to determine the beta coefficients of the linear model:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>model1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>Petal.Width</span> <span class='op'>~</span> <span class='va'>Petal.Length</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>)</span></span>
<span><span class='va'>model1</span><span class='op'>$</span><span class='va'>coefficients</span></span></code></pre>
</div>
<pre><code> (Intercept) Petal.Length 
  -0.3630755    0.4157554 </code></pre>
</div>
<p>The results show the intercept (<span class="math inline">\(\beta_0\)</span>) and the slope (<span class="math inline">\(\beta_1\)</span>), i.e. the beta coefficients for the <code>Petal.Length</code> variable</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>iris</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>Petal.Length</span>, y <span class='op'>=</span> <span class='va'>Petal.Width</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill<span class='op'>=</span><span class='va'>Species</span><span class='op'>)</span>,shape <span class='op'>=</span> <span class='fl'>21</span>, size<span class='op'>=</span><span class='fl'>5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_smooth.html'>stat_smooth</a></span><span class='op'>(</span>method <span class='op'>=</span> <span class='st'>"lm"</span>, col <span class='op'>=</span> <span class='st'>"blue"</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="linear_files/figure-html5/unnamed-chunk-13-1.png" width="624" /></p>
</div>
<h2 id="interpretation">Interpretation</h2>
<p>From the output above:</p>
<ul>
<li><p>the estimated regression line equation can be written as follow: <span class="math inline">\(Petal.Width = -0.3631 + 0.4158*Petal.Length\)</span></p></li>
<li><p>the intercept (<span class="math inline">\(\beta_0\)</span>) is <span class="math inline">\(-0.3631\)</span>. It can be interpreted as the predicted width of petal for a length of petal equal to zero. Regression through the origin is when you force the intercept of a regression model to equal zero. It’s also known as fitting a model without an intercept (e.g., the intercept-free linear model <span class="math inline">\(y = \beta_1*x\)</span> is equivalent to the model <span class="math inline">\(y = \beta_0 + \beta_1*x\)</span> with <span class="math inline">\(\beta_0=0\)</span>). Knowing that the <strong>true relationship</strong> between your predictors and the expected value of your dependent variable has to pass through the origin would be a good reason for forcing the estimated relationship through the origin if you knew for certain what the true relationship was (be careful very rare cases where it is justified to remove the intercept).</p></li>
<li><p>the regression beta coefficient for the variable <code>Petal.Length</code> (<span class="math inline">\(\beta1\)</span>), also known as the slope, is <span class="math inline">\(0.4158\)</span>. This means that, for one unit of <span class="math inline">\(Petal.Length\)</span>, we can expect an increase of <span class="math inline">\(0.4158\)</span> units in <span class="math inline">\(Petal.Width\)</span>.</p></li>
</ul>
<h2 id="model-assessment">Model assessment</h2>
<p>Before using our model to predict <span class="math inline">\(Petal.Width\)</span>, we should make sure that this model is statistically significant, that is:</p>
<ul>
<li><p>there is a statistically significant relationship between the predictor and the outcome variables</p></li>
<li><p>the model that we built fits very well the data in our hand.</p></li>
</ul>
<h2 id="model-summary">Model summary</h2>
<p>Using our <code>lm</code> model, we get a bit more than just the coefficient (<span class="math inline">\(\beta0\)</span>) and (<span class="math inline">\(\beta1\)</span>)</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>model1</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>
Call:
lm(formula = Petal.Width ~ Petal.Length, data = iris)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.56515 -0.12358 -0.01898  0.13288  0.64272 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  -0.363076   0.039762  -9.131  4.7e-16 ***
Petal.Length  0.415755   0.009582  43.387  &lt; 2e-16 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 0.2065 on 148 degrees of freedom
Multiple R-squared:  0.9271,    Adjusted R-squared:  0.9266 
F-statistic:  1882 on 1 and 148 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<p>Looking at only the p-values, this simple model seems to fit the data very well. But the output tells us much more. The summary outputs shows 6 components, including:</p>
<ul>
<li><strong>Call</strong> shows the function call used to compute the regression model.</li>
<li><strong>Residuals</strong> provide a quick view of the distribution of the residuals, which by definition have a mean zero. Therefore, the median should not be far from zero, and the minimum and maximum should be roughly equal in absolute value.</li>
<li><strong>Coefficients</strong> shows the regression beta coefficients and their statistical significance. Predictor variables, that are significantly associated to the outcome variable, are marked by stars.</li>
<li><strong>Residual standard error</strong> (RSE), <strong>R-squared</strong> (R2) and the <strong>F-statistic</strong> are metrics that are used to check how well the model fits to our data.</li>
</ul>
<h3 id="coefficients-significance">Coefficients significance</h3>
<p>The coefficients table, in the model statistical summary, shows:</p>
<ul>
<li>the estimates of the <strong>beta coefficients</strong></li>
<li>the <strong>standard errors</strong> (SE), which defines the accuracy of beta coefficients. For a given beta coefficient, the SE reflects how the coefficient varies under repeated sampling. It can be used to compute the confidence intervals and the t-statistic.</li>
<li>the <strong><em>t</em>-statistic</strong> and the associated <strong><em>p</em>-value</strong>, which defines the statistical significance of the beta coefficients.</li>
</ul>
<p><strong>t-statistic and p-values</strong></p>
<p>For a given predictor, the t-statistic (and its associated <em>p</em>-value) tests whether or not there is a statistically significant relationship between a given predictor and the outcome variable, that is whether or not the beta coefficient of the predictor is significantly different from zero.</p>
<p>The statistical hypotheses are as follow:</p>
<ul>
<li>Null hypothesis (H<sub>0</sub>): the coefficients are equal to zero (i.e., no relationship between x and y)</li>
<li>Alternative Hypothesis (H<sub>1</sub>): the coefficients are not equal to zero (i.e., there is some relationship between <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>)</li>
</ul>
<p>Mathematically, for a given beta coefficient (<span class="math inline">\(\beta\)</span>), the <em>t</em>-test is computed as <span class="math inline">\(t = (\beta - 0)/SE(\beta)\)</span>, where <span class="math inline">\(SE(\beta)\)</span> is the SE of the coefficient <span class="math inline">\(\beta\)</span>. Simply said, the t-statistic measures the number of standard deviations that <span class="math inline">\(\beta\)</span> is away from 0. Thus a large <em>t</em>-statistic will produce a small p-value (=different).</p>
<p>The higher the <em>t</em>-statistic (and the lower the p-value), the more significant the predictor. The symbols to the right (***) visually specifies the level of significance. The line below the table shows the definition of these symbols; one star means 0.01 &lt; p &lt; 0.05. The more the stars beside the variable’s p-value, the more significant the variable.</p>
<p>A statistically significant coefficient indicates that there is an association between the predictor (<span class="math inline">\(x\)</span>) and the outcome (<span class="math inline">\(y\)</span>) variable.</p>
<p>The <em>t</em>-statistic is a very useful guide for whether or not to include a predictor in a model. High t-statistics (which go with low p-values near 0) indicate that a predictor should be retained in a model, while very low <em>t</em>-statistics indicate a predictor could be dropped (Bruce and Bruce 2017).</p>
<p><strong>Standard errors and confidence intervals</strong></p>
<p>The standard error measures the variability/accuracy of the beta coefficients. It can be used to compute the confidence intervals of the coefficients.</p>
<p>For example, the 95% confidence interval for the coefficient <span class="math inline">\(\beta1\)</span> is defined as <span class="math inline">\(\beta1 +/- 2*SE(\beta1)\)</span>, where:</p>
<p>the lower limits of <span class="math inline">\(\beta_1 = \beta_1 - 2*SE(\beta_1) = 0.415 - 2*0.009 = 0.397\)</span></p>
<p>the upper limits of <span class="math inline">\(\beta1 = \beta1 + 2*SE(\beta1) = 0.415 + 2*0.009 = 0.435\)</span></p>
<p>That is, there is approximately a 95% chance that the interval [0.397, 0.435] will contain the true value of <span class="math inline">\(\beta1\)</span>. Similarly the 95% confidence interval for <span class="math inline">\(\beta0\)</span> can be computed as <span class="math inline">\(\beta0 +/- 2*SE(\beta0)\)</span>.</p>
<p>To get this information, either you calculate by hands or you simply call:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/stats/confint.html'>confint</a></span><span class='op'>(</span><span class='va'>model1</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>                  2.5 %     97.5 %
(Intercept)  -0.4416501 -0.2845010
Petal.Length  0.3968193  0.4346915</code></pre>
</div>
<h3 id="model-accuracy">Model accuracy</h3>
<p>Once you identified that, at least, one predictor variable is significantly associated the outcome, you should continue the diagnostic by checking how well the model fits the data. This process is also referred to as the <em>goodness-of-fit</em></p>
<p>The overall quality of the linear regression fit can be assessed using the following three parameters, displayed in the model summary:</p>
<ol type="1">
<li><strong>The Residual Standard Error (RSE)</strong></li>
</ol>
<p>The <strong>RSE</strong> (also known as the model sigma) is the <strong>residual variation</strong>, representing the average variation of the observations points around the fitted regression line. This is the <strong>standard deviation of residual errors</strong>.</p>
<p>RSE provides an absolute measure of patterns in the <strong>data that can’t be explained by the model</strong>. When comparing two models, the model with the small RSE is a good indication that this model fits the best the data.</p>
<p>Dividing the RSE by the average value of the outcome variable will give you the prediction error rate, which should be as small as possible.</p>
<p>In our example, RSE = <code>0.2065</code>, meaning that the observed Petal.width values deviate from the true regression line by approximately <code>0.2065</code> units in average.</p>
<p>Whether or not an RSE of <code>0.2065</code> units is an acceptable prediction error is subjective and depends on the problem context. However, we can calculate the percentage error. In our data set, the mean value of Petal.Width is 1.1993, and so the percentage error is 0.2065/1.1993 = 17%.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/stats/sigma.html'>sigma</a></span><span class='op'>(</span><span class='va'>model1</span><span class='op'>)</span><span class='op'>*</span><span class='fl'>100</span><span class='op'>/</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>iris</span><span class='op'>$</span><span class='va'>Petal.Width</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] 17.21659</code></pre>
</div>
<ol start="2" type="1">
<li><strong>The R-squared (<span class="math inline">\(R^2\)</span>)</strong></li>
</ol>
<p>The <strong>R-squared</strong> <span class="math inline">\(R^2\)</span> ranges from 0 to 1 and represents the <strong>proportion of information (i.e. variation) in the data that can be explained by the model</strong>. The <strong>adjusted <span class="math inline">\(R^2\)</span> adjusts <span class="math inline">\(R^2\)</span> with the degrees of freedom</strong>.</p>
<p>The <span class="math inline">\(R^2\)</span> measures, how well the model fits the data. For a simple linear regression, <span class="math inline">\(R^2\)</span> is the square of the <strong>Pearson correlation coefficient</strong>.</p>
<p>A high value of <span class="math inline">\(R^2\)</span> is a good indication. However, as the value of <span class="math inline">\(R^2\)</span> tends to increase when more predictors are added in the model, such as in <strong>multiple linear regression mode</strong>l, you should mainly consider the adjusted <span class="math inline">\(R^2\)</span>**, which is a penalized <span class="math inline">\(R^2\)</span> for a higher number of predictors.</p>
<ul>
<li><p>An (adjusted) <span class="math inline">\(R^2\)</span> that is close to 1 indicates that a large proportion of the variability in the outcome has been explained by the regression model.</p></li>
<li><p>A number near 0 indicates that the regression model did not explain much of the variability in the outcome.</p></li>
</ul>
<ol start="3" type="1">
<li><strong>F-statistic</strong></li>
</ol>
<p>The <strong>F-statistic</strong> gives the overall significance of the model. It assess whether <strong>at least one predictor variable has a non-zero coefficient</strong>.</p>
<p>In a simple linear regression, this test is not really interesting since it just duplicates the information in given by the <em>t</em>-test, available in the coefficient table. In fact, the <em>F</em>-test is identical to the square of the t-test: <span class="math inline">\(1882 = (43.387)^2\)</span>. That would be true in any model with 1 degree of freedom.</p>
<p>The F-statistic becomes <strong>more important</strong> once we start <strong>using multiple predictors</strong> as in multiple linear regression.</p>
<p>A large F-statistic will corresponds to a statistically significant <em>p</em>-value (p &lt; 0.05). In our example, the F-statistic equal 1882 producing a p-value of &lt; 2.2e-16, which is highly significant.</p>
<h1 id="multiple-regression">Multiple regression</h1>
<p><strong>Multiple linear regression</strong> is just an <strong>extension of simple linear regression</strong> used to predict an outcome variable (<span class="math inline">\(y\)</span>) on the basis of multiple distinct predictor variables (<span class="math inline">\(x\)</span>).</p>
<p>With three predictor variables (<span class="math inline">\(x\)</span>), the prediction of <span class="math inline">\(y\)</span> is expressed by the following equation:</p>
<p><span class="math display">\[y = \beta_0 + \beta_1*x_1 + \beta_2*x_2 + \beta_3*x_3\]</span></p>
<p>The “<span class="math inline">\(\beta\)</span>” values are called the regression weights (or beta coefficients). They measure the association between the predictor variable and the outcome. “<span class="math inline">\(\beta_j\)</span>” can be interpreted as the average effect on <span class="math inline">\(y\)</span> of a one unit increase in “<span class="math inline">\(x_j\)</span>”, holding all other predictors fixed.</p>
<h2 id="fitting-the-model">Fitting the model</h2>
<p>R provides comprehensive support for multiple linear regression. We want to build a model for estimating <code>Petal.Width</code> based on data we get on <code>Petal.Length</code>, <code>Sepal.Length</code>, and <code>Sepal.Width</code>.</p>
<p><span class="math display">\[Petal.Width = \beta_0 + \beta_1*Petal.Length + \beta_2*Sepal.Length + \beta_3*Sepal.Width\]</span>
You can now easily compute this in R as follow:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>fit1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>Petal.Width</span> <span class='op'>~</span> <span class='va'>Petal.Length</span> <span class='op'>+</span> <span class='va'>Sepal.Width</span> <span class='op'>+</span> <span class='va'>Sepal.Length</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>
Call:
lm(formula = Petal.Width ~ Petal.Length + Sepal.Width + Sepal.Length, 
    data = iris)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.60959 -0.10134 -0.01089  0.09825  0.60685 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  -0.24031    0.17837  -1.347     0.18    
Petal.Length  0.52408    0.02449  21.399  &lt; 2e-16 ***
Sepal.Width   0.22283    0.04894   4.553 1.10e-05 ***
Sepal.Length -0.20727    0.04751  -4.363 2.41e-05 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 0.192 on 146 degrees of freedom
Multiple R-squared:  0.9379,    Adjusted R-squared:  0.9366 
F-statistic: 734.4 on 3 and 146 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Other useful functions</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/stats/coef.html'>coefficients</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span> <span class='co'># model coefficients</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/stats/confint.html'>confint</a></span><span class='op'>(</span><span class='va'>fit1</span>, level<span class='op'>=</span><span class='fl'>0.95</span><span class='op'>)</span> <span class='co'># CIs for model parameters</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/stats/fitted.values.html'>fitted</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span> <span class='co'># predicted values</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/stats/residuals.html'>residuals</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span> <span class='co'># residuals</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/stats/anova.html'>anova</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span> <span class='co'># anova table</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/stats/vcov.html'>vcov</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span> <span class='co'># covariance matrix for model parameters</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/stats/lm.influence.html'>influence</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span> <span class='co'># regression diagnostics</span></span></code></pre>
</div>
</div>
<h2 id="regression-diagnostics">Regression diagnostics</h2>
<p>See <a href="https://www.statmethods.net/stats/rdiagnostics.html">here</a> for functions and packages</p>
<h3 id="diagnostic-plots">Diagnostic plots</h3>
<p><a href="http://strata.uga.edu/8370/rtips/regressionPlots.html">Diagnostic</a> plots provide checks for heteroscedasticity, normality, and influential observations.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># diagnostic plots</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/graphics/layout.html'>layout</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>3</span>,<span class='fl'>4</span><span class='op'>)</span>,<span class='fl'>2</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span> <span class='co'># optional 4 graphs/page</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="linear_files/figure-html5/unnamed-chunk-19-1.png" width="624" /></p>
</div>
<ol type="1">
<li><strong>Residuals vs. fitted</strong> plot.</li>
</ol>
<p>This plot serves mainly to check the linearity, although lack of homoscedasticity or independence can also be detected. Under linearity, we expect the red line (a nonlinear fit of the mean of the residuals) to be almost flat. This means that the trend of <span class="math inline">\(Y_1,...,Y_n\)</span> is linear with respect to the predictors. Heteroscedasticity can be detected also in the form of irregular vertical dispersion around the red line. The dependence between residuals can be detected (harder) in the form of non randomly spread residuals.</p>
<ol start="2" type="1">
<li><strong>Normal Q-Q</strong> plot. Check the normality</li>
</ol>
<p>Under normality, we expect the points (sample quantiles of the standardized residuals vs. theoretical quantiles of a <span class="math inline">\(N(0,1)\)</span> <strong>to align with the diagonal line</strong>, which represents the ideal position of the points if those were sampled from a <span class="math inline">\(N(0,1)\)</span>. It is usual to have larger departures from the diagonal in the extremes than in the center, even under normality, although these departures are more clear if the data is non-normal.</p>
<ol start="3" type="1">
<li><strong>Scale-location</strong> plot.</li>
</ol>
<p>Serves for checking the <strong>homoscedasticity</strong>. It is similar to the first diagnostic plot, but now with the residuals standardized and transformed by a square root (of the absolute value). This change transforms the task of spotting heteroskedasticity by looking into irregular vertical dispersion patterns into spotting for nonlinearities, which is somehow simpler. <strong>Under homoscedasticity, we expect the red line to be almost flat.</strong> If there are consistent nonlinear patterns, then there is evidence of heteroscedasticity.</p>
<ol start="4" type="1">
<li><strong>Residuals versus Leverage</strong> to detect outlier and check for the normality. On this plot, you want to see that the red smoothed line stays close to the horizontal gray dashed line and that no points have a large Cook’s distance (i.e, &gt;0.5).</li>
</ol>
<h3 id="outliers">Outliers</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Assessing Outliers</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/car/man/outlierTest.html'>outlierTest</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span> <span class='co'># Bonferonni p-value for most extreme obs</span></span></code></pre>
</div>
<pre><code>No Studentized residuals with Bonferroni p &lt; 0.05
Largest |rstudent|:
     rstudent unadjusted p-value Bonferroni p
135 -3.323084          0.0011271      0.16907</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/car/man/qqPlot.html'>qqPlot</a></span><span class='op'>(</span><span class='va'>fit1</span>, main<span class='op'>=</span><span class='st'>"QQ Plot"</span><span class='op'>)</span> <span class='co'>#qq plot for studentized resid</span></span></code></pre>
</div>
<p><img src="linear_files/figure-html5/unnamed-chunk-20-1.png" width="624" /></p>
<pre><code>[1] 135 142</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/car/man/leveragePlots.html'>leveragePlots</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span> <span class='co'># leverage plots</span></span></code></pre>
</div>
<p><img src="linear_files/figure-html5/unnamed-chunk-20-2.png" width="624" /></p>
</div>
<h3 id="influential-observations">Influential observations</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Influential Observations</span></span>
<span><span class='co'># added variable plots</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/car/man/avPlots.html'>avPlots</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span></span></code></pre>
</div>
<img src="linear_files/figure-html5/unnamed-chunk-21-1.png" width="624" />
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Cook's D plot</span></span>
<span><span class='co'># identify D values &gt; 4/(n-k-1)</span></span>
<span><span class='va'>cutoff</span> <span class='op'>&lt;-</span> <span class='fl'>4</span><span class='op'>/</span><span class='op'>(</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>iris</span><span class='op'>)</span><span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>$</span><span class='va'>coefficients</span><span class='op'>)</span><span class='op'>-</span><span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>fit1</span>, which<span class='op'>=</span><span class='fl'>4</span>, cook.levels<span class='op'>=</span><span class='va'>cutoff</span><span class='op'>)</span></span></code></pre>
</div>
<img src="linear_files/figure-html5/unnamed-chunk-21-2.png" width="624" />
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Influence Plot</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/car/man/influencePlot.html'>influencePlot</a></span><span class='op'>(</span><span class='va'>fit1</span>, id.method<span class='op'>=</span><span class='st'>"identify"</span>, main<span class='op'>=</span><span class='st'>"Influence Plot"</span>, sub<span class='op'>=</span><span class='st'>"Circle size is proportial to Cook's Distance"</span> <span class='op'>)</span></span></code></pre>
</div>
<p><img src="linear_files/figure-html5/unnamed-chunk-21-3.png" width="624" /></p>
<pre><code>      StudRes        Hat        CookD
107  0.218388 0.07440127 0.0009647108
132 -1.763159 0.07518199 0.0622805793
135 -3.323084 0.02404521 0.0636400285
142  3.302796 0.02171837 0.0566956801</code></pre>
</div>
<h3 id="non-normality">Non-normality</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Normality of Residuals</span></span>
<span><span class='co'># qq plot for studentized resid</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/car/man/qqPlot.html'>qqPlot</a></span><span class='op'>(</span><span class='va'>fit1</span>, main<span class='op'>=</span><span class='st'>"QQ Plot"</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="linear_files/figure-html5/unnamed-chunk-22-1.png" width="624" /></p>
<pre><code>[1] 135 142</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># distribution of studentized residuals</span></span>
<span><span class='va'>sresid</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/MASS/man/studres.html'>studres</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/graphics/hist.html'>hist</a></span><span class='op'>(</span><span class='va'>sresid</span>, freq<span class='op'>=</span><span class='cn'>FALSE</span>,</span>
<span>   main<span class='op'>=</span><span class='st'>"Distribution of Studentized Residuals"</span><span class='op'>)</span></span>
<span><span class='va'>xfit</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span><span class='op'>(</span><span class='va'>sresid</span><span class='op'>)</span>,<span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='va'>sresid</span><span class='op'>)</span>,length<span class='op'>=</span><span class='fl'>40</span><span class='op'>)</span></span>
<span><span class='va'>yfit</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>dnorm</a></span><span class='op'>(</span><span class='va'>xfit</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/graphics/lines.html'>lines</a></span><span class='op'>(</span><span class='va'>xfit</span>, <span class='va'>yfit</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="linear_files/figure-html5/unnamed-chunk-22-2.png" width="624" /></p>
</div>
<h3 id="non-constant-error-variance">Non-constant Error Variance</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Evaluate homoscedasticity</span></span>
<span><span class='co'># non-constant error variance test</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/car/man/ncvTest.html'>ncvTest</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>Non-constant Variance Score Test 
Variance formula: ~ fitted.values 
Chisquare = 25.96744, Df = 1, p = 3.4722e-07</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># plot studentized residuals vs. fitted values</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/car/man/spreadLevelPlot.html'>spreadLevelPlot</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="linear_files/figure-html5/unnamed-chunk-23-1.png" width="624" /></p>
<pre><code>
Suggested power transformation:  0.6773452 </code></pre>
</div>
<h3 id="multi-collinearity">Multi-collinearity</h3>
<p>A common problem that arises in multiple linear regression is the <strong>multi-collinearity</strong>. This is the situation when two or more predictors are highly linearly related between them. Multicollinearitiy has important effects on the fit of the model:</p>
<ul>
<li><p>It reduces the precision of the estimates. As a consequence, signs of fitted coefficients may be reversed and valuable predictors may appear as non significant.</p></li>
<li><p>It is difficult to determine how each of the highly related predictors affects the response, since one masks the other. This may result in numerical instabilities.</p></li>
</ul>
<p>An approach is to detect multicollinearity is to compute a correlation matrix between the predictors as we learned earlier</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="linear_files/figure-html5/unnamed-chunk-24-1.png" width="624" /></p>
</div>
<p>Here we can see what we already knew that <code>Sepal.Length</code> and <code>Petal.Length</code> are highly linearly related. One could be removed. However, it is not enough to inspect pair by pair correlations in order to get rid of multicollinearity.A better approach is to compute the <strong>Variance Inflation Factor</strong> (VIF) of each coefficient <span class="math inline">\(\beta_j\)</span>. This is measure of how linearly dependent is <span class="math inline">\(X_j\)</span> with the rest of predictors:</p>
<p><span class="math display">\[\text{VIF}(\beta_j)=\frac{1}{1-R^2_{X_j|X_{-j}}}\]</span></p>
<p>where <span class="math inline">\(R^2_{X_j|X_{-j}}\)</span> is the <span class="math inline">\(R^2\)</span> from a regression of <span class="math inline">\(X_j\)</span> into the remaining predictors. The next rule of thumb gives direct insight into which predictors are multicollinear:</p>
<ul>
<li><strong>VIF close to 1</strong>: absence of multicollinearity.</li>
<li><strong>VIF larger than 5 or 10</strong>: multicolinearity <strong>problematic</strong>.</li>
</ul>
<p>Other considered <span class="math inline">\(\sqrt{VIF}&gt;2\)</span> as critical limit to consider multicollinearity.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Evaluate Collinearity</span></span>
<span><span class='fu'>car</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/car/man/vif.html'>vif</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span> <span class='co'># variance inflation factors</span></span></code></pre>
</div>
<pre><code>Petal.Length  Sepal.Width Sepal.Length 
    7.557780     1.839639     6.256954 </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span><span class='op'>(</span><span class='fu'>car</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/car/man/vif.html'>vif</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>&gt;</span> <span class='fl'>2</span> <span class='co'># problem?</span></span></code></pre>
</div>
<pre><code>Petal.Length  Sepal.Width Sepal.Length 
        TRUE        FALSE         TRUE </code></pre>
</div>
<h3 id="nonlinearity">Nonlinearity</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Evaluate Nonlinearity</span></span>
<span><span class='co'># component + residual plot</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/car/man/crPlots.html'>crPlots</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span></span></code></pre>
</div>
<img src="linear_files/figure-html5/unnamed-chunk-26-1.png" width="624" />
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Ceres plots</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/car/man/ceresPlots.html'>ceresPlots</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="linear_files/figure-html5/unnamed-chunk-26-2.png" width="624" /></p>
</div>
<h3 id="non-independence-of-errors">Non-independence of Errors</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Test for Autocorrelated Errors</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/car/man/durbinWatsonTest.html'>durbinWatsonTest</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code> lag Autocorrelation D-W Statistic p-value
   1       0.2129038      1.573009   0.002
 Alternative hypothesis: rho != 0</code></pre>
</div>
<h3 id="additional-diagnostic-help">Additional Diagnostic Help</h3>
<p>Based on Pena and Slate (2006), the four assumptions in linear regression are normality, heteroscedasticity, and linearity, and what the authors refer to as uncorrelatedness.</p>
<p>The <code>gvlma( )</code> function in the <code>gvlma</code> package, performs a global validation of linear model assumptions as well separate evaluations of skewness, kurtosis, and heteroscedasticity.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>gvmodel</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/gvlma/man/gvlma.html'>gvlma</a></span><span class='op'>(</span><span class='va'>fit1</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>gvmodel</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>
Call:
lm(formula = Petal.Width ~ Petal.Length + Sepal.Width + Sepal.Length, 
    data = iris)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.60959 -0.10134 -0.01089  0.09825  0.60685 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  -0.24031    0.17837  -1.347     0.18    
Petal.Length  0.52408    0.02449  21.399  &lt; 2e-16 ***
Sepal.Width   0.22283    0.04894   4.553 1.10e-05 ***
Sepal.Length -0.20727    0.04751  -4.363 2.41e-05 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 0.192 on 146 degrees of freedom
Multiple R-squared:  0.9379,    Adjusted R-squared:  0.9366 
F-statistic: 734.4 on 3 and 146 DF,  p-value: &lt; 2.2e-16


ASSESSMENT OF THE LINEAR MODEL ASSUMPTIONS
USING THE GLOBAL TEST ON 4 DEGREES-OF-FREEDOM:
Level of Significance =  0.05 

Call:
 gvlma(x = fit1) 

                      Value   p-value                   Decision
Global Stat        45.91070 2.571e-09 Assumptions NOT satisfied!
Skewness            1.24561 2.644e-01    Assumptions acceptable.
Kurtosis            5.56557 1.832e-02 Assumptions NOT satisfied!
Link Function       0.03784 8.458e-01    Assumptions acceptable.
Heteroscedasticity 39.06169 4.106e-10 Assumptions NOT satisfied!</code></pre>
</div>
<p>This tests for the linear model assumptions and helpfully provides information on other assumptions. In this case we are going to look at the heteroskedasticity decisions, which has been identified as not being satisfied. We therefore reject the null hypothesis and state that there is heteroskedasticity in this model at the 5% significance level.</p>
<ol type="1">
<li><p>Global Stat This is the overall metric; this states whether the model, as a whole, passes or fails.</p></li>
<li><p>Skewness: measuring the distribution</p></li>
<li><p>Kurtosis: measuring the distribution, outliers, influential data, etc</p></li>
<li><p>Link function: misspecified model, how you linked the elements in the model assignment</p></li>
<li><p>Heteroscedasticity: looking for equal variance in the residuals</p></li>
</ol>
<h2 id="dealing-with-violation-of-assumption">Dealing with violation of assumption</h2>
<p>A method of choice for addressing any violations of assumptions is often simple scale transformation of either the dependent or the independent variables, or both. The Box-Cox transformation is a power transformation that eliminates non-linearity between variables, differing variances, and variable asymmetry.The ability to turn a variable into a new variable with a normal distribution is therefore very helpful.</p>
<p>The following expression gives the Box-Cox functions transformations for various values of lambda:</p>
<p><span class="math inline">\(\frac{x^λ-1}λ\)</span> if <span class="math inline">\(λ\neq0\)</span></p>
<p><span class="math inline">\(log(x)\)</span> if <span class="math inline">\(λ=0\)</span></p>
<p>being y the changed variable and lambda (λ) the transformation parameter However, the following table describes the most typical transformations:</p>
<table>
<thead>
<tr class="header">
<th>λ</th>
<th>Transformation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>-2</td>
<td><span class="math inline">\(\frac{1}{x^2}\)</span></td>
</tr>
<tr class="even">
<td>-1</td>
<td><span class="math inline">\(\frac{1}{x}\)</span></td>
</tr>
<tr class="odd">
<td>-0.5</td>
<td><span class="math inline">\(\frac{1}{\sqrt{x}}\)</span></td>
</tr>
<tr class="even">
<td>0</td>
<td><span class="math inline">\(log(x)\)</span></td>
</tr>
<tr class="odd">
<td>0.5</td>
<td><span class="math inline">\(sqrt{x}\)</span></td>
</tr>
<tr class="even">
<td>1</td>
<td><span class="math inline">\(x\)</span></td>
</tr>
<tr class="odd">
<td>2</td>
<td><span class="math inline">\(x^2\)</span></td>
</tr>
</tbody>
</table>
<p>In practice, it is advised to choose the value from the table rather than the precise value if the estimated transformation parameter is close to one of the values of the previous table because the value from the table is simpler to understand. Below is a quick implementation of Box-Cox transformation capabilities is introduced. In this instance, the goal is to find an exponent to use to transform the dependant variavel to help produce normality and homoscedasticity of the residuals. The peak of the curve in the plot yields λ, the scaling component.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>boxcoxfit</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/MASS/man/boxcox.html'>boxcox</a></span><span class='op'>(</span><span class='va'>fit1</span>,plotit<span class='op'>=</span><span class='cn'>T</span><span class='op'>)</span></span></code></pre>
</div>
<img src="linear_files/figure-html5/unnamed-chunk-29-1.png" width="624" />
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># also see `boxCox` from **car**</span></span>
<span><span class='co'># also see `BoxCoxTrans` from **caret** for individual variable</span></span></code></pre>
</div>
</div>
<p>Find the optimal λ for Box-Cox transformation</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>lambda</span> <span class='op'>&lt;-</span> <span class='va'>boxcoxfit</span><span class='op'>$</span><span class='va'>x</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/which.min.html'>which.max</a></span><span class='op'>(</span><span class='va'>boxcoxfit</span><span class='op'>$</span><span class='va'>y</span><span class='op'>)</span><span class='op'>]</span></span></code></pre>
</div>
</div>
<p>For this model, λ is was found to be about 0.667 (approximately equivalent to a square root transformation). This value would be used to transform the dependent variable and to rerun the previous analysis. But recall that the normality was not big deal earlier but the heteroscedasticity was at the opposite a big issue.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#fit new linear regression model using the Box-Cox transformation</span></span>
<span><span class='va'>new_fit</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='op'>(</span><span class='op'>(</span><span class='va'>iris</span><span class='op'>$</span><span class='va'>Petal.Width</span><span class='op'>^</span><span class='va'>lambda</span><span class='op'>-</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>/</span><span class='va'>lambda</span><span class='op'>)</span> <span class='op'>~</span> <span class='va'>Petal.Length</span> <span class='op'>+</span> <span class='va'>Sepal.Width</span> <span class='op'>+</span> <span class='va'>Sepal.Length</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>The optimal λ was found to be 0.667. Thus, the new regression model replaced the original response variable y with the variable y = (y<sup>-0.667</sup>– 1) / -0.4242424. Also note that with the scale change, the values of the regression coefficients would become less readily interpretable.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/gvlma/man/gvlma.html'>gvlma</a></span><span class='op'>(</span><span class='va'>new_fit</span><span class='op'>)</span></span>
<span><span class='co'># not better at all</span></span></code></pre>
</div>
</div>
<p>See <a href="https://users.stat.ufl.edu/~winner/sta4211/ALSM_5Ed_Kutner.pdf">Weighted Least Squares</a> solutions discussed in Kutner et al. 2004 (p. 421), but it will not be cover here.</p>
<h2 id="bootstrap">Bootstrap</h2>
<p><a href="https://towardsdatascience.com/bootstrap-regression-in-r-98bfe4ff5007">Bootstrap</a> is a method of random sampling with replacement. Among its other applications such as hypothesis testing, it is a simple yet powerful approach for checking the stability of regression coefficients.</p>
<p>Linear regression relies on several assumptions, and the coefficients of the formulas are presumably normally distributed. It shows that on average if we repeated the experiment thousands and thousands of times, the line would be in confidence intervals.</p>
<p>The bootstrap approach does not rely on those assumptions, but simply performs thousands of estimations.</p>
<p>(Please note, that the bootstrap approach does not violate or bypass the normality assumptions, but rather than relying on the central limit theorem [CLT], it builds its own, the Bootstrap distribution, which is asymptotically -approaching- normal)</p>
<h3 id="dataset-simulation">Dataset Simulation</h3>
<p>We will simulate a dataset of one exploratory variable from the Gaussian distribution, and one response variable constructed by adding random noise to the exploratory variable. The population data would have 1000 observations.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>2021</span><span class='op'>)</span></span>
<span><span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>1000</span></span>
<span><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span></span>
<span><span class='va'>y</span> <span class='op'>&lt;-</span> <span class='va'>x</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span></span>
<span><span class='va'>population.data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>We will take a sample of 20 observations from these data.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>sample.data</span> <span class='op'>&lt;-</span> <span class='va'>population.data</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>population.data</span><span class='op'>)</span>, <span class='fl'>20</span>, replace <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>,<span class='op'>]</span></span></code></pre>
</div>
</div>
<h3 id="simple-regression-models">Simple regression models</h3>
<p>Let’s explore the simple regression models both for population and for sample data:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>population.model</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>y</span><span class='op'>~</span><span class='va'>x</span>, <span class='va'>population.data</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span> <span class='op'>(</span><span class='va'>population.data</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>       x                  y           
 Min.   :-3.20181   Min.   :-3.94126  
 1st Qu.:-0.70930   1st Qu.:-0.99490  
 Median : 0.00489   Median : 0.05896  
 Mean   : 0.01275   Mean   : 0.05030  
 3rd Qu.: 0.72678   3rd Qu.: 1.03078  
 Max.   : 3.48966   Max.   : 4.37777  </code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>sample.model</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>y</span><span class='op'>~</span><span class='va'>x</span>, <span class='va'>sample.data</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span> <span class='op'>(</span><span class='va'>sample.model</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>
Call:
lm(formula = y ~ x, data = sample.data)

Residuals:
    Min      1Q  Median      3Q     Max 
-1.7410 -0.6650  0.1611  0.5087  1.3680 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) -0.0003999  0.2021953  -0.002    0.998    
x            0.9793899  0.1958778   5.000 9.28e-05 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 0.9027 on 18 degrees of freedom
Multiple R-squared:  0.5814,    Adjusted R-squared:  0.5581 
F-statistic:    25 on 1 and 18 DF,  p-value: 9.284e-05</code></pre>
</div>
<p>We can see, that the intercept is biased for the sample data; however, the slope coefficient is very close to the population one, even though we have only 20 observations in our sample dataset. The standard errors are much higher for the sample model.</p>
<p>If we plot the models, we can see how close the lines are:</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="linear_files/figure-html5/unnamed-chunk-37-1.png" width="624" /></p>
</div>
<h3 id="bootstrap-approach">Bootstrap Approach</h3>
<p>The Bootstrap approach asks a question: what if we resample the data with replacement and estimate the coefficients, how extreme would it be?</p>
<center>
<img src="Figures/boot.gif" style="width:50.0%" />
</center>
<p>Here is a simple loop of 1000 trials, which resamples with replacement these 20 observations from our sample dataset, runs the regression model and saves the coefficients we get there. In the end, we would have 1000 pairs of coefficients.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Containers for the coefficients</span></span>
<span><span class='va'>sample_coef_intercept</span> <span class='op'>&lt;-</span> <span class='cn'>NULL</span></span>
<span><span class='va'>sample_coef_x1</span> <span class='op'>&lt;-</span> <span class='cn'>NULL</span></span>
<span></span>
<span><span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>1000</span><span class='op'>)</span> <span class='op'>{</span></span>
<span>  <span class='co'>#Creating a resampled dataset from the sample data</span></span>
<span>  <span class='va'>sample_d</span> <span class='op'>=</span> <span class='va'>sample.data</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>sample.data</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>sample.data</span><span class='op'>)</span>, replace <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>, <span class='op'>]</span></span>
<span>  </span>
<span>  <span class='co'>#Running the regression on these data</span></span>
<span>  <span class='va'>model_bootstrap</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>y</span> <span class='op'>~</span> <span class='va'>x</span>, data <span class='op'>=</span> <span class='va'>sample_d</span><span class='op'>)</span></span>
<span>  </span>
<span>  <span class='co'>#Saving the coefficients</span></span>
<span>  <span class='va'>sample_coef_intercept</span> <span class='op'>&lt;-</span></span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>sample_coef_intercept</span>, <span class='va'>model_bootstrap</span><span class='op'>$</span><span class='va'>coefficients</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span></span>
<span>  </span>
<span>  <span class='va'>sample_coef_x1</span> <span class='op'>&lt;-</span></span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>sample_coef_x1</span>, <span class='va'>model_bootstrap</span><span class='op'>$</span><span class='va'>coefficients</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>)</span></span>
<span><span class='op'>}</span></span>
<span></span>
<span><span class='va'>coefs</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='va'>sample_coef_intercept</span>, <span class='va'>sample_coef_x1</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>We would take the average of these coefficients, and compare them with the other models we previously obtained:</p>
<div class="layout-chunk" data-layout="l-body">
<table>
<caption><span id="tab:unnamed-chunk-39">Table 1: </span>Coefficients in different models</caption>
<thead>
<tr class="header">
<th></th>
<th style="text-align: right;">population</th>
<th style="text-align: right;">sample</th>
<th style="text-align: right;">bootstrap</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>(Intercept)</td>
<td style="text-align: right;">0.0377</td>
<td style="text-align: right;">-0.0004</td>
<td style="text-align: right;">0.0272</td>
</tr>
<tr class="even">
<td>x</td>
<td style="text-align: right;">0.9882</td>
<td style="text-align: right;">0.9794</td>
<td style="text-align: right;">0.9997</td>
</tr>
</tbody>
</table>
</div>
<div class="layout-chunk" data-layout="l-body">
<table style="width:100%;">
<caption><span id="tab:unnamed-chunk-40">Table 2: </span>Precision of the confidence intervals</caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 11%" />
<col style="width: 10%" />
<col style="width: 14%" />
<col style="width: 14%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">2.5 %</th>
<th style="text-align: left;">97.5 %</th>
<th style="text-align: left;">2.5 %</th>
<th style="text-align: left;">97.5 %</th>
<th style="text-align: left;">2.5 %</th>
<th style="text-align: left;">97.5 %</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">population</td>
<td style="text-align: left;">population</td>
<td style="text-align: left;">sample</td>
<td style="text-align: left;">sample</td>
<td style="text-align: left;">bootstrap</td>
<td style="text-align: left;">bootstrap</td>
</tr>
<tr class="even">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: left;">-0.0255</td>
<td style="text-align: left;">0.1009</td>
<td style="text-align: left;">-0.4252</td>
<td style="text-align: left;">0.4244</td>
<td style="text-align: left;">-0.35</td>
<td style="text-align: left;">0.3765</td>
</tr>
<tr class="odd">
<td style="text-align: left;">x</td>
<td style="text-align: left;">0.9262</td>
<td style="text-align: left;">1.0503</td>
<td style="text-align: left;">0.5679</td>
<td style="text-align: left;">1.3909</td>
<td style="text-align: left;">0.5789</td>
<td style="text-align: left;">1.4969</td>
</tr>
</tbody>
</table>
</div>
<p>We can see, that the precision is almost identical to the one of the sample model and even slightly tighter for the intercept.</p>
<h3 id="the-graphical-representation">The graphical representation</h3>
<p>First, the bootstrap representation:</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="linear_files/figure-html5/unnamed-chunk-41-1.png" width="624" /></p>
<pre><code>NULL</code></pre>
</div>
<p>These are 1000 possible regression lines we have estimated. Now let’s add to the plot population, sample, and average bootstrap lines.</p>
<div class="layout-chunk" data-layout="l-body">
<pre><code>NULL</code></pre>
<p><img src="linear_files/figure-html5/unnamed-chunk-42-1.png" width="624" /></p>
</div>
<p>We can see that they essentially capture the data in the same way. Now let’s add the confidence intervals from the sample data:</p>
<div class="layout-chunk" data-layout="l-body">
<pre><code>NULL</code></pre>
<p><img src="linear_files/figure-html5/unnamed-chunk-43-1.png" width="624" /></p>
</div>
<p>The bootstrapping approach returns essentially the same results but in a statistically different fashion. We do not rely on assumptions but simulate the data using a ‘brute’ force method. This could be especially useful when we have doubts about the distribution the data arrived from, or want to check the stability of the coefficients, particularly when using small datasets.</p>
<h3 id="iris">Iris</h3>
<p>Going back to our <code>iris</code> dataset, and addressing multicollinearity issue:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>fit1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>Petal.Width</span> <span class='op'>~</span> <span class='va'>Petal.Length</span> <span class='op'>+</span> <span class='va'>Sepal.Width</span> <span class='op'>+</span> <span class='va'>Sepal.Length</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>)</span> <span class='co'># sqrt(vif(fit1)) &gt;2 not good</span></span>
<span><span class='va'>fit2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>Petal.Width</span> <span class='op'>~</span> <span class='va'>Sepal.Width</span> <span class='op'>+</span> <span class='va'>Sepal.Length</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span><span class='op'>(</span><span class='fu'>car</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/car/man/vif.html'>vif</a></span><span class='op'>(</span><span class='va'>fit2</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>&gt;</span><span class='fl'>2</span> <span class='co'># okay</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/gvlma/man/gvlma.html'>gvlma</a></span><span class='op'>(</span><span class='va'>fit2</span><span class='op'>)</span></span>
<span><span class='va'>boxcoxfit2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/MASS/man/boxcox.html'>boxcox</a></span><span class='op'>(</span><span class='va'>fit2</span>,plotit<span class='op'>=</span><span class='cn'>T</span><span class='op'>)</span></span></code></pre>
</div>
<img src="linear_files/figure-html5/unnamed-chunk-44-1.png" width="624" />
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>lambda2</span> <span class='op'>&lt;-</span> <span class='va'>boxcoxfit2</span><span class='op'>$</span><span class='va'>x</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/which.min.html'>which.max</a></span><span class='op'>(</span><span class='va'>boxcoxfit2</span><span class='op'>$</span><span class='va'>y</span><span class='op'>)</span><span class='op'>]</span></span>
<span><span class='va'>new_fit2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='op'>(</span><span class='op'>(</span><span class='va'>iris</span><span class='op'>$</span><span class='va'>Petal.Width</span><span class='op'>^</span><span class='va'>lambda2</span><span class='op'>-</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>/</span><span class='va'>lambda2</span><span class='op'>)</span> <span class='op'>~</span>  <span class='va'>Sepal.Width</span> <span class='op'>+</span> <span class='va'>Sepal.Length</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/gvlma/man/gvlma.html'>gvlma</a></span><span class='op'>(</span><span class='va'>new_fit2</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Let’s get back to <code>fit2</code> and use a a bootstrap approach:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>fit2.boot</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/pkg/simpleboot/man/lm.boot.html'>lm.boot</a></span><span class='op'>(</span><span class='va'>fit2</span>, R<span class='op'>=</span><span class='fl'>1000</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>fit2.boot</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>BOOTSTRAP OF LINEAR MODEL  (method = rows)

Original Model Fit
------------------
Call:
lm(formula = Petal.Width ~ Sepal.Width + Sepal.Length, data = iris)

Coefficients:
 (Intercept)   Sepal.Width  Sepal.Length  
     -1.5635       -0.4787        0.7233  

Bootstrap SD&#39;s:
 (Intercept)   Sepal.Width  Sepal.Length  
  0.33183730    0.06546793    0.03802357  </code></pre>
</div>
<p>Good for new prediction, but a more comprehensive alternative using function <code>Boot()</code> from the <code>car</code> package”:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># can specify casewise or residual sampling with the method argument</span></span>
<span><span class='va'>fit3.boot</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/car/man/Boot.html'>Boot</a></span><span class='op'>(</span><span class='va'>fit2</span>, f<span class='op'>=</span><span class='va'>coef</span>, R<span class='op'>=</span><span class='fl'>1000</span>, method<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"case"</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>fit3.boot</span>, high.moments<span class='op'>=</span><span class='cn'>T</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>
Number of bootstrap replications R = 1000 
             original    bootBias   bootSE  bootMed bootSkew
(Intercept)  -1.56349 -0.00993770 0.346671 -1.54587 -0.15458
Sepal.Width  -0.47872  0.00225778 0.067385 -0.47788  0.16465
Sepal.Length  0.72329  0.00063463 0.038462  0.72115  0.12684
             bootKurtosis
(Intercept)       0.29403
Sepal.Width       0.36530
Sepal.Length      0.31195</code></pre>
</div>
<p>Fit 2 is not too bad overall !!!</p>
<h2 id="cross-validation">Cross Validation</h2>
<p><strong>Two types</strong></p>
<p>Two types of cross-validation can be distinguished: exhaustive and non-exhaustive cross-validation.</p>
<ul>
<li>Exhaustive cross-validation</li>
</ul>
<p>Exhaustive cross-validation methods are cross-validation methods which learn and test on all possible ways to divide the original sample into a training and a validation set.</p>
<center>
<img src="Figures/LOOCV.gif" style="width:50.0%" />
</center>
<ul>
<li>Non-exhaustive cross-validation</li>
</ul>
<p>Non-exhaustive cross validation methods do not compute all ways of splitting the original sample. These methods are approximations of leave-p-out cross-validation.</p>
<center>
<p><img src="Figures/KfoldCV.gif" style="width:50.0%" /></p>
</center>
<p>You can do K-Fold cross-validation using the <code>cv.lm( )</code> function in the DAAG package.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># K-fold cross-validation</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/DAAG/man/CVlm.html'>cv.lm</a></span><span class='op'>(</span><span class='va'>iris</span>, <span class='va'>fit2</span>, m<span class='op'>=</span><span class='fl'>3</span><span class='op'>)</span> <span class='co'># 3 fold cross-validation</span></span></code></pre>
</div>
<p><img src="linear_files/figure-html5/unnamed-chunk-47-1.png" width="624" /></p>
<pre><code>
fold 1 
Observations in test set: 50 
                     3           4          8         10         13
Predicted    0.3040719  0.27961484  0.4253152  0.4966024  0.4721454
cvpred       0.3097450  0.28805173  0.4264995  0.5081553  0.4864620
Petal.Width  0.2000000  0.20000000  0.2000000  0.1000000  0.1000000
CV residual -0.1097450 -0.08805173 -0.2264995 -0.4081553 -0.3864620
                     14          24         26          27         31
Predicted    0.11049937  0.54551657  0.6168038  0.42531524  0.4242732
cvpred       0.11962273  0.55154187  0.6331977  0.42649947  0.4347874
Petal.Width  0.10000000  0.50000000  0.2000000  0.40000000  0.2000000
CV residual -0.01962273 -0.05154187 -0.4331977 -0.02649947 -0.2347874
                    34         36         37         38          39
Predicted    0.4039842  0.5210595  0.7390891  0.2572418 0.182828571
cvpred       0.3799423  0.5298486  0.7416642  0.2497825 0.192990578
Petal.Width  0.2000000  0.2000000  0.2000000  0.1000000 0.200000000
CV residual -0.1799423 -0.3298486 -0.5416642 -0.1497825 0.007009422
                    46         59        62         63        65
Predicted    0.4721454  1.8219431 1.2677666  1.7230728 1.0986511
cvpred       0.4864620  1.8587578 1.2935083  1.7802726 1.1250793
Petal.Width  0.3000000  1.3000000 1.5000000  1.0000000 1.3000000
CV residual -0.1864620 -0.5587578 0.2064917 -0.7802726 0.1749207
                   67         68         69         77         81
Predicted   1.0507790  1.3390538  1.8677312  2.0144736  1.2656826
cvpred      1.0734048  1.3751642  1.9270083  2.0571681  1.3100843
Petal.Width 1.5000000  1.0000000  1.5000000  1.4000000  1.1000000
CV residual 0.4265952 -0.3751642 -0.4270083 -0.6571681 -0.2100843
                    83         84        85         87         95
Predicted    1.3390538 1.48371216 0.9061206  1.7985280 1.19439536
cvpred       1.3751642 1.52189985 0.9266691  1.8287766 1.22842845
Petal.Width  1.2000000 1.60000000 1.5000000  1.5000000 1.30000000
CV residual -0.1751642 0.07810015 0.5733309 -0.3287766 0.07157155
                   97        99       102         103       104
Predicted   1.1709803 0.9284936 1.3390538  2.13571697 1.6049555
cvpred      1.1984472 0.9649383 1.3751642  2.17392255 1.6386543
Petal.Width 1.3000000 1.1000000 1.9000000  2.10000000 1.8000000
CV residual 0.1015528 0.1350617 0.5248358 -0.07392255 0.1613457
                  105        108      113      115        120
Predicted   1.7017418  2.3282475 1.918729 1.291182  1.7230728
cvpred      1.7337154  2.3723328 1.953819 1.323490  1.7802726
Petal.Width 2.2000000  1.8000000 2.100000 2.400000  1.5000000
CV residual 0.4662846 -0.5723328 0.146181 1.076510 -0.2802726
                  124       125      128        130        131
Predicted   1.7006998 1.7027838 1.412425  2.2080462  2.4484488
cvpred      1.7420034 1.7254275 1.440244  2.2472904  2.4973752
Petal.Width 1.8000000 2.1000000 1.800000  1.6000000  1.9000000
CV residual 0.0579966 0.3745725 0.359756 -0.6472904 -0.5973752
                   134        136       140        147       149
Predicted    1.6528276  2.5696922 1.9431864 1.79644403 1.2932656
cvpred       1.6903289  2.6141297 1.9755123 1.84535251 1.3069137
Petal.Width  1.5000000  2.3000000 2.1000000 1.90000000 2.3000000
CV residual -0.1903289 -0.3141297 0.1244877 0.05464749 0.9930863

Sum of squares = 7.91    Mean square = 0.16    n = 50 

fold 2 
Observations in test set: 50 
                     1          2         11          12         15
Predicted    0.4497723  0.5444746  0.5710156  0.28065684  0.7167161
cvpred       0.4648058  0.5580558  0.5844039  0.29803077  0.7281424
Petal.Width  0.2000000  0.2000000  0.2000000  0.20000000  0.2000000
CV residual -0.2648058 -0.3580558 -0.3844039 -0.09803077 -0.5281424
                     17         22         23         28         30
Predicted    0.47527138 0.35402805 0.04025418  0.5221015  0.3040719
cvpred       0.49005004 0.37045194 0.06104227  0.5361231  0.3210673
Petal.Width  0.40000000 0.40000000 0.20000000  0.2000000  0.2000000
CV residual -0.09005004 0.02954806 0.13895773 -0.3361231 -0.1210673
                    33         42        44         45         47
Predicted    0.2348687  0.5902627 0.3774431 0.30615591  0.3061559
cvpred       0.2530615  0.6030250 0.3934885 0.32327501  0.3232750
Petal.Width  0.1000000  0.3000000 0.6000000 0.40000000  0.2000000
CV residual -0.1530615 -0.3030250 0.2065115 0.07672499 -0.1232750
                    49         51         53        58        60
Predicted    0.4986864  1.9676435  1.9431864 0.8317074 0.9050786
cvpred       0.5130866  1.9613657  1.9372253 0.8411174 0.9135386
Petal.Width  0.2000000  1.4000000  1.5000000 1.0000000 1.4000000
CV residual -0.3130866 -0.5613657 -0.4372253 0.1588826 0.4864614
                    61         66         70        71         72
Predicted    1.0955251  1.7985280  1.2901396 1.1720223  1.5081692
cvpred       1.1011424  1.7945906  1.2931617 1.1768752  1.5082175
Petal.Width  1.0000000  1.4000000  1.1000000 1.8000000  1.3000000
CV residual -0.1011424 -0.3945906 -0.1931617 0.6231248 -0.2082175
                    76         78        79         80         82
Predicted    1.7740710  1.8464002 1.3879679  1.3145967  1.2656826
cvpred       1.7704503  1.8417676 1.3897233  1.3173021  1.2690213
Petal.Width  1.4000000  1.7000000 1.5000000  1.0000000  1.0000000
CV residual -0.3704503 -0.1417676 0.1102767 -0.3173021 -0.2690213
                    88        89          92         96         98
Predicted    1.8921883 1.0507790  1.41242497 1.12310817  1.5326263
cvpred       1.8867368 1.0572771  1.41386365 1.12859437  1.5323579
Petal.Width  1.3000000 1.3000000  1.40000000 1.20000000  1.3000000
CV residual -0.5867368 0.2427229 -0.01386365 0.07140563 -0.2323579
                   100        106       110       111       112
Predicted   1.21885243  2.4973630 1.9208134 1.6059975 1.7730290
cvpred      1.22294823  2.4836235 1.9152926 1.6047791 1.7693464
Petal.Width 1.30000000  2.1000000 2.5000000 2.0000000 1.9000000
CV residual 0.07705177 -0.3836235 0.5847074 0.3952209 0.1306536
                 114       116        118       127       132
Predicted   1.362469 1.5336683 2.18671511 1.5804984  2.331374
cvpred      1.364479 1.5334618 2.17752533 1.5795348  2.320160
Petal.Width 2.000000 2.3000000 2.20000000 1.8000000  2.000000
CV residual 0.635521 0.7665382 0.02247467 0.2204652 -0.320160
                   135       141       145       146       148
Predicted    1.6039135 1.7985280 1.7027838 1.8464002 1.7017418
cvpred       1.6025714 1.7945906 1.7002368 1.8417676 1.6991329
Petal.Width  1.4000000 2.4000000 2.5000000 2.3000000 2.0000000
CV residual -0.2025714 0.6054094 0.7997632 0.4582324 0.3008671

Sum of squares = 6.43    Mean square = 0.13    n = 50 

fold 3 
Observations in test set: 50 
                     5           6         7             9
Predicted    0.3295710  0.47527138 0.1359984  0.2307007029
cvpred       0.3191246  0.47318765 0.1199458  0.2008190896
Petal.Width  0.2000000  0.40000000 0.3000000  0.2000000000
CV residual -0.1191246 -0.07318765 0.1800542 -0.0008190896
                     16         18         19           20        21
Predicted    0.45289832  0.4497723  0.7401311  0.306155915  0.714632
cvpred       0.46466687  0.4365928  0.7353609  0.301245734  0.698766
Petal.Width  0.40000000  0.3000000  0.3000000  0.300000000  0.200000
CV residual -0.06466687 -0.1365928 -0.4353609 -0.001245734 -0.498766
                     25         29        32         35         40
Predicted    0.28065684  0.5699736  0.714632  0.4966024  0.4976444
cvpred       0.26465084  0.5540610  0.698766  0.4723504  0.4817084
Petal.Width  0.20000000  0.2000000  0.400000  0.2000000  0.2000000
CV residual -0.06465084 -0.3540610 -0.298766 -0.2723504 -0.2817084
                     41         43          48         50         52
Predicted    0.37744311 0.08708431  0.23174271  0.4731874  1.5336683
cvpred       0.36424023 0.06547206  0.21017713  0.4544716  1.5125227
Petal.Width  0.30000000 0.20000000  0.20000000  0.2000000  1.5000000
CV residual -0.06424023 0.13452794 -0.01017713 -0.2544716 -0.0125227
                    54         55        56        57          64
Predicted   1.31355469  1.7974860 1.2188524 1.4134670  1.46029710
cvpred      1.26739099  1.7653379 1.1865177 1.3950545  1.43081213
Petal.Width 1.30000000  1.5000000 1.3000000 1.6000000  1.40000000
CV residual 0.03260901 -0.2653379 0.1134823 0.2049455 -0.03081213
                    73         74         75        86        90
Predicted    1.7964440  1.5081692  1.6772847 1.1486072 1.2178104
cvpred       1.7559799  1.4759278  1.6478697 1.1328812 1.1771596
Petal.Width  1.5000000  1.2000000  1.3000000 1.6000000 1.3000000
CV residual -0.2559799 -0.2759278 -0.3478697 0.4671188 0.1228404
                    91         93         94      101       107
Predicted   1.16993830  1.3869259 0.95190869 1.413467 0.7838352
cvpred      1.13204396  1.3491016 0.90562833 1.395054 0.7430444
Petal.Width 1.20000000  1.2000000 1.00000000 2.500000 1.7000000
CV residual 0.06795604 -0.1491016 0.09437167 1.104946 0.9569556
                  109       117        119       121       122
Predicted    2.085761 1.7017418  2.7611807 1.8953143 1.1465232
cvpred       2.045390 1.6751066  2.7237997 1.8742854 1.1141651
Petal.Width  1.800000 1.8000000  2.3000000 2.3000000 2.0000000
CV residual -0.245390 0.1248934 -0.4237997 0.4257146 0.8858349
                   123        126       129       133      137
Predicted    2.6654364  2.1123019 1.7251568 1.7251568 1.365595
cvpred       2.6335683  2.0913429 1.6929854 1.6929854 1.349939
Petal.Width  2.0000000  1.8000000 2.1000000 2.2000000 2.400000
CV residual -0.6335683 -0.2913429 0.4070146 0.5070146 1.050061
                  138       139      142       143       144
Predicted   1.5815404 1.3400958 1.943186 1.3390538 1.8229851
cvpred      1.5576384 1.3133439 1.919401 1.3039859 1.8019328
Petal.Width 1.8000000 1.8000000 2.300000 1.9000000 2.3000000
CV residual 0.2423616 0.4866561 0.380599 0.5960141 0.4980672
                  150
Predicted   1.2677666
cvpred      1.2409914
Petal.Width 1.8000000
CV residual 0.5590086

Sum of squares = 8.36    Mean square = 0.17    n = 50 

Overall (Sum over all 50 folds) 
       ms 
0.1513302 </code></pre>
</div>
<p>Sum the Mean Square Error (MSE) for each fold, divide by the number of observations, and take the square root to get the cross-validated standard error of estimate.</p>
<p>You can assess R2 shrinkage via K-fold cross-validation. Using the <code>crossval()</code> function from the <code>bootstrap</code> package, do the following:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Assessing R2 shrinkage using 10-Fold Cross-Validation</span></span>
<span><span class='co'># define functions</span></span>
<span><span class='va'>theta.fit</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span>,<span class='va'>y</span><span class='op'>)</span><span class='op'>{</span><span class='fu'><a href='https://rdrr.io/r/stats/lsfit.html'>lsfit</a></span><span class='op'>(</span><span class='va'>x</span>,<span class='va'>y</span><span class='op'>)</span><span class='op'>}</span></span>
<span><span class='va'>theta.predict</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>fit</span>,<span class='va'>x</span><span class='op'>)</span><span class='op'>{</span><span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='va'>x</span><span class='op'>)</span><span class='op'><a href='https://rdrr.io/r/base/matmult.html'>%*%</a></span><span class='va'>fit</span><span class='op'>$</span><span class='va'>coef</span><span class='op'>}</span></span>
<span><span class='co'># matrix of predictors</span></span>
<span><span class='va'>X</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>iris</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Sepal.Width"</span>,<span class='st'>"Sepal.Length"</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span></span>
<span><span class='co'># vector of predicted values</span></span>
<span><span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>iris</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Petal.Width"</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span></span>
<span><span class='va'>results</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/bootstrap/man/crossval.html'>crossval</a></span><span class='op'>(</span><span class='va'>X</span>,<span class='va'>y</span>,<span class='va'>theta.fit</span>,<span class='va'>theta.predict</span>,ngroup<span class='op'>=</span><span class='fl'>3</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/stats/cor.html'>cor</a></span><span class='op'>(</span><span class='va'>y</span>, <span class='va'>fit2</span><span class='op'>$</span><span class='va'>fitted.values</span><span class='op'>)</span><span class='op'>**</span><span class='fl'>2</span> <span class='co'># raw R2</span></span></code></pre>
</div>
<pre><code>                [,1]
Petal.Width 0.742928</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/stats/cor.html'>cor</a></span><span class='op'>(</span><span class='va'>y</span>,<span class='va'>results</span><span class='op'>$</span><span class='va'>cv.fit</span><span class='op'>)</span><span class='op'>**</span><span class='fl'>2</span> <span class='co'># cross-validated R2</span></span></code></pre>
</div>
<pre><code>                 [,1]
Petal.Width 0.7401434</code></pre>
</div>
<h2 id="comparing-models">Comparing Models</h2>
<p>Let’s change of data set to make it a bit more simple from now: salaries and other information of 62 professors in Cohen et. al. (2003, pp. 81-82). Check <code>?prof.salary</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>prof.salary</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>We now build a serie of simple regression models</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>fit.prof1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>salary</span><span class='op'>~</span><span class='va'>pub</span>, data<span class='op'>=</span><span class='va'>prof.salary</span><span class='op'>)</span></span>
<span><span class='va'>fit.prof2</span>  <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>salary</span><span class='op'>~</span><span class='va'>citation</span>, data<span class='op'>=</span><span class='va'>prof.salary</span><span class='op'>)</span></span>
<span><span class='va'>fit.prof3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>salary</span><span class='op'>~</span><span class='va'>pub</span><span class='op'>+</span><span class='va'>citation</span>, data<span class='op'>=</span><span class='va'>prof.salary</span><span class='op'>)</span></span>
<span><span class='va'>fit.prof4</span>  <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>salary</span><span class='op'>~</span><span class='va'>citation</span><span class='op'>+</span><span class='va'>pub</span>, data<span class='op'>=</span><span class='va'>prof.salary</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Check <a href="https://bcdudek.net/regression1/implementation-of-standard-multiple-regression-analyses-linear-modeling-with-multiple-ivs.html#diagnostic-and-added-variable-plots-for-the-full-two-iv-model">here</a> for the regression diagnostics and influence analysis.</p>
<p>We can pass two linear models to <code>anova</code> and ask it to compare them. We consider beginning wth fit.prof1 (only <code>pubs</code> was an independent variable in that simple regression), and compare fit.prof3 (which also included <code>cits</code> as an independent variable) to test the increment in the R-squared produced by the inclusion of <code>cits</code>. The F value matches the Type III SS F test for <code>cits</code> and is the square of the <em>t</em> value that tested the regression coefficient of <code>cits</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># compare model 3 to model 1 - stepping approach, evaluating a new variable (cits)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/stats/anova.html'>anova</a></span><span class='op'>(</span><span class='va'>fit.prof1</span>,<span class='va'>fit.prof3</span><span class='op'>)</span><span class='co'># note this is anova, not Anova</span></span></code></pre>
</div>
<pre><code>Analysis of Variance Table

Model 1: salary ~ pub
Model 2: salary ~ pub + citation
  Res.Df        RSS Df Sum of Sq      F    Pr(&gt;F)    
1     60 4274424497                                  
2     59 3335822387  1 938602110 16.601 0.0001396 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
</div>
<p>The next illustration compares the full model to the simple regression that only contained cits (fit2). The test is therefore the test of an hypothesis that increment in SS accounted for by pubs is zero. And this F also matches the F test of the Type III SS seen above.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># compare model 3 to model 2 - stepping approach, evaluating a new variable (pubs)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/stats/anova.html'>anova</a></span><span class='op'>(</span><span class='va'>fit.prof2</span>,<span class='va'>fit.prof3</span><span class='op'>)</span><span class='co'># note this is anova, not Anova</span></span></code></pre>
</div>
<pre><code>Analysis of Variance Table

Model 1: salary ~ citation
Model 2: salary ~ pub + citation
  Res.Df        RSS Df Sum of Sq      F   Pr(&gt;F)   
1     60 4009743405                                
2     59 3335822387  1 673921018 11.919 0.001034 **
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
</div>
<h2 id="variable-selection">Variable Selection</h2>
<p>An information criterion balances the fitness of a model with the number of predictors employed. Hence, it determines objectively the best model as the one that minimizes the information criterion. Two common criteria are the <strong>Bayesian Information Criterion (BIC)</strong> and the <strong>Akaike Information Criterion (AIC)</strong>.</p>
<p><span class="math inline">\(AIC(model)=-2*logLik(model) + npar(model) * 2\)</span></p>
<p><span class="math inline">\(BIC(model)=-2*logLik(model) + npar(model) * log(n)\)</span></p>
<p>where <span class="math inline">\(Lik(model)\)</span> is the likelihood of the model (how well the model fits the data) and <span class="math inline">\(npar(model)\)</span> is the number of parameters of the model, <span class="math inline">\(k+2\)</span> in the case of a multiple linear regression model with <span class="math inline">\(k\)</span> predictors.The AIC replaces <span class="math inline">\(log(n)\)</span> by <span class="math inline">\(2\)</span>, so it penalizes less complex models.This is one of the reasons why BIC is preferred by some practitioners for model comparison. Also, because is consistent in selecting the true model: if enough data is provided, the BIC is guaranteed to select the data-generating model among a list of candidate models.</p>
<p>Both are based on a <strong>balance between the model fitness and its complexity</strong>.Both BIC and AIC can be computed in <code>R</code> through the functions <code>BIC</code> and <code>AIC</code>. They take a model as the input. The lower the better with a rule of thumb = 2.</p>
<p>Note: Do you remember about <code>sigma</code> (the Residual Standard Error, RSE)? We previously used it to calculate a pecrcentage error. Well, AIC and BIC used the log likelihood of the model obtain using <code>logLik (model)</code>. You can recalculate this logLik using: <code>sum(log(dnorm(x = y, mean = predict(model), sd = sigma(model))))</code> which illustrate the connection between <code>sigma</code>and information criterion.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/stats/AIC.html'>BIC</a></span><span class='op'>(</span><span class='va'>fit.prof1</span><span class='op'>)</span>; <span class='fu'><a href='https://rdrr.io/r/stats/AIC.html'>BIC</a></span><span class='op'>(</span><span class='va'>fit.prof2</span><span class='op'>)</span>;<span class='fu'><a href='https://rdrr.io/r/stats/AIC.html'>BIC</a></span><span class='op'>(</span><span class='va'>fit.prof3</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] 1307.354</code></pre>
<pre><code>[1] 1303.391</code></pre>
<pre><code>[1] 1296.11</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/stats/AIC.html'>AIC</a></span><span class='op'>(</span><span class='va'>fit.prof1</span><span class='op'>)</span>; <span class='fu'><a href='https://rdrr.io/r/stats/AIC.html'>AIC</a></span><span class='op'>(</span><span class='va'>fit.prof2</span><span class='op'>)</span>;<span class='fu'><a href='https://rdrr.io/r/stats/AIC.html'>AIC</a></span><span class='op'>(</span><span class='va'>fit.prof3</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] 1300.973</code></pre>
<pre><code>[1] 1297.01</code></pre>
<pre><code>[1] 1287.601</code></pre>
</div>
<p>However, selecting a subset of predictor variables from a larger set (e.g., stepwise selection) remains a controversial topic. You can perform stepwise selection (forward, backward, both) using the <code>stepAIC()</code> and <code>stepBIC()</code> function from the <code>MASS</code> package. <code>stepAIC()</code> performs stepwise model selection by exact AIC.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Stepwise Selection based on AIC</span></span>
<span><span class='va'>fit.prof5</span>  <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>salary</span><span class='op'>~</span><span class='va'>citation</span><span class='op'>+</span><span class='va'>pub</span><span class='op'>+</span><span class='va'>time</span>, data<span class='op'>=</span><span class='va'>prof.salary</span><span class='op'>)</span></span>
<span><span class='va'>step1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/MASS/man/stepAIC.html'>stepAIC</a></span><span class='op'>(</span><span class='va'>fit.prof5</span>, direction<span class='op'>=</span><span class='st'>"both"</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>Start:  AIC=1102.26
salary ~ citation + pub + time

           Df Sum of Sq        RSS    AIC
- pub       1  59458298 2926312249 1101.5
&lt;none&gt;                  2866853951 1102.3
- time      1 468968436 3335822387 1109.7
- citation  1 634124345 3500978295 1112.7

Step:  AIC=1101.53
salary ~ citation + time

           Df  Sum of Sq        RSS    AIC
&lt;none&gt;                   2926312249 1101.5
+ pub       1   59458298 2866853951 1102.3
- citation  1  696719756 3623032005 1112.8
- time      1 1083431156 4009743405 1119.1</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>step1</span><span class='op'>$</span><span class='va'>anova</span> <span class='co'># display results</span></span></code></pre>
</div>
<pre><code>Stepwise Model Path 
Analysis of Deviance Table

Initial Model:
salary ~ citation + pub + time

Final Model:
salary ~ citation + time


   Step Df Deviance Resid. Df Resid. Dev      AIC
1                          58 2866853951 1102.259
2 - pub  1 59458298        59 2926312249 1101.532</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#Stepwise Selection with BIC</span></span>
<span><span class='va'>n</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='op'>(</span><span class='va'>prof.salary</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span></span>
<span><span class='va'>step2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/MASS/man/stepAIC.html'>stepAIC</a></span><span class='op'>(</span><span class='va'>fit.prof5</span>, k<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span>, direction<span class='op'>=</span><span class='st'>"both"</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>Start:  AIC=1110.77
salary ~ citation + pub + time

           Df Sum of Sq        RSS    AIC
- pub       1  59458298 2926312249 1107.9
&lt;none&gt;                  2866853951 1110.8
- time      1 468968436 3335822387 1116.0
- citation  1 634124345 3500978295 1119.0

Step:  AIC=1107.91
salary ~ citation + time

           Df  Sum of Sq        RSS    AIC
&lt;none&gt;                   2926312249 1107.9
+ pub       1   59458298 2866853951 1110.8
- citation  1  696719756 3623032005 1117.0
- time      1 1083431156 4009743405 1123.3</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>step2</span><span class='op'>$</span><span class='va'>anova</span> <span class='co'># display results</span></span></code></pre>
</div>
<pre><code>Stepwise Model Path 
Analysis of Deviance Table

Initial Model:
salary ~ citation + pub + time

Final Model:
salary ~ citation + time


   Step Df Deviance Resid. Df Resid. Dev      AIC
1                          58 2866853951 1110.768
2 - pub  1 59458298        59 2926312249 1107.914</code></pre>
</div>
<p>When applying <code>stepAIC</code> for BIC/AIC, different final models might be selected depending on the choice of direction. This is the interpretation:</p>
<ul>
<li><code>“backward”</code>: starts from the full model, removes predictors sequentially.</li>
<li><code>“forward”</code>: starts from the simplest model, adds predictors sequentially.</li>
<li><code>“both”</code> (default): combination of the above.</li>
</ul>
<p>The advice is to try several of these methods and retain the one with minimum BIC/AIC. Set trace = 0 to omit lengthy outputs of information of the search procedure.</p>
<p>Alternatively, you can perform all-subsets regression using the <code>leaps()</code> function from the <code>leaps</code> package. In the following code <code>nbest</code> indicates the number of subsets of each size to report. Here, the ten best models will be reported for each subset size (1 predictor, 2 predictors, etc.).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># All Subsets Regression</span></span>
<span><span class='va'>leaps</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/pkg/leaps/man/regsubsets.html'>regsubsets</a></span><span class='op'>(</span><span class='va'>salary</span><span class='op'>~</span><span class='va'>citation</span><span class='op'>+</span><span class='va'>pub</span><span class='op'>+</span><span class='va'>time</span>, data<span class='op'>=</span><span class='va'>prof.salary</span>,nbest<span class='op'>=</span><span class='fl'>10</span><span class='op'>)</span></span>
<span><span class='co'># view results</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>leaps</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>Subset selection object
Call: regsubsets.formula(salary ~ citation + pub + time, data = prof.salary, 
    nbest = 10)
3 Variables  (and intercept)
         Forced in Forced out
citation     FALSE      FALSE
pub          FALSE      FALSE
time         FALSE      FALSE
10 subsets of each size up to 3
Selection Algorithm: exhaustive
         citation pub time
1  ( 1 ) &quot; &quot;      &quot; &quot; &quot;*&quot; 
1  ( 2 ) &quot;*&quot;      &quot; &quot; &quot; &quot; 
1  ( 3 ) &quot; &quot;      &quot;*&quot; &quot; &quot; 
2  ( 1 ) &quot;*&quot;      &quot; &quot; &quot;*&quot; 
2  ( 2 ) &quot;*&quot;      &quot;*&quot; &quot; &quot; 
2  ( 3 ) &quot; &quot;      &quot;*&quot; &quot;*&quot; 
3  ( 1 ) &quot;*&quot;      &quot;*&quot; &quot;*&quot; </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># plot a table of models showing variables in each model.</span></span>
<span><span class='co'># models are ordered by the selection statistic.</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>leaps</span>,scale<span class='op'>=</span><span class='st'>"r2"</span><span class='op'>)</span></span></code></pre>
</div>
<img src="linear_files/figure-html5/unnamed-chunk-55-1.png" width="624" />
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># plot statistic by subset size</span></span>
<span><span class='co'># subsets(leaps, statistic="rsq")</span></span></code></pre>
</div>
</div>
<p>Other options for <code>plot()</code> are bic, Cp, and adjr2. Other options for plotting with <code>subset()</code> are bic, cp, adjr2, and rss.</p>
<h2 id="model-assesment">Model assesment</h2>
<p>It turns out that:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>fit.prof6</span>  <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>salary</span><span class='op'>~</span><span class='va'>citation</span><span class='op'>+</span><span class='va'>time</span>, data<span class='op'>=</span><span class='va'>prof.salary</span><span class='op'>)</span></span>
<span><span class='co'># gvlma(fit.prof6)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>fit.prof6</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>
Call:
lm(formula = salary ~ citation + time, data = prof.salary)

Residuals:
     Min       1Q   Median       3Q      Max 
-14809.6  -4364.9   -479.6   3960.7  22449.2 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 39073.67    2396.47  16.305  &lt; 2e-16 ***
citation      212.11      56.59   3.748 0.000408 ***
time         1061.76     227.18   4.674 1.76e-05 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 7043 on 59 degrees of freedom
Multiple R-squared:  0.4908,    Adjusted R-squared:  0.4735 
F-statistic: 28.43 on 2 and 59 DF,  p-value: 2.258e-09</code></pre>
</div>
<p>The first step in interpreting the multiple regression analysis is to examine the <em>F</em>-statistic and the associated <em>p</em>-value, at the bottom of the model summary.</p>
<p>In our example, it can be seen that p-value of the F-statistic is <code>p-value: 2.258e-09</code>, which is highly significant. This means that, at least, one of the predictor variables is significantly related to the outcome variable.</p>
<p>To see which predictor variables are significant, you can examine the coefficients table, which shows the estimate of regression beta coefficients and the associated t-statistic p-values:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>fit.prof6</span><span class='op'>)</span><span class='op'>$</span><span class='va'>coefficient</span></span></code></pre>
</div>
<pre><code>              Estimate Std. Error   t value     Pr(&gt;|t|)
(Intercept) 39073.6747 2396.47360 16.304655 1.593845e-23
citation      212.1116   56.59392  3.747958 4.078031e-04
time         1061.7642  227.17563  4.673759 1.761335e-05</code></pre>
</div>
<p>For a given predictor, the <em>t</em>-statistic evaluates whether or not there is significant association between this predictor and the outcome variable, that is whether the beta coefficient of the predictor is significantly different from zero.</p>
<p>It can be seen that, changes in <code>citation</code> and <code>time</code> are both significantly associated to changes in <code>salary</code>. For a given predictor variable, the coefficient (<span class="math inline">\(\beta\)</span>) can be interpreted as the average effect on <span class="math inline">\(y\)</span> of a one unit increase in predictor, holding all other predictors fixed.</p>
<p>For example, for a fixed values of <code>citation</code> the increase of one unit of <code>time</code> increase salary of <code>1061</code> unit on average (vs. <code>1379</code> unit in our example using a simple linear regression). If a predictor was not significant in our multiple regression model, it means that its change will not significantly affect <code>salary</code>. Therefore, it is possible to remove it from the model.</p>
<p>As we saw earlier, the confidence interval of the model coefficient can be extracted as follow:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/stats/confint.html'>confint</a></span><span class='op'>(</span><span class='va'>fit.prof6</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>                  2.5 %     97.5 %
(Intercept) 34278.34213 43869.0073
citation       98.86747   325.3558
time          607.18682  1516.3416</code></pre>
</div>
<h3 id="accuracy">Accuracy</h3>
<p>As we have seen in simple linear regression, the overall quality of the model can be assessed by examining the R-squared (<span class="math inline">\(R^2\)</span>) and Residual Standard Error (RSE).</p>
<ol type="1">
<li><strong>The R-squared (<span class="math inline">\(R^2\)</span>)</strong></li>
</ol>
<p>In multiple linear regression, the <span class="math inline">\(R\)</span> represents the correlation coefficient between the observed values of the outcome variable (<span class="math inline">\(y\)</span>) and the fitted (i.e., predicted) values of <span class="math inline">\(y\)</span>. For this reason, the value of <span class="math inline">\(R\)</span> will always be positive and will range from zero to one.</p>
<p><span class="math inline">\(R^2\)</span> represents the proportion of variance, in the outcome variable y, that may be predicted by knowing the value of the <span class="math inline">\(x\)</span> variables. An <span class="math inline">\(R^2\)</span> value close to 1 indicates that the model explains a large portion of the variance in the outcome variable.</p>
<p>A problem with the <span class="math inline">\(R^2\)</span>, is that, it will always increase when more variables are added to the model, even if those variables are only weakly associated with the response (James et al. 2014). A solution is to adjust the <span class="math inline">\(R^2\)</span> by taking into account the number of predictor variables.</p>
<p>The adjustment in the “Adjusted R-Squared” value in the summary output is a correction for the number of <span class="math inline">\(x\)</span> variables included in the prediction model.</p>
<ol start="2" type="1">
<li><strong>The Residual Standard Error (RSE).</strong></li>
</ol>
<p>As mentioned earlier, the RSE estimate gives a measure of error of prediction. The lower the RSE, the more accurate the model (on the data in hand).</p>
<p>The error rate can be estimated by dividing the RSE by the mean outcome variable:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/stats/sigma.html'>sigma</a></span><span class='op'>(</span><span class='va'>fit.prof6</span><span class='op'>)</span><span class='op'>/</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>prof.salary</span><span class='op'>$</span><span class='va'>salary</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] 0.128478</code></pre>
</div>
<p>Which only slightly increase our prediction in comparison with using a single predictor, the ’Petal.Length` (16 vs 17 %). A parcimonial choice may be to retain fewer predictors if the information they bring is not important enough in our prediction.</p>
<h3 id="model-customization">Model customization</h3>
<p>To compute multiple regression using all of the predictors in the data set, simply type this:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>model.full</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>salary</span> <span class='op'>~</span><span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>prof.salary</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>If you want to perform the regression using all of the variables except one, say <code>Sepal.Width</code>, type this:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>model.partial1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>salary</span> <span class='op'>~</span><span class='va'>.</span> <span class='op'>-</span><span class='va'>sex</span>, data <span class='op'>=</span> <span class='va'>prof.salary</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Alternatively, you can use the update function:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>model.partial2</span> <span class='op'>&lt;-</span>  <span class='fu'><a href='https://rdrr.io/r/stats/update.html'>update</a></span><span class='op'>(</span><span class='va'>model.full</span>,  <span class='op'>~</span><span class='va'>.</span> <span class='op'>-</span><span class='va'>sex</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h1 id="f-test">F-test</h1>
<p>F-tests are named after its test statistic, F (named in honor of Sir Ronald Fisher). The F-statistic is simply a ratio of two variances. Variances are a measure of dispersion, or how far the data are scattered from the mean. Larger values represent greater dispersion. F-statistics are based on the ratio of mean squares.</p>
<p>Despite being a ratio of variances, you can use F-tests in a wide variety of situations. Unsurprisingly, the F-test can assess the equality of variances. However, by changing the variances that are included in the ratio, the F-test becomes a very flexible test. For example, you can use F-statistics and F-tests to test the overall significance for a regression model, to compare the fits of different models, to test specific regression terms, and to test the equality of means.</p>
<h2 id="f-test-in-linear-regression">F-test in linear regression</h2>
<p>We already mentioned the F-statistic and its meaning in a simple linear regression.</p>
<h2 id="f-test-in-multiple-regression">F-test in multiple regression</h2>
<p>Similarly in the case of multiple linear regression, the F-test tests whether any of the independent variables in a model are significant. For a multiple regression model with intercept, we want to test the following null hypothesis and alternative hypothesis:</p>
<p><span class="math inline">\(H0: β1 = β2 = ... = βp-1 = 0\)</span></p>
<p><span class="math inline">\(H1: βj ≠ 0, for at least one value of j\)</span></p>
<p>I will save you with the <a href="https://bcdudek.net/regression1/review-unique-and-common-proportions-of-variance-and-type-i-vs-iii-sums-of-squares.html#f-tests-on-the-unique-components">details</a> of computing F-statistic in the case of a multiple regression. But that’s all about Sum and Mean of Squares computation. Simply written F represents:</p>
<p>F = MSM / MSE = (explained variance) / (unexplained variance)</p>
<h2 id="anova-models">Anova models</h2>
<p>Linear regression and linear model are complete synonyms, and we usually use these terms when we’re quantifying the effect of a <strong>continuous</strong> explanatory variable on a <strong>continuous</strong> response variable: the change in <span class="math inline">\(Y\)</span> for a 1 unit change in <span class="math inline">\(X\)</span>? We did this using the <code>iris</code> data set: what is the increase of <span class="math inline">\(Petal.Width\)</span> when <span class="math inline">\(Sepal.Length\)</span> and <span class="math inline">\(Sepal.Width\)</span> increase?</p>
<p>Now the <strong>ANOVA</strong>. ANOVA stands for <strong>Analysis of Variance</strong>. We usually talk about an ANOVA when we’re quantifying the effect of a <strong>discrete</strong>, or <strong>categorical</strong> explanatory variable on a <strong>continuous</strong> response variable. How does the mean <span class="math inline">\(Petal.Width\)</span> vary depending on the iris <span class="math inline">\(Species\)</span> (a categorial variable)? This is also a linear model, but instead of getting a slope that allows us to predict the <span class="math inline">\(Petal.width\)</span> for any value of <span class="math inline">\(Sepal.Length\)</span> or <span class="math inline">\(Sepal.width\)</span>, we get an estimate of the <span class="math inline">\(Petal.Width\)</span> for each <span class="math inline">\(Species\)</span>. Basically, using ANOVA can determine whether the means of three or more groups are different. ANOVA uses F-tests to statistically test the equality of means.</p>
<p>Fundamentally, linear regression, linear model, and ANOVA are fundamentally the same thing! Actually an ANOVA does not provide anything that a lm cannot provide (the reverse is yet not true). When using a categorical variable, it is all a matter of including the correct variances in the ratio. In one-way ANOVA, the F-statistic is this ratio i simply written:</p>
<p>F = variation between sample means / variation within the samples</p>
<p>That’s basically what is represented below by: MSB/MSW (see <a href="https://byjus.com/anova-formula/">here</a>)</p>
<center>
<img src="Figures/ANOVA.png" style="width:100.0%" />
</center>
<p>Further details of the computation of a One-Way ANOVA is provided a step-by step demo in excel <a href=".\Data\demo_stats.xlsx">here</a>. You can run the <code>anova</code> function on a linear model object and see how you get the same <em>F</em>-stat than in our example.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>students</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></span><span class='op'>(</span><span class='st'>'https://www.dipintothereef.com/uploads/3/7/3/5/37359245/students.txt'</span>,header<span class='op'>=</span><span class='cn'>T</span>, sep<span class='op'>=</span><span class='st'>"\t"</span>, dec<span class='op'>=</span><span class='st'>'.'</span><span class='op'>)</span> </span>
<span><span class='va'>lm.cat</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>shoesize</span><span class='op'>~</span><span class='va'>gender</span>, data<span class='op'>=</span><span class='va'>students</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/stats/anova.html'>anova</a></span><span class='op'>(</span><span class='va'>lm.cat</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>Analysis of Variance Table

Response: shoesize
          Df Sum Sq Mean Sq F value    Pr(&gt;F)    
gender     1   62.5    62.5  48.077 0.0001204 ***
Residuals  8   10.4     1.3                      
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
</div>
<p>And its application on the <code>iris</code> data set:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>iris.lm</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>Petal.Width</span> <span class='op'>~</span> <span class='va'>Species</span>, data<span class='op'>=</span><span class='va'>iris</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>iris.lm</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>
Call:
lm(formula = Petal.Width ~ Species, data = iris)

Residuals:
   Min     1Q Median     3Q    Max 
-0.626 -0.126 -0.026  0.154  0.474 

Coefficients:
                  Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)        0.24600    0.02894    8.50 1.96e-14 ***
Speciesversicolor  1.08000    0.04093   26.39  &lt; 2e-16 ***
Speciesvirginica   1.78000    0.04093   43.49  &lt; 2e-16 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 0.2047 on 147 degrees of freedom
Multiple R-squared:  0.9289,    Adjusted R-squared:  0.9279 
F-statistic:   960 on 2 and 147 DF,  p-value: &lt; 2.2e-16</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/stats/anova.html'>anova</a></span><span class='op'>(</span><span class='va'>iris.lm</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>Analysis of Variance Table

Response: Petal.Width
           Df Sum Sq Mean Sq F value    Pr(&gt;F)    
Species     2 80.413  40.207  960.01 &lt; 2.2e-16 ***
Residuals 147  6.157   0.042                      
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
</div>
<p>An ANOVA tests the effect of one or more nominal (aka <strong>factor</strong>) <strong>independent</strong> variable(s) on a numerical <strong>dependent</strong> variable. A nominal (factor) variable is one that contains a finite number of categories with no inherent order.</p>
<p>If you only include one independent variable, this is called a <strong>One-way ANOVA</strong>. If you include two independent variables, this is called a <strong>Two-way ANOVA</strong>. If you include three independent variables, this is called (…), etc. There are many types of ANOVAs that depend on the type of data you are analyzing. In fact, there are so many types of ANOVAs that there are entire books explaining differences between one type and another.</p>
<h3 id="full-factorial-between-subjects-anova">Full-factorial between-subjects ANOVA</h3>
<p>Here, we’ll cover just one type of ANOVAs called <strong>full-factorial, between-subjects ANOVAs</strong>. These are the simplest types of ANOVAs (and easiest to explain) which are used to analyze a standard experimental design. In a full-factorial, between-subjects ANOVA, observations (data) are assigned to a unique combination of factors – where a combination of factors means a specific experimental condition.</p>
<p>The <code>poopdeck</code> data set (package <code>yarrrr</code>, Phillips 2018) is a dataframe containing the amount of time it took to clean both <code>parrot</code> and <code>shark</code> poop from the deck of a boat using three different cleaning agents <code>a</code>, <code>b</code>, <code>c</code>. That’s daily measurement.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/yarrr/man/pirateplot.html'>pirateplot</a></span><span class='op'>(</span>formula <span class='op'>=</span> <span class='va'>time</span> <span class='op'>~</span> <span class='va'>cleaner</span> <span class='op'>+</span> <span class='va'>type</span>,</span>
<span>           data <span class='op'>=</span> <span class='va'>poopdeck</span>,</span>
<span>           ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>150</span><span class='op'>)</span>,</span>
<span>           xlab <span class='op'>=</span> <span class='st'>"Cleaner"</span>,</span>
<span>           ylab <span class='op'>=</span> <span class='st'>"Cleaning Time (minutes)"</span>,</span>
<span>           main <span class='op'>=</span> <span class='st'>"poopdeck data"</span>,</span>
<span>           back.col <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grDevices/gray.html'>gray</a></span><span class='op'>(</span><span class='fl'>.97</span><span class='op'>)</span>, </span>
<span>           cap.beans <span class='op'>=</span> <span class='cn'>TRUE</span>, </span>
<span>           theme <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="linear_files/figure-html5/unnamed-chunk-65-1.png" width="624" /></p>
</div>
<p>In the <code>poopdeck</code> dataset, 2 species and 3 cleaning agents give us 2 x 3 blocks with observations. This full-factorial between-subjects ANOVAs are the <strong>standard</strong> ANOVAs.</p>
<p>Using those data, we can use ANOVA to answer four separate questions:</p>
<table>
<colgroup>
<col style="width: 34%" />
<col style="width: 34%" />
<col style="width: 30%" />
</colgroup>
<thead>
<tr class="header">
<th>Question</th>
<th>Analysis</th>
<th>Formula</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Is there a difference between the different cleaning agents on the cleaning time (ignoring poop type)?</td>
<td>One way ANOVA</td>
<td><code>time ~ cleaner</code></td>
</tr>
<tr class="even">
<td>Is there a difference between the different poop types on cleaning time (ignoring which cleaning agent is used)</td>
<td>One-way ANOVA</td>
<td><code>time ~ type</code></td>
</tr>
<tr class="odd">
<td>Is there a <em>unique</em> effect of the cleaning agent or poop types on cleaning time?</td>
<td>Two-way ANOVA</td>
<td><code>time ~ cleaner + type</code></td>
</tr>
<tr class="even">
<td>Does the effect of cleaning agent depend on the poop type?</td>
<td>Two-way ANOVA with <em>interaction</em> term</td>
<td><code>time ~ cleaner * type</code></td>
</tr>
</tbody>
</table>
<p><strong>Concepts</strong></p>
<p>As we mentioned, ANOVA stands for analysis of <strong>variance</strong>. It may sound like a strange name to give to a test that you use to find differences in <strong>means</strong>, not differences in <strong>variances</strong>. However, ANOVA actually uses variances to determine whether or not there are real differences in the means of groups. Specifically, it looks at how variable data are within groups and compares that to the variability of data between groups. If the <strong>between-group variance</strong> is large compared to the <strong>within-group variance</strong>, the ANOVA will conclude that the groups <strong>differ</strong> in their means. If the <strong>between-group variance</strong> is small compared to the <strong>within-group variance</strong>, the ANOVA will conclude that the groups are all the <strong>same</strong>.</p>
<p><img src="Figures/ns-anova.png" /></p>
<p><em>ANOVA compares the variability between groups (i.e.; the differences in the group means) to the variability within groups (i.e.; how much individuals generally differ from each other). If the variability between groups is small compared to the variability between groups, ANOVA will return a non-significant result – suggesting that the groups are not really different. If the variability between groups is large compared to the variability within groups, ANOVA will return a significant result – indicating that the groups are really different.</em></p>
<p>A standard ANOVA can be summarized in 4 steps:</p>
<ol type="1">
<li>Create an ANOVA object using the <code>aov</code> function. In the <code>aov</code> function, specify the independent and dependent variable(s) with a formula with the format <code>y ~ x1 + x2</code> where y is the dependent variable, and x1, x2 … are one (more more) factor independent variables. The function <code>aov</code> combines <code>lm</code> and <code>anova</code> functions together.</li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Step 1: Create an aov object</span></span>
<span><span class='va'>mod.aov</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/aov.html'>aov</a></span><span class='op'>(</span>formula <span class='op'>=</span> <span class='va'>y</span> <span class='op'>~</span> <span class='va'>x1</span> <span class='op'>+</span> <span class='va'>x2</span> <span class='op'>+</span> <span class='va'>...</span>, data <span class='op'>=</span> <span class='va'>data</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Create a summary ANOVA table by applying the <code>summary</code> function to the ANOVA object you created in Step 1.</li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Step 2: Look at a summary of the aov object</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>mod.aov</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<ol start="3" type="1">
<li>If necessary, calculate post-hoc tests by applying a post-hoc testing function like <code>TukeyHSD</code> to the ANOVA object you created in Step 1.</li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Step 3: Calculate post-hoc tests</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/stats/TukeyHSD.html'>TukeyHSD</a></span><span class='op'>(</span><span class='va'>mod.aov</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>4.If necessary, interpret the nature of the group differences by going back to a linear regression object using <code>lm</code> using the same arguments you used in the <code>aov</code> function in Step 1.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Step 4: Look at coefficients</span></span>
<span><span class='va'>mod.lm</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span>formula <span class='op'>=</span> <span class='va'>y</span> <span class='op'>~</span> <span class='va'>x1</span> <span class='op'>+</span> <span class='va'>x2</span> <span class='op'>+</span> <span class='va'>...</span>, data <span class='op'>=</span> <span class='va'>data</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>mod.lm</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h4 id="one-way-anova">One-way ANOVA</h4>
<p>We’ll set cleaning <code>time</code> as the dependent variable and the <code>cleaner</code> agent type as the independent variable. We can represent the data as follow, which help at examining the group we are comparing:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/yarrr/man/pirateplot.html'>pirateplot</a></span><span class='op'>(</span><span class='va'>time</span> <span class='op'>~</span> <span class='va'>cleaner</span>, </span>
<span>                  data <span class='op'>=</span> <span class='va'>poopdeck</span>, </span>
<span>                  theme <span class='op'>=</span> <span class='fl'>2</span>, </span>
<span>                  cap.beans <span class='op'>=</span> <span class='cn'>TRUE</span>,</span>
<span>                  main <span class='op'>=</span> <span class='st'>"formula = time ~ cleaner"</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="linear_files/figure-html5/unnamed-chunk-70-1.png" width="624" /></p>
</div>
<p>Just from the plot, it is obvious that the cleaning agents <code>a</code> and <code>b</code> are about the same, and it looks a little bit faster when using the cleaning agent <code>c</code>. This is just visual. To test it, we will create an ANOVA object with <code>aov</code>. Because time is the dependent variable and cleaner is the independent variable, we’ll set the formula to <code>formula = time ~ cleaner</code>. Our hypotheses are the following: <strong><em>H_0</em></strong>, no difference in time between cleaning agents | <strong><em>H_1</em></strong>, at least one difference in time between cleaning agents.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Step 1: aov object with time as DV and cleaner as IV</span></span>
<span><span class='va'>cleaner.aov</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/aov.html'>aov</a></span><span class='op'>(</span>formula <span class='op'>=</span> <span class='va'>time</span> <span class='op'>~</span> <span class='va'>cleaner</span>, data <span class='op'>=</span> <span class='va'>poopdeck</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Now, to see a full ANOVA summary table of the ANOVA object, apply the <code>summary</code> to the ANOVA object from Step 1:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Step 2: Look at the summary of the anova object</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>cleaner.aov</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>             Df Sum Sq Mean Sq F value  Pr(&gt;F)   
cleaner       2   6057    3028   5.294 0.00526 **
Residuals   597 341511     572                   
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
</div>
<p>The main result from our anova table is that we have a significant effect of cleaner on cleaning time. <strong><em>H_0</em></strong> is rejected and we accept <strong><em>H_1</em></strong>. The results of an ANOVA are usually reported as following. F(2, 597) = 5.29, p = 0.005. Carefully examine the degrees of freedom, they tell you a lot about your data set!</p>
<p>However, the ANOVA table does not tell us which levels of the independent variable differ. In other words, we don’t know which cleaning agent is better than which ones. To answer this, we need to conduct a <strong>post-hoc</strong> test.</p>
<p>If you’ve found a significant effect of a factor, you can then do <strong>post-hoc</strong> tests to test the difference between all pairs of levels of the independent variable. There are many types of <strong>pairwise comparisons</strong> that rely on different assumptions. One of the most common post-hoc tests for standard ANOVAs is the Tukey <strong>Honestly Significant Difference (HSD)</strong> test. See <code>library('multcomp')</code> for other common alternatives. To do an HSD test, apply the <code>TukeyHSD</code> function to your ANOVA object as follows:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Step 3: Conduct post-hoc tests</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/stats/TukeyHSD.html'>TukeyHSD</a></span><span class='op'>(</span><span class='va'>cleaner.aov</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>  Tukey multiple comparisons of means
    95% family-wise confidence level

Fit: aov(formula = time ~ cleaner, data = poopdeck)

$cleaner
     diff        lwr        upr     p adj
b-a -0.42  -6.039575  5.1995746 0.9831441
c-a -6.94 -12.559575 -1.3204254 0.0107324
c-b -6.52 -12.139575 -0.9004254 0.0180906</code></pre>
</div>
<p>This table shows us the pair-wise differences between each group pair. The <code>diff</code> column shows us the <strong>mean differences between groups</strong> (of course, identical to what we found in the summary of a regression object), a <strong>confidence interval</strong> for the difference, and a <strong>p-value</strong> testing the null hypothesis that the group differences are not different.</p>
<p>it is always helpful to combine an <strong>ANOVA summary</strong> table with a <strong>regression summary</strong> table. Because ANOVA is just a special case of regression (where all the independent variables are factors), you’ll get the same results with a regression object as you will with an ANOVA object. However, the format of the results are different and frequently easier to interpret using an ANOVA tables.</p>
<p>To create a regression object, go back to a <code>lm</code> function.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Step 4: Create a regression object</span></span>
<span><span class='va'>cleaner.lm</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span>formula <span class='op'>=</span> <span class='va'>time</span> <span class='op'>~</span> <span class='va'>cleaner</span>, data <span class='op'>=</span> <span class='va'>poopdeck</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>cleaner.lm</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>
Call:
lm(formula = time ~ cleaner, data = poopdeck)

Residuals:
   Min     1Q Median     3Q    Max 
-63.02 -16.60  -1.05  16.92  71.92 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   66.020      1.691  39.037  &lt; 2e-16 ***
cleanerb      -0.420      2.392  -0.176  0.86066    
cleanerc      -6.940      2.392  -2.902  0.00385 ** 
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 23.92 on 597 degrees of freedom
Multiple R-squared:  0.01743,   Adjusted R-squared:  0.01413 
F-statistic: 5.294 on 2 and 597 DF,  p-value: 0.005261</code></pre>
</div>
<p>As you can see, the regression table does not give us tests for each variable like the ANOVA table does. Instead, it tells us how different each level of an independent variable is from a default value. You can tell which value of an independent variable is the default variable just by seeing which value is missing from the table. In this case, I don’t see a coefficient for cleaning agent <code>a</code>, so that must be the default value.</p>
<p>The intercept in the table tells us the mean of the default value. In this case, the mean time of cleaner a was <strong>66.02</strong>. The coefficients for the other levels tell us that cleaner b is, on average <strong>0.42</strong> minutes faster than cleaner a, and cleaner c is on average <strong>6.94</strong> minutes faster than cleaner a. Not surprisingly, these are the same differences we saw in the Tukey HSD test!</p>
<h4 id="two-way-anova">Two-way ANOVA</h4>
<p>To conduct a two-way ANOVA (or more), just include additional independent variables in the regression model formula with the <code>+</code> sign as we did earlier in our regression models. That’s it. All the steps are the same. Let’s conduct a two-way ANOVA with both <code>cleaner</code> and <code>type</code> as independent variables. To do this, we’ll set <code>formula = time ~ cleaner + type</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Step 1: aov object with time as DV and cleaner and type as IV</span></span>
<span><span class='va'>cleaner.type.aov</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/aov.html'>aov</a></span><span class='op'>(</span>formula <span class='op'>=</span> <span class='va'>time</span> <span class='op'>~</span> <span class='va'>cleaner</span> <span class='op'>+</span> <span class='va'>type</span>, data <span class='op'>=</span> <span class='va'>poopdeck</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Step 2: Get ANOVA table with summary()</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>cleaner.type.aov</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>             Df Sum Sq Mean Sq F value  Pr(&gt;F)    
cleaner       2   6057    3028   6.945 0.00104 ** 
type          1  81620   81620 187.177 &lt; 2e-16 ***
Residuals   596 259891     436                    
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
</div>
<p>It looks like we found significant effects of both independent variables.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Step 3: Conduct post-hoc tests</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/stats/TukeyHSD.html'>TukeyHSD</a></span><span class='op'>(</span><span class='va'>cleaner.type.aov</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>  Tukey multiple comparisons of means
    95% family-wise confidence level

Fit: aov(formula = time ~ cleaner + type, data = poopdeck)

$cleaner
     diff        lwr       upr     p adj
b-a -0.42  -5.326395  4.486395 0.9779465
c-a -6.94 -11.846395 -2.033605 0.0027112
c-b -6.52 -11.426395 -1.613605 0.0053376

$type
                 diff      lwr      upr p adj
shark-parrot 23.32667 19.97811 26.67522     0</code></pre>
</div>
<p>The only non-significant group difference we found is between cleaner b and cleaner a. All other comparisons were significant.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Step 4: Look at regression coefficients</span></span>
<span><span class='va'>cleaner.type.lm</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span>formula <span class='op'>=</span> <span class='va'>time</span> <span class='op'>~</span> <span class='va'>cleaner</span> <span class='op'>+</span> <span class='va'>type</span>, data <span class='op'>=</span> <span class='va'>poopdeck</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>cleaner.type.lm</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>
Call:
lm(formula = time ~ cleaner + type, data = poopdeck)

Residuals:
    Min      1Q  Median      3Q     Max 
-59.743 -13.792  -0.683  13.583  83.583 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   54.357      1.705  31.881  &lt; 2e-16 ***
cleanerb      -0.420      2.088  -0.201 0.840665    
cleanerc      -6.940      2.088  -3.323 0.000944 ***
typeshark     23.327      1.705  13.681  &lt; 2e-16 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 20.88 on 596 degrees of freedom
Multiple R-squared:  0.2523,    Adjusted R-squared:  0.2485 
F-statistic: 67.02 on 3 and 596 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<p>Now we need to interpret the results in respect to two default values (here, cleaning agent = <code>a</code> and type = <code>parrot</code>). The intercept means that the average time for cleaning agent <code>a</code> on <code>parrot</code> poop was 54.36 minutes. Additionally, the average time to clean <code>shark</code> poop was 23.33 minutes slower than when cleaning <code>parrot</code> poop.</p>
<p><strong>Interactions</strong></p>
<p>Adding an interaction term in your regression model can be important, but you need to carefully think if it is justified and what you could expect about it. Interactions between variables test whether or not the effect of one variable depends on another variable. For example, we could use an interaction to answer the question: <em>Does the effect of cleaning agent depend on the type of poop they are used to clean?</em> To include interaction terms in an ANOVA, just use an asterix (<code>*</code>) instead of the plus (<code>+</code>) between the terms in your formula. Note that when you include an interaction term in a regression object, R will automatically include the main effects as well.</p>
<p>Let’s repeat our previous ANOVA with two independent variables, but now we’ll include the interaction between cleaning agent and poop type. To do this, we’ll set the formula to <code>time ~ cleaner * type</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Step 1: Create ANOVA object with interactions</span></span>
<span><span class='va'>cleaner.type.int.aov</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/aov.html'>aov</a></span><span class='op'>(</span>formula <span class='op'>=</span> <span class='va'>time</span> <span class='op'>~</span> <span class='va'>cleaner</span> <span class='op'>*</span> <span class='va'>type</span>, data <span class='op'>=</span> <span class='va'>poopdeck</span><span class='op'>)</span></span>
<span><span class='co'># Step 2: Look at summary table</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>cleaner.type.int.aov</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>              Df Sum Sq Mean Sq F value   Pr(&gt;F)    
cleaner        2   6057    3028   7.824 0.000443 ***
type           1  81620   81620 210.863  &lt; 2e-16 ***
cleaner:type   2  29968   14984  38.710  &lt; 2e-16 ***
Residuals    594 229923     387                     
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
</div>
<p>Looks like we did indeed find a significant interaction between cleaner and type. In other words, the effectiveness of a cleaner depends on the type of poop it’s being applied to. This makes sense given our plot of the data at the beginning of the chapter.</p>
<p>To understand the nature of the difference, we’ll look at the regression coefficients from a regression object:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Step 4: Calculate regression coefficients</span></span>
<span><span class='va'>cleaner.type.int.lm</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span>formula <span class='op'>=</span> <span class='va'>time</span> <span class='op'>~</span> <span class='va'>cleaner</span> <span class='op'>*</span> <span class='va'>type</span>, data <span class='op'>=</span> <span class='va'>poopdeck</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>cleaner.type.int.lm</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>
Call:
lm(formula = time ~ cleaner * type, data = poopdeck)

Residuals:
   Min     1Q Median     3Q    Max 
-54.28 -12.83  -0.08  12.29  74.87 

Coefficients:
                   Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)          45.760      1.967  23.259  &lt; 2e-16 ***
cleanerb              8.060      2.782   2.897 0.003908 ** 
cleanerc             10.370      2.782   3.727 0.000212 ***
typeshark            40.520      2.782  14.563  &lt; 2e-16 ***
cleanerb:typeshark  -16.960      3.935  -4.310 1.91e-05 ***
cleanerc:typeshark  -34.620      3.935  -8.798  &lt; 2e-16 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 19.67 on 594 degrees of freedom
Multiple R-squared:  0.3385,    Adjusted R-squared:  0.3329 
F-statistic: 60.79 on 5 and 594 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<p>Again, to interpret this table, we first need to know what the default values are. We can tell this from the coefficients that are ‘missing’ from the table. Because you don’t see terms for <code>cleanera</code> or <code>typeparrot</code>, this means that cleaning agent <code>a</code> and <code>parrot</code> poop type are the defaults. Again, we can interpret the coefficients as differences between a level and the default. It looks like for <code>parrot</code> poop, cleaning agents <code>b</code> and <code>c</code> both take more time than agent <code>a</code> (the default). Additionally, <code>shark</code> poop tends to take much longer than <code>parrot</code> poop to clean (the estimate for <code>typeshark</code> is positive).</p>
<p>The interaction terms tell us how the effect of <code>cleaner</code> changes when one is cleaning shark poop. The negative estimate (-16.96) for <code>cleanerb:typeshark</code> means that cleaner b is, on average 16.96 minutes <code>faster</code> when cleaning shark poop compared to parrot poop. Because the previous estimate for the cleaning agent <code>b</code> (for <code>parrot</code> poop) was just 8.06, this suggests that the efficacy of the cleaner <code>b</code> is less than agent <code>a</code> on <code>parrot</code> poop, but higher than agent <code>a</code> on <code>shark</code> poop. Same thing for cleaner <code>c</code> which simply has stronger effects in both directions.</p>
<p>You can see, it becomes quickly much more complicated to interpret. Therefore you should carefully think if interactions are justified (literature, understanding, etc). The package <code>interaction</code> provides several functions that can help at looking at the coefficients and to interpret in a more easy way the results.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://interactions.jacob-long.com/reference/cat_plot.html'>cat_plot</a></span><span class='op'>(</span><span class='va'>cleaner.type.int.lm</span>, pred <span class='op'>=</span> <span class='va'>cleaner</span>, modx <span class='op'>=</span> <span class='va'>type</span>, interval <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="linear_files/figure-html5/unnamed-chunk-81-1.png" width="624" /></p>
</div>
<h3 id="type-i-ii-and-iii-anovas">Type I, II, and III ANOVAs</h3>
<p><a href="https://besjournals.onlinelibrary.wiley.com/doi/pdf/10.1111/j.1365-2656.2009.01634.x" class="uri">https://besjournals.onlinelibrary.wiley.com/doi/pdf/10.1111/j.1365-2656.2009.01634.x</a></p>
<p>It turns out that there is not just one way to calculate ANOVAs. In fact, there are three different types - called, Type 1, 2, and 3 (or Type I, II and III). These types differ in how they calculate variability (specifically the <strong>sums of of squares</strong>). If your data is relatively <strong>BALANCED</strong>, meaning that there are relatively equal numbers of observations in each group, then all three types will give you the same answer. However, if your data are <strong>UNBALANCED</strong>, meaning that some groups of data have many more observations than others, then you need to use Type II or Type III. The <strong>ANCOVA</strong> model is an exception where this issue must be considered.</p>
<p>The standard <code>aov</code> function in <code>base</code> package uses <strong>Type I</strong> sums of squares. Therefore, it is appropriate when your data are <strong>BALANCED</strong>. If your data are <strong>UNBALANCED</strong>, you should consider an ANOVA with Type II or Type III sums of squares. To do this, you can use the <code>Anova</code> function in the <code>car</code> package. The <code>Anova</code> function has an argument called type that allows you to specify the type of ANOVA you want to calculate.</p>
<p>First, create a regression object with <code>lm</code>. As you’ll see, the <code>Anova</code> function requires you to enter a regression object as the main argument, and not a formula and dataset. That is, you need to first create a regression object from the data with <code>lm</code> (or <code>glm</code>), and then enter that object into the <code>Anova</code> function.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Step 1: Calculate regression object with lm()</span></span>
<span><span class='va'>time.lm</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span>formula <span class='op'>=</span> <span class='va'>time</span> <span class='op'>~</span> <span class='va'>type</span> <span class='op'>+</span> <span class='va'>cleaner</span>, data <span class='op'>=</span> <span class='va'>poopdeck</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Now that I’ve created the regression object <code>time.lm</code>, I can calculate the three different types of ANOVAs by entering the object as the main argument to either <code>aov</code> for a Type I ANOVA, or <code>Anova</code> in the <code>car</code> package for a Type I, II, or III ANOVA:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Type I ANOVA - aov()</span></span>
<span><span class='va'>time.I.aov</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/aov.html'>aov</a></span><span class='op'>(</span><span class='va'>time.lm</span><span class='op'>)</span></span>
<span><span class='co'># or anova(time.lm)</span></span>
<span></span>
<span><span class='co'># Type II ANOVA - Anova(type = 2)</span></span>
<span><span class='va'>time.II.aov</span> <span class='op'>&lt;-</span> <span class='fu'>car</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/car/man/Anova.html'>Anova</a></span><span class='op'>(</span><span class='va'>time.lm</span>, type <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># Type III ANOVA - Anova(type = 3)</span></span>
<span><span class='va'>time.III.aov</span> <span class='op'>&lt;-</span> <span class='fu'>car</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/car/man/Anova.html'>Anova</a></span><span class='op'>(</span><span class='va'>time.lm</span>, type <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>As it happens, the data in the <code>poopdeck</code> dataframe are perfectly balanced (so we’ll get exactly the same result for each ANOVA type. However, if they were not balanced, then we should not use the Type I ANOVA calculated with the <code>aov</code> function.</p>
<p>To see if your data are balanced, you can use the function:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Are observations in the poopdeck data balanced?</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/with.html'>with</a></span><span class='op'>(</span><span class='va'>poopdeck</span>, <span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>cleaner</span>, <span class='va'>type</span><span class='op'>)</span><span class='op'>)</span> </span></code></pre>
</div>
<pre><code>       type
cleaner parrot shark
      a    100   100
      b    100   100
      c    100   100</code></pre>
</div>
<p>As you can see, in the <code>poopdeck</code> data set, the observations are perfectly balanced (see previously the justifcation for <strong>full-factorial, between-subjects ANOVAs</strong>) , so it doesn’t matter which type of ANOVA we use to analyze the data.</p>
<p>This is very important to consider if you data are balanced when performing an ANOVA. For more detail on the different types, check out <a href="https://mcfromnz.wordpress.com/2011/03/02/anova-type-iiiiii-ss-explained/">here</a> for a techincal discussion. Also check <a href="https://besjournals.onlinelibrary.wiley.com/doi/pdf/10.1111/j.1365-2656.2009.01634.x">Hector et al. (2010)</a> for a discussion on the topic in the field of ecology and evolution.</p>
<p><strong>A quick summary</strong>
<img src="Figures/anova-type.png" /></p>
<h3 id="additional-information-and-assumption">Additional information and assumption</h3>
<p>You can get a lot of interesting information from ANOVA objects. To see everything that’s stored in one ANOVA, run <code>names</code> on an ANOVA object. For example, here’s what’s in our last ANOVA object (note the <code>contrasts</code> that may be important to know when applying Type II, or III ANOVA):</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>cleaner.type.int.aov</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code> [1] &quot;coefficients&quot;  &quot;residuals&quot;     &quot;effects&quot;       &quot;rank&quot;         
 [5] &quot;fitted.values&quot; &quot;assign&quot;        &quot;qr&quot;            &quot;df.residual&quot;  
 [9] &quot;contrasts&quot;     &quot;xlevels&quot;       &quot;call&quot;          &quot;terms&quot;        
[13] &quot;model&quot;        </code></pre>
</div>
<p>For example, the <code>fitted.values</code> contains the model fits for the dependent variable (<code>time</code>) for every observation in our dataset. We can add these fits back to the dataset. For example, let’s get the model fitted values from both the interaction model (<code>cleaner.type.aov</code>) and the non-interaction model (<code>cleaner.type.int.aov</code>) and assign them to new columns in our dataframe:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>poopdeck</span><span class='op'>$</span><span class='va'>int.fit</span> <span class='op'>&lt;-</span> <span class='va'>cleaner.type.int.aov</span><span class='op'>$</span><span class='va'>fitted.values</span></span>
<span><span class='va'>poopdeck</span><span class='op'>$</span><span class='va'>me.fit</span> <span class='op'>&lt;-</span> <span class='va'>cleaner.type.aov</span><span class='op'>$</span><span class='va'>fitted.values</span></span></code></pre>
</div>
</div>
<p>Now, we can calculate how far each model’s fits were from the true data as follows:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='va'>poopdeck</span><span class='op'>$</span><span class='va'>int.fit</span> <span class='op'>-</span> <span class='va'>poopdeck</span><span class='op'>$</span><span class='va'>time</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] 15.35173</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='va'>poopdeck</span><span class='op'>$</span><span class='va'>me.fit</span> <span class='op'>-</span> <span class='va'>poopdeck</span><span class='op'>$</span><span class='va'>time</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] 16.5351</code></pre>
</div>
<p>As you can see, the <strong>interaction model</strong> was off from the data by <code>15.35</code> minutes on average, while the <strong>main effects model</strong> was off from the data by <code>16.54</code> on average. This is not surprising as the interaction model is more complex than the main effects only model. However, be careful, just because the interaction model is better at fitting the data doesn’t necessarily mean that the interaction is either meaningful or reliable.</p>
<h4 id="model-assumptions">Model assumptions</h4>
<p>Line in a <code>lm</code>, rhe <code>residuals</code> are available in your anova object. We previously saw how to examine graphically those residuals for <strong>normality</strong> and <strong>homoscedasticity</strong>. Let’s test them here from our anova object:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/stats/shapiro.test.html'>shapiro.test</a></span><span class='op'>(</span><span class='va'>cleaner.type.int.aov</span><span class='op'>$</span><span class='va'>residuals</span><span class='op'>)</span> <span class='co'># test our residuals vs a normal distribution</span></span></code></pre>
</div>
<pre><code>
    Shapiro-Wilk normality test

data:  cleaner.type.int.aov$residuals
W = 0.99641, p-value = 0.1962</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/stats/bartlett.test.html'>bartlett.test</a></span><span class='op'>(</span><span class='va'>cleaner.type.int.aov</span><span class='op'>$</span><span class='va'>residuals</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/interaction.html'>interaction</a></span><span class='op'>(</span><span class='va'>cleaner</span>, <span class='va'>type</span><span class='op'>)</span>, data <span class='op'>=</span> <span class='va'>poopdeck</span><span class='op'>)</span> <span class='co'># test variance of our residuals in the different groups.</span></span></code></pre>
</div>
<pre><code>
    Bartlett test of homogeneity of variances

data:  cleaner.type.int.aov$residuals by interaction(cleaner, type)
Bartlett&#39;s K-squared = 7.3232, df = 5, p-value = 0.1977</code></pre>
</div>
<p>The null hypothesis of <strong>normal distribution</strong> and <strong>homoscedasticity</strong> are accepted: there is no significant difference (p &gt; 0.05) from a normal distribution and no significant heterogeneity</p>
<h4 id="transformations">Transformations</h4>
<p>Remember, checking the assumptions of regression models is critical to look at possible issues in our models. Here also, the response variable can be transformed in order to:</p>
<ul>
<li><p><strong>stabilize</strong> the variance (e.g. log transformation such as <code>log(Petal.Width)</code> in our <code>lm</code>) - data not normally distributed around their average</p></li>
<li><p><strong>accomodate</strong> strictly positive variable such as by using other Box-Cox transformations</p></li>
</ul>
<p>Below is a linear model equation where the original dependent variable <span class="math inline">\(y\)</span>, has been natural log transformed. That is, the natural log has been taken of each individual value of <span class="math inline">\(y\)</span> and that is being used as the dependent variable.</p>
<p><span class="math display">\[ln(y_i) = \beta_0 + \beta_1x_1 + \beta_1x_1 + \beta_2x_2 + ... + \epsilon_i\]</span>
The linear model with the log transformation is providing an equation for an individual value of ln(y). We could also write it as follows, where we are modeling the mean of <span class="math inline">\(ln(y)\)</span> (note the error term is no longer present):</p>
<p><span class="math display">\[\mu_{ln(y)} = \beta_0 + \beta_1x_1 + \beta_1x_1 + \beta_2x_2 + ... \]</span>
This makes the difference a bit clearer. When we transform the data in a linear model, we are no longer claiming that <span class="math inline">\(y\)</span> is normally distributed around a mean, given the <span class="math inline">\(x\)</span> values — we are claiming that our new outcome variable, <span class="math inline">\(ln(y_i)\)</span>, is normally distributed.</p>
<p>This topic is extensively cover in online documentation in order for your model to meet the assumptions of normality and homoscedasticity. In addition, a violation of these assumption may originate because your data simply does not belong to a Gaussian family</p>
<h1 id="distribution">Distribution</h1>
<p>Here is a brief summary of the data distributions you might encounter most often (especially in ecology):</p>
<ul>
<li><p>Gaussian - <strong>Continuous</strong> data (<strong>normal</strong> distribution and <strong>homoscedasticity</strong> assumed)</p></li>
<li><p>Poisson - <strong>Count</strong> abundance data (integer values, <strong>zero-inflated</strong> data, <strong>left-skewed</strong> data)</p></li>
<li><p>Binomial - <strong>Binary</strong> variables (TRUE/FALSE, 0/1, presence/absence data)</p></li>
</ul>
<p>Choosing the right <strong>family</strong> for your analysis is important and should you should think carefully about it before building your model. It could be frustrating to spend tons of time running models, plotting their results and writing them up only to realize that all along you should have used <em>e.g.</em> a Poisson distribution instead of a Gaussian one.</p>
<p><img src="Figures/distribution.png" /></p>
<p><strong>Generalized linear models (GLM)</strong> — and generalized linear mixed models —are called generalized linear because they connect a model’s outcome to its predictors in a linear way. The function used to make this connection is called a link function. Link functions sounds like an exotic term, but they’re actually much simpler than they sound.</p>
<p>For example, <strong>Poisson regression</strong> (commonly used for outcomes that are counts) makes use of a natural log link function as follows:</p>
<p><span class="math display">\[ln(\mu_y) = \beta_0 + \beta_1x_1 + \beta_1x_1 + \beta_2x_2 + ...\]</span></p>
<p>Clearly, there is not a direct linear relationship of the <span class="math inline">\(x\)</span> variables to the average count, but there is a “sort of linear” relationship happening: a function of the mean of <span class="math inline">\(y\)</span> is related to a linear combination of <span class="math inline">\(x\)</span> variables. In other words, the linear model has now been generalized to a bigger type of situation.</p>
<p>This can lead to confusion, though, because on the surface it looks very similar to what happens when we transform the dependent variable in a linear model, like a linear regression as previously mentioned</p>
<p>The key thing to understand is that the <strong>natural log link function</strong> is a function of the <strong>mean of <span class="math inline">\(y\)</span></strong>, not the <strong><span class="math inline">\(y\)</span> values</strong> themselves as previously mentioned</p>
<p><strong>General linear model</strong> met all the assumptions: normal distribution, homoscedasticity, etc. However, quite often in ecology and environmental science that is not the case and then we use different data distributions. Here we will talk about <strong>Poisson</strong> and <strong>binomial</strong> distribution. To use them, we need to run <strong>generalised linear models</strong> using the function <code>glm</code>.</p>
<h2 id="example">Example</h2>
<p>Import the data set <strong>AWARD</strong>: number of awards earned by students at one high school. Predictors of the number of awards earned include the type of program in which the student was enrolled (e.g., vocational, general or academic) and the score on their final exam in math.</p>
<p>In this example, <code>num_awards</code> is the outcome variable and indicates the number of awards earned by students at a high school in a year, <code>math</code> is a continuous predictor variable and represents students’ scores on their math final exam, and <code>prog</code> is a categorical predictor variable with three levels indicating the type of program in which the students were enrolled. It is coded as 1 = “General”, 2 = “Academic” and 3 = “Vocational”. Let’s start with loading the data and looking at some descriptive statistics.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>AWARD</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='st'>"https://stats.idre.ucla.edu/stat/data/poisson_sim.csv"</span><span class='op'>)</span></span>
<span><span class='va'>AWARD</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/with.html'>within</a></span><span class='op'>(</span><span class='va'>AWARD</span>,<span class='op'>{</span></span>
<span>  <span class='va'>prog</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>prog</span>, levels<span class='op'>=</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, labels<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"General"</span>, <span class='st'>"Academic"</span>,<span class='st'>"Vocational"</span><span class='op'>)</span><span class='op'>)</span></span>
<span>  <span class='va'>id</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>id</span><span class='op'>)</span></span>
<span><span class='op'>}</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>AWARD</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>       id        num_awards           prog          math      
 1      :  1   Min.   :0.00   General   : 45   Min.   :33.00  
 2      :  1   1st Qu.:0.00   Academic  :105   1st Qu.:45.00  
 3      :  1   Median :0.00   Vocational: 50   Median :52.00  
 4      :  1   Mean   :0.63                    Mean   :52.65  
 5      :  1   3rd Qu.:1.00                    3rd Qu.:59.00  
 6      :  1   Max.   :6.00                    Max.   :75.00  
 (Other):194                                                  </code></pre>
</div>
<p>A conditional histogram separated out by program type is plotted to show the distribution.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>AWARD.hist</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>AWARD</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>num_awards</span>, fill<span class='op'>=</span><span class='va'>prog</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_histogram.html'>geom_histogram</a></span><span class='op'>(</span>binwidth <span class='op'>=</span> <span class='fl'>.5</span>,  position<span class='op'>=</span><span class='st'>"dodge"</span><span class='op'>)</span> </span>
<span></span>
<span><span class='va'>AWARD.hist</span></span></code></pre>
</div>
<p><img src="linear_files/figure-html5/unnamed-chunk-90-1.png" width="624" /></p>
</div>
<h3 id="analysis-methods-you-might-consider">Analysis methods you might consider</h3>
<p>Below is a list of some analysis methods you may have encountered. Some of the methods listed are quite reasonable, while others have either fallen out of favor or have limitations.</p>
<ul>
<li><p><strong>Poisson regression</strong> – Poisson regression is often used for modeling count data. Poisson regression has a number of extensions useful for count models.</p></li>
<li><p><strong>Negative binomial regression</strong> – Negative binomial regression can be used for over-dispersed count data, that is when the conditional variance exceeds the conditional mean. It can be considered as a generalization of Poisson regression since it has the same mean structure as Poisson regression and it has an extra parameter to model the over-dispersion. If the conditional distribution of the outcome variable is over-dispersed, the confidence intervals for coefficients in Negative binomial regression are likely to be wider as compared to those from a Poisson regression.</p></li>
<li><p><strong>Zero-inflated regression model</strong> – Zero-inflated models attempt to account for excess zeros. In other words, two kinds of zeros are thought to exist in the data, “true zeros” and “excess zeros”. Zero-inflated models estimate two equations simultaneously, one for the count model and one for the excess zeros.</p></li>
<li><p><strong>OLS regression</strong> – Count outcome variables are sometimes log-transformed and analyzed using OLS regression. Many issues arise with this approach, including loss of data due to undefined values generated by taking the log of zero (which is undefined) and biased estimates.</p></li>
</ul>
<h3 id="poisson-regression">Poisson regression</h3>
<p>At this point, we are ready to perform our Poisson model analysis using the glm function. We fit the model and store it in the object m1 and get a summary of the model at the same time.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>m1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/glm.html'>glm</a></span><span class='op'>(</span><span class='va'>num_awards</span> <span class='op'>~</span> <span class='va'>prog</span> <span class='op'>+</span> <span class='va'>math</span>, family<span class='op'>=</span><span class='st'>"poisson"</span>, data<span class='op'>=</span><span class='va'>AWARD</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>
Call:
glm(formula = num_awards ~ prog + math, family = &quot;poisson&quot;, data = AWARD)

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-2.2043  -0.8436  -0.5106   0.2558   2.6796  

Coefficients:
               Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)    -5.24712    0.65845  -7.969 1.60e-15 ***
progAcademic    1.08386    0.35825   3.025  0.00248 ** 
progVocational  0.36981    0.44107   0.838  0.40179    
math            0.07015    0.01060   6.619 3.63e-11 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

(Dispersion parameter for poisson family taken to be 1)

    Null deviance: 287.67  on 199  degrees of freedom
Residual deviance: 189.45  on 196  degrees of freedom
AIC: 373.5

Number of Fisher Scoring iterations: 6</code></pre>
</div>
<blockquote>
<p>Cameron and Trivedi (2009) recommended using robust standard errors for the parameter estimates to control for mild violation of the distribution assumption that the variance equals the mean. We use R package sandwich below to obtain the robust standard errors and calculated the p-values accordingly. Together with the p-values, we have also calculated the 95% confidence interval using the parameter estimates and their robust standard errors.</p>
</blockquote>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>cov.m1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://sandwich.R-Forge.R-project.org/reference/vcovHC.html'>vcovHC</a></span><span class='op'>(</span><span class='va'>m1</span>, type<span class='op'>=</span><span class='st'>"HC0"</span><span class='op'>)</span></span>
<span><span class='va'>std.err</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/diag.html'>diag</a></span><span class='op'>(</span><span class='va'>cov.m1</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='va'>r.est</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span><span class='op'>(</span>Estimate<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/coef.html'>coef</a></span><span class='op'>(</span><span class='va'>m1</span><span class='op'>)</span>, <span class='st'>"Robust SE"</span> <span class='op'>=</span> <span class='va'>std.err</span>,</span>
<span><span class='st'>"Pr(&gt;|z|)"</span> <span class='op'>=</span> <span class='fl'>2</span> <span class='op'>*</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>pnorm</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/coef.html'>coef</a></span><span class='op'>(</span><span class='va'>m1</span><span class='op'>)</span><span class='op'>/</span><span class='va'>std.err</span><span class='op'>)</span>, lower.tail<span class='op'>=</span><span class='cn'>FALSE</span><span class='op'>)</span>,</span>
<span>LL <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/coef.html'>coef</a></span><span class='op'>(</span><span class='va'>m1</span><span class='op'>)</span> <span class='op'>-</span> <span class='fl'>1.96</span> <span class='op'>*</span> <span class='va'>std.err</span>,</span>
<span>UL <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/coef.html'>coef</a></span><span class='op'>(</span><span class='va'>m1</span><span class='op'>)</span> <span class='op'>+</span> <span class='fl'>1.96</span> <span class='op'>*</span> <span class='va'>std.err</span><span class='op'>)</span></span>
<span><span class='va'>r.est</span></span></code></pre>
</div>
<pre><code>                 Estimate  Robust SE     Pr(&gt;|z|)          LL
(Intercept)    -5.2471244 0.64599839 4.566630e-16 -6.51328124
progAcademic    1.0838591 0.32104816 7.354745e-04  0.45460476
progVocational  0.3698092 0.40041731 3.557157e-01 -0.41500870
math            0.0701524 0.01043516 1.783975e-11  0.04969947
                        UL
(Intercept)    -3.98096756
progAcademic    1.71311353
progVocational  1.15462716
math            0.09060532</code></pre>
</div>
<p>Now let’s look at the output of function <code>glm</code> more closely.</p>
<ul>
<li><p>The output begins with echoing the function call. The information on deviance residuals is displayed next. Deviance residuals are approximately normally distributed if the model is specified correctly.In our example, it shows a little bit of skeweness since median is not quite zero.</p></li>
<li><p>Next come the Poisson regression coefficients for each of the variables along with the standard errors, z-scores, p-values and 95% confidence intervals for the coefficients. The coefficient for <code>math</code> is .07. This means that the expected log count for a one-unit increase in <code>math</code> is .07. The indicator variable <code>progAcademic</code> compares between <code>prog = “Academic”</code> and <code>prog = “General”</code>, the expected log count for prog = “Academic” increases by about 1.1. The indicator variable prog.Vocational is the expected difference in log count ((approx .37)) between <code>prog = “Vocational”</code> and the reference group (<code>prog = “General”</code>).</p></li>
<li><p>The information on deviance is also provided. We can use the residual deviance to perform a goodness of fit test for the overall model. The residual deviance is the difference between the deviance of the current model and the maximum deviance of the ideal model where the predicted values are identical to the observed. Therefore, if the residual difference is small enough, the goodness of fit test will not be significant, indicating that the model fits the data. We conclude that the model fits reasonably well because the goodness-of-fit chi-squared test is not statistically significant. If the test had been statistically significant, it would indicate that the data do not fit the model well. In that situation, we may try to determine if there are omitted predictor variables, if our linearity assumption holds and/or if there is an issue of over-dispersion.</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/with.html'>with</a></span><span class='op'>(</span><span class='va'>m1</span>, <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span><span class='op'>(</span>res.deviance <span class='op'>=</span> <span class='va'>deviance</span>, df <span class='op'>=</span> <span class='va'>df.residual</span>,</span>
<span>  AWARD <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Chisquare.html'>pchisq</a></span><span class='op'>(</span><span class='va'>deviance</span>, <span class='va'>df.residual</span>, lower.tail<span class='op'>=</span><span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>     res.deviance  df     AWARD
[1,]     189.4496 196 0.6182274</code></pre>
</div>
<p>Eventually, We can also graph the predicted number of events. The graph indicates that the most awards are predicted for those in the academic program (prog = 2), especially if the student has a high math score. The lowest number of predicted awards is for those students in the general program (prog = 1). The graph overlays the lines of expected values onto the actual points, although a small amount of random noise was added vertically to lessen overplotting.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>## calculate and store predicted values</span></span>
<span><span class='va'>AWARD</span><span class='op'>$</span><span class='va'>phat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>m1</span>, type<span class='op'>=</span><span class='st'>"response"</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>## order by program and then by math</span></span>
<span><span class='va'>AWARD</span> <span class='op'>&lt;-</span> <span class='va'>AWARD</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/with.html'>with</a></span><span class='op'>(</span><span class='va'>AWARD</span>, <span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span><span class='op'>(</span><span class='va'>prog</span>, <span class='va'>math</span><span class='op'>)</span><span class='op'>)</span>, <span class='op'>]</span></span>
<span></span>
<span><span class='co'>## create the plot</span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>AWARD</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>math</span>, y <span class='op'>=</span> <span class='va'>phat</span>, colour <span class='op'>=</span> <span class='va'>prog</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>num_awards</span><span class='op'>)</span>, alpha<span class='op'>=</span><span class='fl'>.5</span>, position<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/position_jitter.html'>position_jitter</a></span><span class='op'>(</span>h<span class='op'>=</span><span class='fl'>.2</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>"Math Score"</span>, y <span class='op'>=</span> <span class='st'>"Expected number of awards"</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="linear_files/figure-html5/unnamed-chunk-94-1.png" width="624" /></p>
</div>
<h2 id="binomial-distribution">Binomial distribution</h2>
<p>We will now work this the <code>Weevil_damage</code>. We can examine if damage to Scot’s pine by weevils (a binary, <code>TRUE</code>/<code>FALSE</code> variable) varies based on the block in which the trees are located. You can imagine that different blocks represent different Scot’s pine populations, and perhaps some of them will be particularly vulnerable to weevils? Because of the binary nature of the response variable (true or false), a binomial model is appropriate here.</p>
<p><img src="Figures/weevils.jpg" /></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>Weevil_damage</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='st'>"Data/Weevil_damage.csv"</span><span class='op'>)</span></span>
<span><span class='va'>Weevil_damage</span><span class='op'>$</span><span class='va'>block</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='va'>Weevil_damage</span><span class='op'>$</span><span class='va'>block</span><span class='op'>)</span> <span class='co'># Making block a factor</span></span>
<span><span class='va'>weevil.m</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/glm.html'>glm</a></span><span class='op'>(</span><span class='va'>damage_T_F</span> <span class='op'>~</span> <span class='va'>block</span>, family <span class='op'>=</span> <span class='va'>binomial</span>, data <span class='op'>=</span> <span class='va'>Weevil_damage</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>weevil.m</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>
Call:
glm(formula = damage_T_F ~ block, family = binomial, data = Weevil_damage)

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-2.1686   0.4474   0.6156   0.8906   0.9005  

Coefficients:
            Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)   1.5672     0.2041   7.677 1.63e-14 ***
block2       -0.8471     0.2621  -3.232 0.001230 ** 
block3        0.6841     0.3328   2.056 0.039802 *  
block4       -0.8740     0.2617  -3.340 0.000837 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 728.25  on 671  degrees of freedom
Residual deviance: 686.56  on 668  degrees of freedom
AIC: 694.56

Number of Fisher Scoring iterations: 4</code></pre>
</div>
<p>The probability of a pine tree enduring damage from weevils does vary significantly based on the block in which the tree was located.</p>
<p>You won’t get a R squared value to assess the goodness of fit of your model, but you can get at that by looking at the difference between the Null deviance (variability explained by a null model, <em>e.g.</em> <code>glm(damage_T_F ~ 1, family = binomial, data = Weevil_damage)</code> and the Residual deviance as explained above, <em>e.g.</em> the amount of variability that remains after you’ve explained some away by your explanatory variable. In short, the bigger the reduction in deviance, the better a job your model is doing at explaining a relationship.</p>
<h1 id="random-effects">Random Effects</h1>
<p>A <strong>random effect</strong> can be used in the case of <strong>paired data</strong> or <strong>repeated measures</strong>. As an example, if we are measuring the <strong>length</strong> of several <strong>individual</strong> plants, the measurements are paired within each individual. That is, we want to statistically match the length at different days of one individual, since we supposed we may have difference in the initial length and therefore different growth. Therefore, in this case, the variable ‘individual’ must be include in the model as a random variable. Often, we want to disregard the effect of this random factor (e.g. individual difference) to focus on another one (e.g. growth itself). Each Individual could be thought of has a block including a measurement for the length.</p>
<p>The concept of random variables is not always easy to get, so it is okay to not completely understand the full concept at this point (just think at something that can be influential but you want to ignore). Whether a variable should be considered a <strong>fixed</strong> or <strong>random</strong> variable will also depend on the interpretation of the person doing the analysis, adding sometime one layer of subjectivity.</p>
<p><strong>Mixed effects models</strong></p>
<p>When a model includes both fixed effects and random effects, it is called a <em>mixed effects model</em>.</p>
<p>For more complex models, specifying random effects can become difficult. Random effects can be <strong>crossed</strong> with one another or can be <strong>nested</strong> within one another. Also, <strong>correlation structures</strong> for the random effects can be specified. However, here, we will just keep it simple using an example with our <code>rairuoho</code> data set.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>rairuoho</span><span class='op'>$</span><span class='va'>ID</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>rownames</a></span><span class='op'>(</span><span class='va'>rairuoho</span><span class='op'>)</span></span>
<span><span class='va'>rai</span><span class='op'>&lt;-</span><span class='va'>rairuoho</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://tidyr.tidyverse.org/reference/pivot_longer.html'>pivot_longer</a></span><span class='op'>(</span><span class='va'>day3</span><span class='op'>:</span><span class='va'>day8</span>, names_to <span class='op'>=</span> <span class='st'>"day"</span>, values_to <span class='op'>=</span> <span class='st'>"length"</span><span class='op'>)</span></span>
<span><span class='va'>rai</span><span class='op'>$</span><span class='va'>day</span><span class='op'>&lt;-</span><span class='fu'><a href='https://readr.tidyverse.org/reference/parse_number.html'>parse_number</a></span><span class='op'>(</span><span class='va'>rai</span><span class='op'>$</span><span class='va'>day</span><span class='op'>)</span></span>
<span><span class='va'>rai</span></span></code></pre>
</div>
<pre><code># A tibble: 288 × 10
   germinate bed    treatment spatial1 spatial2   row column ID   
       &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;    &lt;int&gt;  &lt;int&gt; &lt;chr&gt;
 1        18 paper4 nutrient  upper    left         1      1 1    
 2        18 paper4 nutrient  upper    left         1      1 1    
 3        18 paper4 nutrient  upper    left         1      1 1    
 4        18 paper4 nutrient  upper    left         1      1 1    
 5        18 paper4 nutrient  upper    left         1      1 1    
 6        18 paper4 nutrient  upper    left         1      1 1    
 7        19 mould1 nutrient  upper    left         2      1 2    
 8        19 mould1 nutrient  upper    left         2      1 2    
 9        19 mould1 nutrient  upper    left         2      1 2    
10        19 mould1 nutrient  upper    left         2      1 2    
# ℹ 278 more rows
# ℹ 2 more variables: day &lt;dbl&gt;, length &lt;int&gt;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>rai</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>day</span>, y <span class='op'>=</span> <span class='va'>length</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>breaks <span class='op'>=</span> <span class='fl'>0</span><span class='op'>:</span><span class='fl'>9</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>ID</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="linear_files/figure-html5/unnamed-chunk-96-1.png" width="624" /></p>
</div>
<p>We want to examine the length of the plant (<span class="math inline">\(y\)</span>) as a function of the day (<span class="math inline">\(x\)</span>). In this case, the initial size of the plant varies. It become obvious that the growth of each pant should be examined individually.</p>
<p>One way to construct a mixed effects model for interval/ratio data is with the function <code>lmer</code> from the package <code>lme4</code> package. However you will not get the <strong>p-value</strong> of the overall model, because you need to carefully think on how to extract this information because of the complexity of the input you can have.</p>
<p>Notice the grammar in the <a href="https://psyteachr.github.io/stat-models-v1/introducing-linear-mixed-effects-models.html"><code>lmer</code></a> function that defines the model: the term <code>(1|Individual)</code> is added to the model to indicate that <code>Individual</code> is the random term.</p>
<p>As a technical note, the 1 indicates that an intercept is to be fitted for each level of the random variable. As another technical note, <code>REML</code> stands for restricted maximum likelihood. It is a method of fitting the model, and is often considered better than fitting with a conventional ML (maximum likelihood) method.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>lmer.rai</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/pkg/lme4/man/lmer.html'>lmer</a></span><span class='op'>(</span><span class='va'>length</span> <span class='op'>~</span> <span class='va'>day</span> <span class='op'>+</span> <span class='op'>(</span><span class='fl'>1</span><span class='op'>|</span><span class='va'>ID</span><span class='op'>)</span>, data<span class='op'>=</span><span class='va'>rai</span>, REML<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span> <span class='co'># REML default</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>lmer.rai</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite&#39;s method [
lmerModLmerTest]
Formula: length ~ day + (1 | ID)
   Data: rai

REML criterion at convergence: 2219.4

Scaled residuals: 
     Min       1Q   Median       3Q      Max 
-2.45069 -0.66336 -0.00108  0.68279  2.41821 

Random effects:
 Groups   Name        Variance Std.Dev.
 ID       (Intercept) 77.23    8.788   
 Residual             98.81    9.940   
Number of obs: 288, groups:  ID, 48

Fixed effects:
            Estimate Std. Error      df t value Pr(&gt;|t|)    
(Intercept)  -62.578      2.347 226.509  -26.66   &lt;2e-16 ***
day           21.994      0.343 239.000   64.13   &lt;2e-16 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Correlation of Fixed Effects:
    (Intr)
day -0.804</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>newdata</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://tidyr.tidyverse.org/reference/expand.html'>crossing</a></span><span class='op'>(</span>ID <span class='op'>=</span> <span class='va'>rai</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/pull.html'>pull</a></span><span class='op'>(</span><span class='va'>ID</span><span class='op'>)</span>,</span>
<span>  day <span class='op'>=</span> <span class='fl'>3</span><span class='op'>:</span><span class='fl'>8</span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>newdata</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code># A tibble: 6 × 2
  ID      day
  &lt;chr&gt; &lt;int&gt;
1 1         3
2 1         4
3 1         5
4 1         6
5 1         7
6 1         8</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>newdata2</span> <span class='op'>&lt;-</span> <span class='va'>newdata</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>lmer.rai</span>, <span class='va'>newdata</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># plot</span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>rai</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>day</span>, y <span class='op'>=</span> <span class='va'>length</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>newdata2</span>,</span>
<span>            color <span class='op'>=</span> <span class='st'>'blue'</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>breaks <span class='op'>=</span> <span class='fl'>0</span><span class='op'>:</span><span class='fl'>7</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>ID</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='st'>"Length"</span>, x <span class='op'>=</span> <span class='st'>"Days"</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="linear_files/figure-html5/unnamed-chunk-97-1.png" width="624" /></p>
</div>
<p>One way to extract the p-value is by using the <code>lmerTest</code> package to produce an analysis of variance with <em>p</em>-values for model effects.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/stats/anova.html'>anova</a></span><span class='op'>(</span><span class='va'>lmer.rai</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>Type III Analysis of Variance Table with Satterthwaite&#39;s method
    Sum Sq Mean Sq NumDF DenDF F value    Pr(&gt;F)    
day 406340  406340     1   239  4112.4 &lt; 2.2e-16 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
</div>
<p>The <code>rand</code> function from the <code>lmerTest</code> package will test the random effects in the model</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/lmerTest/man/ranova.html'>rand</a></span><span class='op'>(</span><span class='va'>lmer.rai</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>ANOVA-like table for random-effects: Single term deletions

Model:
length ~ day + (1 | ID)
         npar  logLik    AIC    LRT Df Pr(&gt;Chisq)    
&lt;none&gt;      4 -1109.7 2227.4                         
(1 | ID)    3 -1150.5 2307.1 81.694  1  &lt; 2.2e-16 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
</div>
<p>The <code>lmerTest</code> package is used to produce an analysis of variance with p-values for model effects. However, in our case, a simple linear regression with a random factor, we can also use another function to extract the p-value from our model and after using another function for mixed model: <code>lme</code> form the package <code>nlme</code>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>lme.rai</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/nlme/man/lme.html'>lme</a></span><span class='op'>(</span><span class='va'>length</span> <span class='op'>~</span> <span class='va'>day</span>, random<span class='op'>=</span><span class='op'>~</span><span class='fl'>1</span><span class='op'>|</span><span class='va'>ID</span>, data<span class='op'>=</span><span class='va'>rai</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>lme.rai</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>Linear mixed-effects model fit by REML
  Data: rai 
       AIC      BIC    logLik
  2227.398 2242.022 -1109.699

Random effects:
 Formula: ~1 | ID
        (Intercept) Residual
StdDev:    8.788108 9.940262

Fixed effects:  length ~ day 
                Value Std.Error  DF   t-value p-value
(Intercept) -62.57837 2.3474146 239 -26.65842       0
day          21.99405 0.3429716 239  64.12790       0
 Correlation: 
    (Intr)
day -0.804

Standardized Within-Group Residuals:
         Min           Q1          Med           Q3          Max 
-2.450692248 -0.663363308 -0.001084166  0.682786502  2.418207934 

Number of Observations: 288
Number of Groups: 48 </code></pre>
</div>
<p>Notice the grammar in the <code>lme</code> function that defines the model is slightly different form the previous example: the option <code>random = ~1|ID</code> is added to the model to indicate that <code>ID</code> is the random term.</p>
<p>Here, the random effects in the model can be tested by comparing the model to a model fitted with just the fixed effects and excluding the random effects.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>lm.rai</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>length</span> <span class='op'>~</span> <span class='va'>day</span>, data<span class='op'>=</span> <span class='va'>rai</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/stats/anova.html'>anova</a></span> <span class='op'>(</span><span class='va'>lme.rai</span>, <span class='va'>lm.rai</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>        Model df      AIC      BIC    logLik   Test  L.Ratio p-value
lme.rai     1  4 2227.398 2242.022 -1109.699                        
lm.rai      2  3 2307.092 2318.060 -1150.546 1 vs 2 81.69417  &lt;.0001</code></pre>
</div>
<p>Compare with <code>rand</code> output: that’s the same</p>
<p><strong>Random Intercept and slope model</strong></p>
<p>The “~1” specifies the random intercept and “Day|ID” would allow the slope to vary among individuals. Despite our model would probably need it, it starts to be much more advanced. You may find entire book on mixed effect model in R.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
<h3 id="reuse">Reuse</h3>
<p>Text and figures are licensed under Creative Commons Attribution <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. The figures that have been reused from other sources don't fall under this license and can be recognized by a note in their caption: "Figure from ...".</p>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
